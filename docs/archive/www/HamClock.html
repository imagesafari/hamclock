<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">

    <link rel="stylesheet" href="jquery-ui/jquery-ui.min.css">
    <script src="jquery-ui/jquery-3.2.1.min.js"></script>
    <script src="jquery-ui/jquery-ui.min.js"></script>

    <title>HamClock</title>

    <style>

        body {
            background-color: #404040;
            font-family: Verdana, sans-serif;
            font-size: 11pt;
            line-height: 1.3em;
        }

        a, a:link, a:visited {
            color: #4F4;
        }

        h2 {
            text-indent: 100px;
            color:white;
        }

        p {
            margin-top: 9px;
            color: white;
            max-width: 1000px;
        }

        code {
            font-size: 100%;
            color: #eebbbb;
            font-family: monospace;
        }

        pre {
            margin-bottom: 10px;
            font-size: 100%;
            color: #eebbbb;
            font-family: monospace;
        }

        li {
            margin: 3px;
            margin-top: 7px;
            color:white;
            padding-bottom: 5px;
            max-width: 1000px;
        }

        ul {
            margin: 0px;
            margin-bottom: 5px;
        }

        ol {
            margin: 10px;
        }

        td {
            vertical-align:top;
            color:white;
        }

        th {
            vertical-align:top;
            color:white;
        }

        img {
            padding: 2px;
        }

        .big-indent {
            margin-left: 40px
        }

        .mono {
            font-size: 110%;
            color: #c5c5ff;
            font-family: monospace;
        }


        .pfaq {
            margin-top: 4px;
            margin-left: 30px;
        }

        .pic-table {
            border: 8px inset gray;
            padding: 10px;
            margin: 10px;
            background-color: #505050;
        }

        .news {
            overflow:auto;
            max-height:350px;
            border: 8px inset gray;
            background: #333;
        }

        .annoyed {
            color: #FF3333;
            font-size: 110%;
        }

        .ui-tabs {
            color: white;
            background-color: #505050;
            font-family: Verdana, sans-serif;
        }

        .ui-tabs-panel {
            color: white;
            background-color: #505050;
            font-family: Verdana, sans-serif;
            height: 800px;
            overflow: auto;
        }

        .ui-accordion-header {
            max-width: 1100px;
        }

        .ui-accordion-content {
            background-color: #505050;
            font-family: Verdana, sans-serif;
        }

        .bigp {
            margin-top:60px;
            color:white;
            font-size: 125%;
            font-weight: bold;
        }

        .alert {
            color: #FF3333;
            # font-size: 120%;
            font-weight: bold;
        }

        .blinking {
            animation:blinkingText 1.0s infinite;
        }
        @keyframes blinkingText  {
            0%{     color: #F22;    }
            79%{    color: #F22; }
            89%{    color: transparent; }
            99%{    color:transparent;  }
            100%{   color: #F22;    }
        }


    </style>

    <script>

        // draw hamlib_canvas
        function drawHamlib() {

            var cvs = document.getElementById('hamlib_canvas');
            var ctx = cvs.getContext('2d');
            var w = cvs.width;
            var h = cvs.height;

            ctx.font = "11pt Verdana";

            const gw = w/14;            // grid unit width
            const gh = h/9;             // grid unit height
            const bw = 2*gw;            // box width
            const bh = 2*gh;            // box height

            // boxes
            ctx.fillStyle = "#027ffe";
            ctx.strokeStyle = "#027ffe";
            ctx.fillRect (1*gw,  3*gh, bw, bh);
            ctx.fillRect (6*gw,  1*gh, bw, bh);
            ctx.fillRect (6*gw,  5*gh, bw, bh);
            ctx.fillRect (11*gw, 1*gh, bw, bh);
            ctx.fillRect (11*gw, 5*gh, bw, bh);

            // box names

            ctx.fillStyle = "white";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText ("Client app", 2*gw, 4*gh);
            ctx.fillText ("rigctld", 7*gw, 2*gh);
            ctx.fillText ("radio", 12*gw, 2*gh);
            ctx.fillText ("rotctld", 7*gw, 6*gh);
            ctx.fillText ("rotator", 12*gw, 6*gh);

            // connectors
            ctx.lineWidth = 3;
            ctx.beginPath();
                ctx.moveTo (3*gw, 4*gh);
                ctx.lineTo (6*gw, 2*gh);
                ctx.moveTo (8*gw, 2*gh);
                ctx.lineTo (11*gw, 2*gh);
                ctx.moveTo (3*gw, 4*gh);
                ctx.lineTo (6*gw, 6*gh);
                ctx.moveTo (8*gw, 6*gh);
                ctx.lineTo (11*gw, 6*gh);
            ctx.stroke();

            ctx.fillStyle = "white";
            ctx.textAlign = "center";
            ctx.textBaseline = "top";
            ctx.fillText ("Device independent", 4.5*gw, 7*gh);
            ctx.fillText ("Network protocol", 4.5*gw, 8*gh);
            ctx.fillText ("Device dependent", 9.5*gw, 7*gh);
            ctx.fillText ("Serial protocol", 9.5*gw, 8*gh);

            ctx.font = "9pt Verdana";
            ctx.textAlign = "right";
            ctx.textBaseline = "bottom";
            ctx.fillText ("port 4532", 6*gw-10, 2*gh);
            ctx.textBaseline = "top";
            ctx.fillText ("port 4533", 6*gw-10, 6*gh);
        }

        // one-time load function
        $( function() {

            // init tabs
            $( "#tabs" ).tabs();

            // common accordion settings
            const acc_sets = {
                heightStyle: "content",
                collapsible: true,
                active: false,
            };

            // init accordions
            $( "#accordion-faq" ).accordion(acc_sets);
            $( "#accordion-faq" ).accordion({ activate: drawHamlib });
            $( "#accordion-contrib" ).accordion(acc_sets);
            $( "#accordion-desktop" ).accordion(acc_sets);
            $( "#accordion-esp" ).accordion(acc_sets);

            // number the faq accordion titles
            var fh3 = document.querySelectorAll(".accordion-faq-h3");
            for (let i = 0; i < fh3.length; i++) {
                fh3[i].innerHTML = fh3[i].innerHTML.replace ('</span>', '</span> &nbsp;' + (i+1) + '.&nbsp;');
            };

            // number the user-contrib accordion titles
            var ch3 = document.querySelectorAll(".accordion-contrib-h3");
            for (let i = 0; i < ch3.length; i++) {
                ch3[i].innerHTML = ch3[i].innerHTML.replace ('</span>', '</span> &nbsp;' + (i+1) + '.&nbsp;');
            };

        });
    </script>

</head>
<body>

<center>


<table>
    <tr>
        <td>
            <table class='pic-table' >
                <tr> <td width='800'>
                    <p>
                    This is a live read-only HamClock running in demo mode on my web server.
                    <p>

                    <iframe src="https://clearskyinstitute.com/hamclock-live/live.html"
                            width='800' height='480' style="border:none;">
                    </iframe>

                </td></tr>
            </table>
        </td>
        <td>
            <p style='text-align:center' >HamClock</p>
            <p>
            HamClock is a kiosk-style application that provides real time space weather, radio
            propagation models, operating events and other information particularly useful to the
            radio amateur.
            HamClock was introduced in my October 2017
            <a target="_blank" href='https://clearskyinstitute.com/ham/HamClock/QST-HamClock.pdf'>QST article</a>
            and continues to be maintained and expanded.

            <p>
            For quick start on Raspberry Pi or other UNIX-like operating systems see the Desktop tab below.
            The User Guide tab provides detailed operating instructions.
            Explore the additional tabs for further supporting information.

            <p>
            <i>
                <a target="_blank" href='https://ham.stackexchange.com/questions/345/why-do-hams-often-conclude-messages-with-73'>73,</a>
            </i>
            <a target="_blank" href='mailto:ecdowney@clearskyinstitute.com?subject=HamClock'>Elwood Downey</a>,
            <a target='_blank' href="/ham">WB&Oslash;OEW</a>

            <div class='news' >
            <div >
            <b>News highlights:</b> See the complete version history in the Download tab and
            details in the User Guide.
            </div>

            <ul>
                <li>
                    add new call sign menu to set desired rig PTT message or alternate title
                </li>
                <li>
                    support more On The Air organizations such as WWFF</li>
                </li>
                <li>
                    hamlib and flrig now poll PTT to control ON THE AIR message</li>
                </li>
            </ul>
            <p>
                Now available as a <b>turn-key system</b> from:
                <ul>
                    <li>
                        <a target="_blank" href='https://www.veritiumhfclock.com'> Veritium Research</a>
                            rebranded as HFClock, direct or in Europe from
                            <a target="_blank" href="https://www.lutz-electronics.ch/stationaer/geraetezubehoer/hfclock/">Lutz Electronics</a>
                    </li>
                </ul>

            </div>


            <!--  real-time message

            <center>
            <p class='blinking'>
            SDO data have not been updated since Nov 26 because of a
            <a target="_blank" href="https://sdo.gsfc.nasa.gov/">water main break in their server room</a>.
            </p>
            <center>

             -->

            <!-- load plot
            <p>
            <div style='text-align:center' >
                <img src='daylynid.png'>
            </div>
            -->



        </td>
    </tr>
</table>

<!-- -------------------------
<p class="annoyed">
READ THIS:

<p>
If you install HamClock using someone else's instructions and are having problems,
go back to them for help, don't come to me to fix it.
If you don't find success, completely undo everything they told you to do and start over
using my instructions here. <i>Then</i> if you have problems, I'm happy to help.
<p>
Please understand there are now over four <i>thousand</i> HamClocks the world over.
That's great, but more and more people are following bogus instructions on other
websites and the impact on my time to troubleshoot is getting to be too much.
So please, come here for all things HamClock.
<p>
Thank you.

---------------------------- -->

</center>
<p>

<div id="tabs">

    <ul>
        <li><a href='#tab-article'>QST</a></li>
        <li><a href='#tab-download'>Download</a></li>
        <li><a href='#tab-faq'>FAQ</a></li>
        <li><a href='#tab-contrib'>User Contrib</a></li>
        <li><a href='#tab-esp'>ESP8266 Notes</a></li>
        <li><a href='#tab-credits'>Credits</a></li>
        <li><a href='#tab-key'>User Guide</a></li>
        <li><a href='#tab-desktop'>Desktop</a></li>
    </ul>

    <div id='tab-article'>
        <a target='_blank' href='QST-HamClock.pdf'>Original QST Article proof</a>

        <p>
        Corrections:
        <ul>
            <li>There is a typo in Table 1. The RA8875 costs $35, not $5.  </li>
            <li>There is a typo in Figure 2. The 33K resistor should be 330K.  </li>
            <li>Also in Figure 2, sometimes pin A0 is labeled ADC.</li>
        </ul>

    </div>    <!-- tab-article -->

    <div id='tab-download' >

        <p></p>
        Download current stable HamClock release source code as
            <a target='_blank' href='ESPHamClock.zip'>zip</a>
        or
            <a target='_blank' href='ESPHamClock.tgz'>tgz</a>.

        <p></p>
        Revision history:
        <p></p>

        Version 4.12: 2025-01-01

        <ul>
            <li>fix: WSJT-X parser was broken</li>
        </ul>

        Version 4.11: 2024-12-30

        <ul>
            <li>new: add planning tool to find when satellite is up for both DE and DX</li>
            <li>new: add watch list filters for sub-band modes and against ADIF file</li>
            <li>new: add support for N1MM and DXLog UDP DE-spotted packets</li>
            <li>new: add option to rotate between showing call sign and title</li>
            <li>new: add options to sort ADIF list by band or call</li>
            <li>change: DX Cluster pane only lists newest spot on a given band</li>
            <li>change: enforce upper case call sign</li>
            <li>fix: clicking within tall left pane could still trigger sat name on map</li>
            <li>fix: better timezone retrying after network error</li>
            <li>fix: possible fix for getNVMaidenhead invalid 79</li>
        </ul>

        Version 4.10: 2024-11-30

        <ul>
            <li>new: tap CPU temperature (if available) for hour and day history graph</li>
            <li>new: add British Units option to report C, hPa and mi/hr</li>
            <li>new: add more control options to the Setup page 6 color editor </li>
            <li>new: mousing over Live Spots bands marks each farthest spot on map</li>
            <li>new: mousing over SDO or Moon panes marks sun or moon on map</li>
            <li>new: add support for rigctld --vfo</li>
            <li>new: screen location and size are saved and restored (X11 only?)</li>
            <li>change: spots scrolling no longer jumps to front on new arrivals</li>
            <li>fix: fb0 startup print caused crash and change to 16 bit default </li>
            <li>fix: PTT message was not editable when using just the GPIO PTT line</li>
            <li>fix: updating time could recurse if coincided with network error</li>
            <li>fix: downloading cities list could cause fatal error</li>
            <li>fix: exiting menu with malformed watch list could cause fatal error</li>
            <li>fix: do not draw DE-DX path when very close together</li>
            <li>fix: DX Cluster and On The Air Bio settings were not persistent</li>
            <li>fix: possible fix for getNVMaidenhead invalid 78</li>
        </ul>

        Version 4.09: 2024-10-27

        <ul>
            <li>new: mousing over panes with spots marks them on map and shows info</li>
            <li>new: can now select an online bio service to open when tapping a spot </li>
            <li>new: add call sign menu to set any rig PTT message or alternate title</li>
            <li>new: add Setup option whether to command or just monitor radio</li>
            <li>change: combine POTA SOTA panes into one ON_THE_AIR and add WWFF</li>
            <li>fix: set_title did not cooperate with flrig/hamlib PTT ON AIR message</li>
            <li>fix: show more frequency significant figures where possible</li>
        </ul>

        Version 4.08: 2024-09-24

        <ul>
            <li>change: lengthen the DX Cluster command fields</li>
            <li>fix: Live Spots RBN could fail for certain conditions</li>
            <li>fix: DX Cluster could report 0s age for spots near midnight UTC</li>
            <li>fix: rigctld/rotctld/flrig could randomly turn On</li>
            <li>fix: demo mode failed when choosing VOACAP TOA or REL map style</li>
        </ul>

        Version 4.07: 2024-09-22

        <ul>
            <li>new: hamlib and flrig now poll PTT to control ON THE AIR</li>
            <li>new: automatically track Daylight Savings Time</li>
            <li>new: allow selecting several max DX Cluster spot ages</li>
            <li>new: show CPU temperature beneath call sign, if possible</li>
            <li>new: add Auto SpcWx option to turn on DRAP or Aurora map when active</li>
            <li>new: support direct GPS NMEA serial connection as another time source</li>
            <li>change: remove space weather ranking option, now just always on</li>
            <li>change: the Setup color editor now allows direct keyboard RGB entry </li>
            <li>change: lengthen the NTP and GPSD host fields</li>
            <li>change: remove wifi creds from Setup for all systems except fb0</li>
            <li>change: VOACAP DE-DX TOA/REL maps now independent and persistent</li>
            <li>fix: DX Cluster connection could break after first disconnect</li>
            <li>fix: time zone resolution improved from 50 miles to 500 ft </li>
            <li>fix: watch-list states were not persistent across restart</li>
            <li>fix: tweak vertical text centering in listing panes</li>
            <li>fix: Done button on Setup page 7 was broken</li>
            <li>fix: failed cty download could cause fast retry loop</li>
            <li>fix: main stopwatch icon could be On if alarm time before Now</li>
            <li>fix: FreeBSD 14.1 lint</li>
        </ul>

        Version 4.06: 2024-08-03

        <ul>
            <li>change: longer POTA/SOTA watch lists and ADIF file name</li>
            <li>fix: better error message when SOTA or POTA feeds are down</li>
            <li>fix: invalid ADIF file name could cause crash</li>
        </ul>

        Version 4.05: 2024-08-01

        <ul>
            <li>new: the ADIF file name can now be edited in the pane menu</li>
            <li>new: scroll controls show whether Red watch list spots are out of view</li>
            <li>fix: DX Cluster pane failed if last spot aged past 1 hour</li>
            <li>fix: allow an Off watch list to be empty</li>
            <li>fix: watch list editor broke when inserting into already-full buffer</li>
        </ul>


        Version 4.04: 2024-07-26

        <ul>
            <li>new: multiple background maps can now be selected to rotate </li>
            <li>new: add support for VE7CC CC DX cluster nodes </li>
            <li>new: DX Cluster, ADIF, SOTA and POTA now have separate watch lists </li>
            <li>new: watch lists can now be edited within their respective pane menus </li>
            <li>new: watch lists can now contain frequency ranges</li>
            <li>new: ADIF pane can now be sorted by age or distance</li>
            <li>new: Stopwatch daily alarm can now be either local or UTC timezone </li>
            <li>new: show count of live web connections beneath padlock </li>
            <li>new: can now select map or entire display be rendered in shades of gray </li>
            <li>change: Live Spots now looks throughout DE's 4 character grid for spots </li>
            <li>change: remove ADIF limit and show count of fails with details in log</li>
            <li>change: remove all scroll limits except Cluster spot age to 1 hour </li>
            <li>change: clicking anywhere outside a menu functions acts the same as Cancel </li>
            <li>change: version change list is now scrollable if too long to show all</li>
            <li>change: plotting now uses 6-character grid squares for improved accuracy </li>
            <li>change: give priority to spots over cities in cursor info table</li>
            <li>fix: usb-i2c, shutdown and reboot all broke after RPi OS upgrade </li>
            <li>fix: improve map downloading performance </li>
            <li>fix: SDO and Moon panes did not refresh after full screen init </li>
            <li>fix: remove liveweb read-only marker when not showing main page </li>
            <li>fix: remove city dots under cursor info box </li>
            <li>fix: some build sizes did not make room for 5-digit rigctl/flrig port  </li>
            <li>fix: BME readings were not saved properly while showing WiFi meter </li>
            <li>fix: DX Cluster pane can now be rotated same as other pane choices </li>
        </ul>

        Version 4.03: 2024-06-09

        <ul>
            <li>fix: POTA/SOTA panes were not updating automatically </li>
        </ul>

        Version 4.02: 2024-06-08

        <ul>
            <li>new: add real-time MUF_RT map style</li>
            <li>new: click Moon pane for option to open 360 degree movie </li>
            <li>change: DX shortcut key is now Control or Meta, not Shift or Caps-lock</li>
            <li>fix: VOACAP pane was not updated when changing DX</li>
            <li>fix: Live Spots pane was not updating automatically</li>
            <li>fix: possible crash when setting date format to DMY </li>
            <li>fix: widen Setup Lng field to hold 'W' at 1600x960, eg, for CN85 </li>
            <li>fix: remove map menu "busy" ok left visible over curved projections </li>
        </ul>

        Version 4.01: 2024-06-01

        <ul>
            <li>new: tap RSS box to open feed's main web page</li>
            <li>new: add option on Setup page 5 to select pane rotation periods</li>
            <li>new: add option on Setup page 5 whether to display public IP</li>
            <li>new: add RESTful command set_panzoom</li>
            <li>new: wifi meter tracks min and max RSSI since program started</li>
            <li>new: show marker below padlock when live web connection is read-only </li>
            <li>change: tap map with Button2 or Button1+shift to set DX without menu</li>
            <li>change: map popup reports current zoom factor, select any to change</li>
            <li>fix: address a rare issue with how alarms interacted with main page</li>
            <li>fix: show new DX/DE path even when zooming</li>
            <li>fix: better accommodation of custom DX cluster prompts</li>
        </ul>

        Version 4.00: 2024-05-11

        <span class='alert'> First release without support for ESP8266 </span>

        <ul>
            <li>new: add a one-time alarm facility (in addition to daily) </li>
            <li>new: click a Contest entry to set alarm or display its web page</li>
            <li>new: add watch list for POTA SOTA and ADIF (similar to DX cluster)</li>
            <li>new: add port 8082 for read-only Live web connections; change with -r </li>
            <li>change: click ADIF row to set DX, click file name to re-read</li>
            <li>change: RESTful set_touch?x&y must lie outside the map; remove hold </li>
            <li>change: last of the click-hold functions replaced by menus</li>
            <li>fix: use shorter temporary file names for encrypted file systems</li>
            <li>fix: ADIF now again shows up to 1000 file entries</li>
            <li>fix: do not modify DE TZ setting when using gpsd follow</li>
        </ul>

        Version 3.10: 2024-04-23

        <span class='alert'> Last release supporting ESP8266 </span>

        <ul>
            <li>fix: more combinations of space weather could cause a crash on ESP</li>
            <li>fix: dx cluster command on/off states not saved properly</li>
        </ul>

        Version 3.09: 2024-04-22
        <ul>
            <li>fix: handle a bogus dx cluster spot format that would cause a fatal error</li>
            <li>fix: certain combinations of space weather could cause a crash on ESP</li>
        </ul>

        Version 3.08: 2024-04-20
        <ul>
            <li>fix: crash if Contest pane is showing dates and "Scroll length?" is 25</li>
        </ul>

        Version 3.07: 2024-04-20
        <ul>
            <li>new: add Mercator pan and zoom and Robinson pan (not ESP)</li>
            <li>new: add saving and loading two color palettes plus pskreporter (not ESP)</li>
            <li>new: scrolling data panes may now be assigned to overlay DE+DX </li>
            <li>new: add data pane choice for 24 hour plot of Aurora chances</li>
            <li>new: add separate direct and web full screen Setup options</li>
            <li>new: alternately show public and local IP addresses</li>
            <li>change: DX Cluster only limits server connection rate (not user)</li>
            <li>change: DX Cluster is now allowed in Pane 1 if New DX Wx? is No</li>
            <li>change: Setup page 6 color values can be tapped to change by +- 1 </li>
            <li>fix: tap areas that open web pages now work from web view also</li>
            <li>fix: reduced jaggies in Robinson projection</li>
            <li>fix: pane rotation could stall when used with ranked space weather</li>
        </ul>

        Version 3.06: 2024-03-16
        <ul>
            <li>new: add option whether to sort space wx indices by greatest impact</li>
            <li>new: add option whether to temporarily show wx for new DX or DE</li>
            <li>new: add set_bmp RESTful command to load a bmp file into any pane</li>
            <li>new: DX Cluster watch list state may now be On, Off or Only </li>
            <li>change: add two mini-pages for more DX Cluster commands </li>
            <li>fix: improve extracting DX location and prefix from portable callsigns </li>
            <li>fix: RPi 5 GPIO and DSI 7" touchscreen fixes and disable setting WiFi </li>
            <li>fix: clicking after idle could engage full brightness instead of user max</li>
            <li>fix: VOACAP REL and TOA maps used Weather's scale if it was set as style</li>
            <li>fix: improve restarting via liveweb connection</li>
        </ul>

        Version 3.05: 2024-02-10
        <ul>
            <li>new: add Setup page 3 option to use OS for time instead of NTP</li>
            <li>new: add -p command line option to set passwords, see FAQ 52</li>
            <li>new: add support for WSJT-X multicast network addresses </li>
            <li>new: add support for true full screen in web view on most browsers</li>
            <li>change: replace Mollweide map projection with Robinson </li>
            <li>change: force entering Setup if any values are invalid</li>
            <li>fix: accept ~ in the ADIF file name as a shorthand for $HOME</li>
        </ul>

        Version 3.04: 2024-01-20
        <ul>
            <li>fix: incorrect enum caused buffer overrun</li>
        </ul>

        Version 3.03: 2024-01-20
        <ul>
            <li>new: DX Cluster pane now supports AR-Cluster nodes</li>
            <li>new: add Setup option to choose scrolling bottom-up or top-down</li>
            <li>new: add Setup option to choose number of unseen scrolling lines</li>
            <li>change: DX Cluster pane on ESP no longer plots or shows additional info</li>
            <li>fix: DX Cluster locations no longer use show/heading command</li>
            <li>fix: DX Cluster pane now updates spot ages even without new arrivals</li>
            <li>fix: RESTful set_newde did not accept callsign</li>
            <li>fix: -e and -w command line options would not accept -1 to disable</li>
        </ul>

        Version 3.02: 2024-01-02
        <ul>
            <li>new: IO changes to support USB-I2C bridge -- See User Guide pages 11-12</li>
            <li>new: add DX watch list</li>
            <li>new: add DX times to grayline planning tool</li>
            <li>new: VOACAP pane adds powers 5 50 and 500 W</li>
            <li>new: allow correcting time zone offsets by 15 or 30 minutes</li>
            <li>change: RESTful set_senscorr now also applies correction to live data</li>
            <li>change: DX Cluster login name must contain DE call</li>
            <li>change: DX Cluster logins are limited to a max of 10 per hour</li>
            <li>fix: certain labels could be drawn within RSS area</li>
            <li>fix: keyboard cursor control now works for fb0</li>
            <li>fix: RESTful set_rss?file was dropping last line</li>
        </ul>

        Version 3.01: 2023-10-14
        <ul>
            <li>new: ADIF pane lists and maps QSOs in file set on Setup page 3</li>
            <li>new: tap right half of VOACAP pane to show world map of TOA at DE</li>
            <li>change: keyboard cursor control now requires use of -y (see FAQ 49)</li>
            <li>change: remove Contest pane's menu, just tap center to toggle dates</li>
            <li>fix: malformed SOTA/POTA spots could draw labels outside the map area</li>
            <li>fix: ESP reduces RAM by enforcing max of 1 hi-mem pane with satellite</li>
            <li>fix: backwards time just turns on the big ? rather than being fatal</li>
        </ul>

        Version 3.00: 2023-09-16
        <ul>
            <li>new: add Mollweide equal-area map projection</li>
            <li>new: add Spot labels "Dots" option in Setup page 5</li>
            <li>new: add option in Contests pane to show date/time on a 2nd line</li>
            <li>change: split On The Air into separate independent POTA and SOTA panes</li>
            <li>change: all Spot panes and map markings now use Setup pg 6 band colors</li>
            <li>change: rename RESTful API set_mercenter to set_mapcenter</li>
            <li>fix: ensure screen is on at full brightness when posting a fatal error </li>
            <li>fix: post a fatal error if time ever runs backwards (!!)</li>
        </ul>

        Version 2.99: never released
        <ul>
        </ul>

        Version 2.98: never released
        <ul>
        </ul>

        Version 2.97: 2023-08-08
        <ul>
            <li>fix: multiple ENV choices in one pane did not rotate correctly</li>
        </ul>

        Version 2.96: 2023-08-05
        <ul>
            <li>new: add annotations to SDO pane (analogous to Moon pane)</li>
            <li>new: tap lower-left corner of SDO pane to show DE gray line timeline</li>
            <li>new: show time until next event below satellite name on map (not ESP)</li>
            <li>change: allow setting DE location from any clock style</li>
            <li>change: tweak DRAP scale marker</li>
            <li>fix: retry if satellite lookup fails</li>
            <li>fix: disable Pane 1 touches while showing the temporary WX</li>
            <li>fix: set live web ws/wss to match http/https protocol (tnx WK2X)</li>
            <li>fix: DE-DX path could be clipped incorrectly in Azim One projection</li>
        </ul>

        Version 2.95: 2023-07-08
        <ul>
            <li>new: show rotator azimuth beam on main map</li>
            <li>new: add set_rotator RESTful API, see FAQ 42 </li>
            <li>new: mark DRAP map scale with current maximum </li>
            <li>change: show over-map messages only if error (ESP still shows progress)</li>
            <li>fix: better noise immunity detecting whether photoresistor is installed</li>
            <li>fix: tweak pixel alignment in DX panel and map border</li>
            <li>fix: menus could interrupt map in mid draw</li>
        </ul>

        Version 2.94: 2023-06-25
        <ul>
            <li>new: add solar flux and sunspot number history graphs</li>
            <li>fix: update all DXCC VP8 to VP0 except Falkland Islands</li>
            <li>fix: sat display was corrupted if time disconnected or at certain uptimes</li>
        </ul>

        Version 2.93: 2023-06-09
        <ul>
            <li>new: add Solar magnetosphere Bz and Bt pane option</li>
            <li>new: add option to show next satellite rise/set times in Big Clock </li>
            <li>change: exchange SSN for Bz in Spc Wx summary panel</li>
            <li>change: roving weather shows local conditions instead of wind</li>
            <li>change: revisit DE analog clock face </li>
            <li>fix: RPi satellite LED now works while showing DX info and Big Clock </li>
            <li>fix: the label was misplaced when stopping the sat table early on ESP </li>
            <li>fix: Moon image not updated if it was the only option chosen for a pane</li>
        </ul>

        Version 2.92: 2023-05-13
        <ul>
            <li>new: roving cursor box now shows local weather stats </li>
            <li>new: added DE and DX weather options in NCDXF pane </li>
            <li>change: Live Spots age can now be set as short as 15 minutes</li>
            <li>change: Show Path? Setup option can now be set to No, Thin or Wide</li>
            <li>change: RPi ONAIR pin 40 now sets colors to white-on-red </li>
            <li>fix: dx cluster heartbeat now sends ping if no activity after 10 minutes </li>
            <li>fix: lat/lng reported to dx cluster could round the wrong direction</li>
            <li>fix: a grounded ESP ADC was falsely interpreted as a photoresistor</li>
            <li>fix: ensure dx spot labels are always on top of paths </li>
            <li>fix: Moon pane terminator not updated correctly after manual time change </li>
        </ul>

        Version 2.91: 2023-04-09
        <ul>
            <li>new: tweaks to support new web proxy, see User Contrib </li>
            <li>change: set_title and set_mapcolor RESTful API updates, see FAQ 42</li>
            <li>change: Show Paths Setup option moved to page 5</li>
            <li>change: Photo R no longer supports opposite display and room brightness</li>
            <li>fix: path thickness now decreases automatically with count </li>
        </ul>

        Version 2.90: 2023-03-25
        <ul>
            <li>new: add real-time Weather map style </li>
            <li>new: add sort options to the On-The-Air pane </li>
            <li>new: show how many more lines are available in pane scroll controls </li>
            <li>new: Setup now also allows setting DE using a grid locator </li>
            <li>new: add set_screenlock RESTful API command </li>
            <li>new: add -c option to disable all touch events from web interface </li>
            <li>change: rescind ability to automatically set DX from WSJT-X spots </li>
            <li>fix: clean up stray pixels that could appear in DX Cluster pane </li>
            <li>fix: reduce load on DX spider servers that run on RPi with microSD</li>
            <li>fix: use more efficient WebSocket for web interface </li>
        </ul>

        Version 2.89: 2023-02-25
        <ul>
            <li>new: add Pane choice to list upcoming weekend Contests </li>
            <li>new: add Pane choice to list real-time POTA or SOTA activators </li>
            <li>change: add more SDO images and consolidate into one Pane submenu </li>
            <li>change: remove STEREO-A Pane because it is nearing solar conjunction </li>
            <li>fix: ESP was erasing idle NCDXF beacons multiple times </li>
            <li>fix: incorrect 2^32 time rollover every 49 days (broken in V2.87) </li>
        </ul>

        Version 2.88: 2023-02-14
        <ul>
            <li>new: VOACAP pane mode may now be set to CW SSB AM WSPR FT8 or FT4 </li>
            <li>change: scale the allowed max satellite TLE age by period</li>
            <li>fix: brightness control could leave zombie processes </li>
        </ul>

        Version 2.87: 2023-02-02
        <ul>
            <li>new: add Reverse Beacon Network option to Live Spots</li>
            <li>new: add get_livespots.txt web RESTful API command (not ESP) </li>
            <li>fix: Big Clock AM/PM indicator did not change passing through noon </li>
        </ul>

        Version 2.86: 2022-12-25
        <ul>
            <li>new: Live Spots can report farthest spots and mark each band on map </li>
            <li>new: add more Setup options so most paths may be drawn dashed </li>
            <li>new: add get_livestats.txt and get_voacap.txt web commands </li>
            <li>change: live web interface moved to port 8081; see FAQ 14 and 42 </li>
            <li>change: DX-DE distance unit now uses Setup's Units instead of its own</li>
            <li>fix: live web now supports multiple browser windows from same IP address</li>
            <li>fix: improve gpsd response parsing </li>
            <li>fix: accommodate SWPC Planetray K data format change </li>
        </ul>

        Version 2.85: 2022-10-21
        <ul>
            <li>new: can now select Live Spots age up to 24 hours </li>
            <li>new: add "Set DX?" Setup option to reinstate setting DX from FT8 spots</li>
            <li>new: add calendar day labels and Setup option to start weeks on Monday</li>
            <li>change: simplify Setup prompts for WSJT </li>
            <li>change: increase menu and cursor fade timeouts to 30 seconds </li>
            <li>change: increase allowed dPres to accommodate larger MSL corrections </li>
            <li>change: cursor table for spots now shows age, not SNR</li>
        </ul>

        Version 2.84: 2022-09-17
        <ul>
            <li>new: add option to report magnetic or true bearings in Setup page 5 </li>
            <li>new: add Live Spots pane for ESP too (but still no map paths) </li>
            <li>new: add Setup option in page 6 to draw dashed satellite path </li>
            <li>new: add set_livespots web command </li>
            <li>change: can now also toggle VOACAP short/long path within its pane </li>
            <li>change: cursor table for spots shows bearing/distance, not lat/lng</li>
            <li>change: add small fisheye lens effect to center of Azim One projection</li>
            <li>fixed: silent NCDXF map symbols could cause gaps in grid and path lines </li>
            <li>fixed: minor tweaks to Live Spots </li>
        </ul>

        Version 2.83: 2022-09-04
        <ul>
            <li>new: add Live Spots _by_ DE (in addition to _of_ DE added in V2.81) </li>
            <li>new: cursor info table shows details of close Live or DX spot </li>
            <li>new: can now define each band path color in Setup </li>
            <li>change: wsjt-x ft8 spots no longer automatically set DX </li>
            <li>change: NCDXF beacons remain on as long as in rotation set </li>
        </ul>

        Version 2.82: 2022-08-29
        <ul>
            <li>fix: memory allocation error if no Live Spots</li>
        </ul>

        Version 2.81: 2022-08-27
        <ul>
            <li>new: add map grid options for azimuthal, CQ and ITU zones (not ESP) </li>
            <li>new: add map view option for single-globe azimuthal projection </li>
            <li>new: show PSKReporter or WSPR spots from DE call or grid (not ESP) </li>
            <li>new: can now select multiple rotation choices in NCDXF pane </li>
            <li>new: add button to clear DX cluster spot list </li>
            <li>new: add set_mercenter and set_mapcolor web commands </li>
            <li>change: Setup color control now uses RGB sliders instead of wheel </li>
            <li>change: replace web-only flag -x with new Makefile targets </li>
            <li>change: DX Cluster paths are now colored per band</li>
            <li>fix: change ESP Arduino IDE lwIP build option for better WAN performance </li>
            <li>fix: better mobile device web support</li>
        </ul>

        Version 2.80: 2022-07-15
        <ul>
            <li>new: menu below UTC for JD, MJD, DOY, Solar, Sidereal and UNIX time </li>
            <li>new: option to display Sidereal time in digital Big Clock </li>
            <li>new: add web commands set_time?change and set_auxtime (see FAQ) </li>
            <li>fixed: infinite recursion if sat never rises again after current pass </li>
        </ul>

        Version 2.79: 2022-06-18
        <ul>
            <li>fixed: 30% faster live web view performance </li>
            <li>fixed: DX pane sat times were not restored immediately after menu close </li>
        </ul>

        Version 2.78: 2022-05-22
        <ul>
            <li>new: live web interface -- see FAQ</li>
            <li>new: add option to enter up to 4 DX Cluster filter commands </li>
            <li>new: add option to draw DX Cluster spot paths on map (not ESP) </li>
            <li>new: add set_cluster web command </li>
            <li>new: Cluster pane retains some spot history accessed with scroll arrows </li>
            <li>change: absorb set_new{de/dx}grid into set_new{de/dx} web commands </li>
            <li>fixed: disallow Cluster on pane 1 to avoid disconnect during transient WX </li>
            <li>fixed: moved NCDXF beacon VE8AT to Inuvik, NWT, Canada </li>
        </ul>

        Version 2.77: 2022-04-17
        <ul>
            <li>new: can now choose BME280 env stats option in NCDXF pane </li>
            <li>new: can now set a DX Cluster login separate from call sign</li>
            <li>new: added hamlib's rigctld and w1hkj's flrig for DX cluster rig control </li>
            <li>new: added a GPSD option for continuous location update </li>
            <li>change: added atmospheric pressure and trend arrow to WX panes </li>
            <li>change: added sun rise and set times to annotated analog DE format </li>
            <li>change: use a menu to adjust time rather than screen hot spots </li>
            <li>change: rotator pane now shows axis angles graphically </li>
            <li>change: reorganized Setup pages </li>
            <li>change: DX Cluster connections now send set/nohere </li>
            <li>change: DX Cluster may not be used with other choices in same pane </li>
            <li>change: added timezone argument to set_newde/dx web commands</li>
            <li>change: moved get_stopwatch web command functionality into get_config </li>
            <li>fixed: accept "localhost" as a host name in Setup </li>
            <li>fixed: some LEDs not always turned off appropriately </li>
        </ul>

        Version 2.76: 2022-03-15
        <ul>
            <li>fixed: GPIO was not being detected correctly on RPi buster (bullseye ok) </li>
        </ul>

        Version 2.75: 2022-03-12
        <ul>
            <li>new: added control pane and setup for hamlib's rotctld </li>
            <li>change: disable DX and DE antipode map markers while showing a satellite </li>
            <li>change: WiFi RSSI threshold now -65 dBm </li>
            <li>fixed: display on/off control stopped working on some RPi with HDMI </li>
        </ul>

        Version 2.74: 2022-02-12
        <ul>
            <li>new: added key space weather stats option in NCDXF pane </li>
            <li>new: added several new options in Big Clock </li>
            <li>fixed: improved stability of WiFi RSSI readings and meter </li>
            <li>fixed: improved map names algorithm, and changed menu to Cities </li>
            <li>fixed: added timeout if gpsd daemon connects but has no signal </li>
            <li>fixed: restore missing Cluster Map? prompt in Setup page 2</li>
        </ul>

        Version 2.73: 2022-01-15
        <ul>
            <li>new: added a Setup option to choose DMY, MDY or YMD date formats </li>
            <li>new: added a real-time WiFi RSSI signal strength meter </li>
            <li>change: STEREO pane annotation now in red </li>
            <li>change: use a menu for options when DX pane shows satellite info </li>
            <li>change: thinner map scale bar </li>
            <li>change: reduce ESP map update rates to conserve FLASH write wear </li>
        </ul>

        Version 2.72: 2021-12-18
        <ul>
            <li>new: added Aurora probability map style </li>
            <li>change: show current map style in map view menu button </li>
        </ul>

        Version 2.71: 2021-12-11
        <ul>
            <li>new: added MUF, Maximum Useable Frequency, map style </li>
            <li>new: added web command set_defmt to set DE pane format </li>
            <li>change: RPi satellite GPIO blinks @ 10 Hz for one minute before setting </li>
            <li>change: added frequency column to VOACAP band conditions pane </li>
            <li>change: added more effects in Demo mode </li>
            <li>fixed: web command set_alarm had wrong attribute keyword </li>
            <li>fixed: DRAP pane processing could drop data </li>
            <li>fixed: dx spots could be drawn inside RSS box </li>
        </ul>

        Version 2.70: 2021-11-26
        <ul>
            <li>new: tap Moon pane to show EME planning tool between DE and DX </li>
            <li>new: added 12 and 24 hr digital formats for DE time </li>
            <li>new: tap VOACAP pane timeline to toggle between DE or UTC labels </li>
            <li>new: web command set_rss to display arbitrary text in RSS box -- see web FAQ</li>
            <li>change: all Big Clock options now in one convenient menu </li>
            <li>change: VOACAP graph is shifted so "now" is always in the left column</li>
            <li>change: DE and DX time zone offsets are now adjusted using a menu </li>
            <li>change: web command get_sensors.txt takes fresh reading each time </li>
            <li>fixed: RPi Bullseye release changed DSI display brightness control </li>
            <li>fixed: dx cluster was not restored properly if enter shutdown then resume </li>
            <li>fixed: accommodate manditory URL encodings as of curl version 7.78</li>
            <li>fixed: remove redundant Grid option "None" from map View menu </li>
        </ul>


        Version 2.69: 2021-10-16
        <ul>
            <li>new: added a 24-hour alarm clock, see User Guide page 7 </li>
            <li>new: VOACAP pane now shows full 24 hour path reliability graph </li>
            <li>new: tap analog Big Clock near 3 o'clock to toggle showing second hand </li>
            <li>change: WiFi RSSI shown in red if less than -60 dBm </li>
            <li>fixed: DRAP scale was getting drawn with VOACAP map </li>
            <li>fixed: map view menu now includes VOACAP band if that map is active </li>
            <li>fixed: improve BME280 retry when connection is lost temporarily </li>
            <li>fixed: the restart menu could be blank </li>
        </ul>

        Version 2.68: 2021-09-11
        <ul>
            <li>fixed: DX Cluster could fail to restart after temporary connection loss </li>
            <li>fixed: ENV Pressure y axis label would overflow in metric mode >= 1000 hPa </li>
            <li>fixed: added pane menu Ok button busy indication </li>
        </ul>

        Version 2.67: 2021-09-06
        <ul>
            <li>new: STEREO-A pane option to show solar prominences 2 days in advance </li>
            <li>new: tap satellite pass graphic for table of future passes </li>
            <li>new: each Pane menu now allows selecting any collection to rotate </li>
            <li>new: Setup Page 1 can specify any longitude for Mercator map center </li>
            <li>new: roving cursor report includes prefix and city names (not ESP) </li>
            <li>new: long-tap on UTC month or date toggles format between Day-Of-Year </li>
            <li>change: tapping VOACAP power now presents a small menu for direct selection </li>
            <li>change: web commands also support more flexible pane selection </li>
            <li>fixed: entering 180 east longitude created invalid grid </li>
            <li>fixed: improved the DRAP frequency scale graphic </li>
            <li>fixed: better map download progress messages </li>
            <li>fixed: detect and prevent multiple instances from corrupting eeprom file </li>
        </ul>

        Version 2.66: 2021-08-08
        <ul>
            <li> new: tap DE or DX lat, long or grid to directly edit these fields </li>
            <li> new: user definable map grid color </li>
            <li> new: Countdown timer has its own plot pane (available only if counting down) </li>
            <li> new: add bearing and distance to roving cursor info box (not ESP) </li>
            <li> new: tapping lower portion of an ENV plot rotates to just another ENV </li>
            <li> new: Demo mode in Setup causes random HamClock changes every 30 s </li>
            <li> change: satellite LED blinks for 1 min before rise then stays on until set </li>
            <li> change: a few new and changed web commands; see FAQ </li>
            <li> change: offer reboot and shutdown if in full screen </li>
            <li> fixed: don't change DE unless lat or lng are actually edited in Setup </li>
            <li> fixed: slightly expand VOACAP 20m pane active touch area </li>
            <li> fixed: web server retry tried to reuse same port without closing it first </li>
        </ul>

        Version 2.65: 2021-07-04
        <ul>
            <li>fixed: bug displaying SDO images in larger formats </li>
        </ul>

        Version 2.64: 2021-07-03
        <ul>
            <li>new: 24 hour DRAP plot of max frequency absorption </li>
            <li>change: Solar wind plot period 24 hours to match DRAP and X-Ray </li>
        </ul>

        Version 2.63: 2021-06-18
        <ul>
            <li>new: add pane option to rotate selection automatically every 30 seconds </li>
            <li>new: add map View menu option to not darken Earth night side </li>
            <li>new: add local time to roving cursor info box (not ESP) </li>
            <li>new: add Setup color selectors for short and long propagation paths </li>
            <li>fixed: Kp plot was offset by 3 hours </li>
            <li>fixed: RPi countdown LEDs were not always properly initialized </li>
            <li>fixed: map View menu could disengage VOACAP background </li>
            <li>fixed: change time zone for a town in Argentina from UTC-4 to -3 </li>
        </ul>

        Version 2.62: 2021-05-23
        <ul>
            <li>new: real-time D layer absorption map style option </li>
            <li>new: collect all map style options in one View menu </li>
            <li>new: add web command set_mapview to control the new View menu </li>
            <li>new: countdown can now be controlled from within Big Clock </li>
            <li>new: include local weather data in web commands get_de and get_dx </li>
            <li>change: move countdown value from Setup to Stopwatch </li>
            <li>change: show all roving mouse coords for all grid styles (not ESP) </li>
            <li>fixed: rare error when changing map style </li>
        </ul>

        Version 2.61: 2021-04-10
        <ul>
            <li>new: support up to 2 BME280 on same I2C bus at addresses 76 and/or 77 </li>
            <li>new: display roving mouse coordinates over map (not ESP)</li>
            <li>new: tap hours in digital Big Clock to toggle 12 or 24 hour format </li>
            <li>change: RPi output pin 38 cycles at 1/2 Hz before sat rises</li>
            <li>change: set_displayTimes and get_config updated for daily on/off settings </li>
            <li>fixed: Kp plot min y was not clamped to 0 </li>
            <li>fixed: don't reject NTP sites that respond in < 1 ms </li>
            <li>fixed: corrected time zone along the coast near Barcelona Spain </li>
            <li>fixed: on/off times table was not always initialized properly </li>
        </ul>

        Version 2.60: 2021-03-21
        <ul>
            <li>new: on/off times can be set for each day of the week in Setup page 3 </li>
            <li>new: options to show day and date with Big Clock </li>
            <li>new: optional digital version of Big Clock </li>
            <li>changed: move plot titles across the top and improve labels </li>
            <li>changed: GUI cursor is now red and disappears when inactive (same as old fb0)</li>
            <li>changed: Big Clock sec hand jumps to each second like a battery clock </li>
            <li>fixed: Stopwatch and Big Clock honor brightness controls</li>
            <li>fixed: get_spacewx.txt output botched if Space_Wx never assigned to a pane</li>
            <li>fixed: removed option to turn off GUI Cursor -- replaced by disappearing cursor </li>
            <li>fixed: fullscreen could incorrectly default to yes</li>
            <li>fixed: set_newdegrid web command required extra trailing space</li>
        </ul>

        Version 2.59: 2021-02-27
        <ul>
            <li>new: add optional date and DE weather to Big Clock</li>
            <li>new: add Solar Wind option -- useful for predicting auroras </li>
            <li>new: setting RPi input pin 40 low temporarily replaces call text with ON THE AIR </li>
            <li>new: RPi output pin 38 is driven hi for 1 minute before satellite rise or set </li>
            <li>new: add set_title web command to temporarily set call text and colors </li>
            <li>change: add NOAA space weather and Solar Wind to get_spacewx.txt web command </li>
            <li>fixed: blinking symbols when at left edge of map </li>
            <li>fixed: gpsd could be sent very fast repetitive queries </li>
        </ul>

        Version 2.58: 2021-02-18
        <ul>
            <li>new: tap near pane top to directly select any choice from popup menu </li>
            <li>new: added SDO 193 A image which shows coronal holes better </li>
            <li>new: added full screen GUI option in Setup page 4 -- fb0 is now legacy only </li>
            <li>new: added get_spacewx.txt web command </li>
            <li>change: Big Clock warns if UTC is offset or time source is not updating </li>
            <li>change: RPi stdout messages now go to file $HOME/.hamclock/diagnostic-log.txt </li>
            <li>change: RPi installation instructions now use /usr/local/bin -- see Desktop tab </li>
            <li>fixed: misc Big Clock issues </li>
        </ul>

        Version 2.57: 2021-01-24
        <ul>
            <li>new: full-screen analog Big Clock, available from within Stopwatch page </li>
            <li>new: added Skip buttons to ESP touch calibration page and while seeking best NTP </li>
            <li>new: support for running set-uid root as any file name or symlink (see FAQ) </li>
            <li>change: AZM button now says AZM or MER instead of always AZM with opposite b/w </li>
            <li>change: more set_stopwatch web commands </li>
            <li>change: use /dev/gpiomem instead of /dev/mem for RPi GPIO access </li>
            <li>change: put small deadband around VOACAP power touch area </li>
            <li>fixed: better RPi error messages if self-update or VOACAP fails </li>
            <li>fixed: stopwatch page honors idle timer and follows photocell </li>
        </ul>

        Version 2.56: 2021-01-09
        <ul>
            <li>new: added map label option, "GRD", to mark maidenhead grid squares around edge </li>
            <li>new: added Setup page 3 to adjust satellite footprint and path colors </li>
            <li>change: replace Moon pane distance with time of next rise or set </li>
            <li>change: web server now uses port 8080 to eliminate that reason to run as root</li>
            <li>change: changed web stopwatch commands, see FAQ for details </li>
            <li>fixed: Moon image was not always updated on time </li>
            <li>fixed: On/Off brightness timers not always ignored when set equal </li>
            <li>fixed: require gpsd TPV class record </li>
        </ul>

        Version 2.55: 2020-12-13
        <ul>
            <li>new: display Moon phase and DE info in any pane </li>
            <li>new: web server command set_voacap to set map </li>
            <li>change: SSN and Solar flux now show 30 day history</li>
            <li>fixed: reduced jaggies on larger screen sizes </li>
            <li>fixed: better performance under peak server loads </li>
        </ul>

        Version 2.54: 2020-12-05
        <ul>
            <li>new: global VOACAP maps; select by tapping desired band number in VOACAP pane </li>
            <li>new: can now specify a specific NTP server in Setup </li>
            <li>new: plot pane 3 can now show persistent live local DX weather </li>
            <li>new: Setup Page 2 option to disable all GPIO access for RPi and ESP </li>
            <li>new: web commands get_* and set_touch now also work in some auxiliary pages </li>
            <li>new: changes in next version are listed on remote update page </li>
            <li>new: tap DX symbol in DX pane to repeat info for same DX position </li>
            <li>change: look for BME280 sensor at either I2C address 0x76 or 0x77 </li>
            <li>change: dx spot setup map option can be set to none, full call or just prefix </li>
            <li>change: add "Are you sure?" and Exit choice to RPi fb0 shutdown menu </li>
            <li>change: add more international NTP servers to internal list and always use fastest </li>
            <li>fixed: dx spot heading parser could mistakenly find unit label within QTH name </li>
        </ul>

        Version 2.53: 2020-10-28
        <ul>
            <li>new: plot pane 1 can now show persistent live DE local weather </li>
            <li>new: setup option to set whether dx spots are plotted on map </li>
            <li>changed: use slashed-zero in DE call sign if applicable </li>
            <li>changed: plot just the dx cluster spot prefix on map, not the entire call sign </li>
            <li>changed: accept 63 character WPA-2 passwords (previous limit was 31) </li>
            <li>fixed: record BME env sensor readings even when not being displayed </li>
            <li>fixed: rare gpsd connection issue </li>
        </ul>

        Version 2.52: 2020-10-10
        <ul>
            <li>new: two map styles now available, Terrain and Countries; select in Setup</li>
            <li>new: NOAA Space Weather RSG scales now available in the right plot pane</li>
            <li>new: add support for JTDX FT8 as a "cluster" similar to WSJT-X</li>
            <li>new: DX Cluster spots are displayed on map in addition to being listed</li>
            <li>new: can now tap to stop Satellite listing any time to avoid waiting for all entries</li>
            <li>new: report gpsd results on network startup summary page</li>
            <li>new: add new option to log usage to guide further development; default is no </li>
            <li>new: add progress bar during remote updates </li>
            <li>new: add more plot pane position assignment choices</li>
            <li>new: add web commands get_config, get_dxspots and set_pane (see FAQ)</li>
            <li>new: add range, rate and doppler shifts to web command get_satellite</li>
            <li>changed: remove set_dxclusterOnOff web command (use new set_pane instead)</li>
            <li>changed: move RPi configuration files to ~/.hamclock directory </li>
            <li>changed: add .txt extension to all web get_* commands not otherwise specified </li>
            <li>fixed: remove date flicker when changing DE pane to Analog clock format</li>
            <li>fixed: ignore occulted DE controls when pane is in Analog or Calendar format</li>
            <li>fixed: remove bell characters from dx cluster log </li>
            <li>fixed: remove symbol flicker at far right of X11 display </li>
            <li>fixed: retain setup gpsd and dx host names even when disabled </li>
            <li>fixed: inform dx cluster of new grid/lat/long if move DE</li>
            <li>fixed: allow for slow RPi WiFi connection when starting via crontab @reboot </li>
            <li>fixed: rare case of photosensor bar graph drawing out of bounds</li>
            <li>fixed: changed Yukon Territories time zone from UTC-8 to UTC-7</li>
        </ul>

        Version 2.51: 2020-08-08
        <ul>
            <li>new: can now connect to WSJT-X to automatically set DX to FT8 station worked</li>
            <li>new: add direct brightness control on ESP and RPi with DSI fb0 </li>
            <li>changed: add idle time to set_displayTimes web command </li>
            <li>fixed: added better guard gap around time zone buttons </li>
            <li>fixed: HTTP response from get_satellite was malformed when no sat defined </li>
            <li>fixed: improved RPi GUI performance</li>
        </ul>

        Version 2.50: 2020-07-26
        <ul>
            <li>new: add Reboot option to cancel page (Pi fb0 only) </li>
            <li>changed: DE and DX DST buttons now cycle time zone -1/0/+1 </li>
            <li>fixed: stale Idle could prevent clock On timer from restoring screen </li>
            <li>fixed: get_capture.bmp could give black image from X11 desktops </li>
            <li>fixed: improve response time from some RPi input devices </li>
            <li>fixed: one more DE Calendar update bug </li>
        </ul>

        Version 2.49: 2020-07-10
        <ul>
            <li>new: added more RESTful web commands, see FAQ </li>
            <li>new: min and max brightness in Setup </li>
            <li>new: idle timeout clock timer </li>
            <li>fixed: DE calendar update interval </li>
        </ul>


        Version 2.48: 2020-07-03
        <ul>
            <li>changed: always fall back to NTP if gpsd ever fails (not just initially) </li>
            <li>changed: 10 seconds touch and Setup opportunity (5 previously) </li>
            <li>changed: allow connecting to DX port numbers down to 23 (1000 previously) </li>
            <li>fixed: allow full length dx cluster host name in Setup </li>
            <li>fixed: better detection whether cluster is really a Spider </li>
            <li>fixed: DE and DX were not properly updated when modifying UTC in certain ways </li>
        </ul>

        Version 2.47: 2020-06-19
        <ul>
            <li>new: added a count down timer in Stopwatch, handy as 10 minute ID timer</li>
            <li>new: allow Kp to be positioned in right pane </li>
            <li>new: added more RESTful web commands, see FAQ </li>
            <li>new: added pressure calibration offset to Setup, handy for correcting station to sea level </li>
            <li>new: show project URL on Update page as reminder how to review changes before deciding </li>
            <li>changed: brighter lat/long 0/0 lines </li>
            <li>changed: slightly sharper twilight edge -- better match to actual photos </li>
            <li>fixed: UTC button was unresponsive if wifi connected late </li>
            <li>fixed: Setup page was not accepting keyboard Enter for Done </li>
            <li>fixed: support web commands from more browsers </li>
            <li>fixed: more efficient RSS </li>
            <li>fixed: Setup count down was cut off in RPi fb0</li>
        </ul>

        Version 2.46: 2020-05-29
        <ul>
            <li>new: gpsd now also sets time, useful if no NTP </li>
            <li>new: tap lower left corner of VOACAP pane to cycle power 1-10-100-1000 watts </li>
            <li>changed: added several KX3 cleanup commands before setting frequency </li>
            <li>changed: WiFi Setup on RPi uses wpa_supplicant.conf if present </li>
            <li>changed: add ellipsis to Setup Page prompt to emphasize tapping will change page </li>
            <li>changed: replace satellite CUBESAT XI-V with AO-27 </li>
            <li>fixed: better error message if wx lookup fails </li>
            <li>fixed: removed occasional stray pixels when deleting a character in Setup </li>
            <li>fixed: DE calendar now rolls at local midnight, not UTC midnight </li>
        </ul>

        Version 2.45: 2020-05-13
        <ul>
            <li>new: gpsd now supported on all Clock architectures and host is settable in Setup </li>
            <li>new: DE calendar option, tap DE: to cycle formats </li>
            <li>new: Setup field to set BME temperature correction value </li>
            <li>new: Setup field to set KX3 baud rate to 4800 or 38400 </li>
            <li>change: Setup is now two pages with more options </li>
            <li>change: replace satellites AAUSAT-II, ITUPSAT1, KISEKI and SRMSAT with Huskysat, NO-103, NO-104 and RS-44 </li>
        </ul>

        Version 2.44: 2020-05-07
        <ul>
            <li>new: set Elecraft KX3 to DX Cluster Spot frequency; see FAQ for details</li>
            <li>new: display current version number in red if newer version is available</li>
            <li>changed: UTC button label says "OFF" when Clock time is not UTC</li>
            <li>fixed: better algorithm to find RPi IP address</li>
            <li>fixed: better keyboard tab support in RPi Setup</li>
            <li>fixed: larger RPi fb0 cursor on 7-9" displays</li>
        </ul>

        Version 2.43: 2020-04-16
        <ul>
            <li>new: holding padlock for 3 seconds gives offer to shutdown RPi if using fb0</li>
            <li>changed: UTC button label says "NOT" and color is red when time is not UTC</li>
            <li>fixed: wrong units in BME280 temperature change in V 2.41 (change was too large)</li>
            <li>fixed: time skew between exiting and reentering stopwatch</li>
        </ul>

        Version 2.42: 2020-04-02
        <ul>
            <li>changed: improved refraction model for satellite passes; especially improves Moon rise/set times</li>
            <li>fixed: occasional double sat path after erasing NCDFX beacons</li>
        </ul>

        Version 2.41: 2020-03-04
        <ul>
            <li>new: support Moon as a satellite for EME</li>
            <li>changed: sat times now use h separator (instead of colon) if more than hour</li>
            <li>changed: red fb0 cursor</li>
            <li>changed: GOES 15 has been decommissioned, use GOES 16 for XRay flux</li>
            <li>changed: tweak BME280 temperature reading algorithm</li>
            <li>fixed: time zone near Long Island, NY</li>
        </ul>

        Version 2.40: 2020-01-19
        <ul>
            <li>new: added simultaneous mouse support for RPi DSI 7" touch screen </li>
            <li>new: added RPi keyboard hot plug </li>
        </ul>

        Version 2.39: 2020-01-18
        <ul>
            <li>new: support for RPi DSI 7" touch screen </li>
            <li>new: stopwatch color control </li>
            <li>fixed: better RPi/UNIX cpu load management </li>
            <li>fixed: small error in ESP LLG lines </li>
            <li>changed: remove donoff</li>
        </ul>

        Version 2.38: 2020-01-01
        <ul>
            <li>new: support local gpsd for GPS location devices on RPi or other UNIX</li>
            <li>new: Setup allows entering fractional DE lat and long</li>
            <li>new: add Skip buttons to Setup and WiFi screens</li>
            <li>changed: increase tap HOLD time from 1000 to 1500 ms</li>
            <li>fixed: more reliable RPi fb0 display on/off method</li>
            <li>fixed: ESP screen flip</li>
        </ul>

        Version 2.37: 2019-12-27
        <ul>
            <li>fixed: ESP Setup prompts</li>
        </ul>

        Version 2.36: 2019-12-21
        <ul>
            <li>fixed: eliminate RPi fb0 cursor flicker</li>
            <li>fixed: RPi unable to control HDMI on/off when started from certain crontab entries</li>
            <li>fixed: Santa could reboot ESP in certain situations</li>
        </ul>

        Version 2.35: 2019-12-15
        <ul>
            <li>new: track Santa on Dec 24</li>
            <li>new: RPi WiFi setup</li>
            <li>changed: redesigned Setup screen</li>
        </ul>

        Version 2.34: 2019-12-02
        <ul>
            <li>changed: 5x more efficient RSS handling</li>
            <li>fixed: time could be several seconds off when started via crontab</li>
            <li>fixed: UTC button could fail to turn on after failed NTP restored</li>
        </ul>

        Version 2.33: 2019-11-28
        <ul>
            <li>new: horizon coordinate grid on satellite pass map</li>
            <li>new: remote command set_display?on/off</li>
            <li>changed: remote set_touch command does not turn display on</li>
            <li>changed: blank out fb0 cursor after initial timeout period</li>
            <li>fixed: remote get_capture.bmp for largest size</li>
            <li>fixed: more efficient handling of failed remote command server</li>
        </ul>

        Version 2.32: 2019-11-26
        <ul>
            <li>fixed: allow escaping from DX Cluster pane if call not valid</li>
            <li>fixed: ignore taps between main seconds and UTC button</li>
            <li>changed: turn off UTC button if no NTP (in addition to large question mark)</li>
            <li>changed: remove trailing effect from RPi fb0 cursor over map</li>
        </ul>

        Version 2.31: 2019-11-11
        <ul>
            <li>new: show dx cluster port number</li>
            <li>new: 30 degree tick marks on satellite path horizon</li>
            <li>new: major work in preparation for gimbal and rotator support</li>
            <li>fixed: time zone values near Long Beach CA</li>
            <li>fixed: dx cluster report could overflow its pane boundary</li>
        </ul>

        Version 2.30: 2019-10-25
        <ul>
            <li>fixed: network issue when dx cluster and satellite both active</li>
            <li>fixed: incorrect spot call sign prefix</li>
        </ul>


        Version 2.29: 2019-10-11
        <ul>
            <li>fixed: compile bug on RPi</li>
        </ul>

        Version 2.28: 2019-10-11
        <ul>
            <li>fixed: several EEPROM settings were still getting lost.
            Hopefully this is the last EEPROM bug .. thanks for your patience.
            </li>
        </ul>

        Version 2.27: 2019-10-10
        <ul>
            <li>fixed: call sign was lost after Setup screen and some EEPROM values will need resetting</li>
        </ul>

        Version 2.26: 2019-10-09
        <ul>
            <li>fixed: DX Cluster could hang depending on connection state</li>
            <li>changed: leave DX Cluster host blank to disable entirely</li>
            <li>changed: allow call signs up to 11 characters long</li>
        </ul>

        Version 2.25: 2019-10-07
        <ul>
            <li>changed: DX Cluster now requires Setup server entry, there is no default</li>
            <li>fixed: improved plot data error messages</li>
        </ul>

        Version 2.24: 2019-10-02
        <ul>
            <li>new: tapping a DX Cluster spot will set it as new DX </li>
            <li>fixed: Wire.cpp compile error on some UNIX systems</li>
        </ul>

        Version 2.23: 2019-09-28
        <ul>
            <li>new: DX Spider spots are an option in the center plot pane </li>
            <li>changed: desktop no longer accepts host time, ? warning is displayed unless NTP network time is confirmed</li>
            <li>fixed: DX prefix tag could go off the map when very close to right edge of AZM projection</li>
            <li>fixed: possible missing WX error message</li>
            <li>fixed: change in V2.18 broke time zone offset near zone boundaries</li>
        </ul>

        Version 2.22: 2019-09-23
        <ul>
            <li>fixed: 24 hour clock-off bug</li>
            <li>fixed: added better desktop remote update error messages</li>
            <li>fixed: xray plot guards against bogus 0 values</li>
        </ul>

        Version 2.21: 2019-09-20
        <ul>
            <li>fixed: ESP sporadic rebooting</li>
        </ul>

        Version 2.20: 2019-09-14
        <ul>
            <li>change: ESP with photoresistor now also includes on/off timer control</li>
            <li>change: underline "DX:" to suggest it can be clicked for sat selection table</li>
            <li>fixed: tweaked several prefix locations</li>
        </ul>

        Version 2.19: 2019-09-10
        <ul>
            <li>new: show closest DX prefix when tap new location if one is near</li>
            <li>new: option to show DX prefix instead of sun rise/set times (tap to select)</li>
            <li>new: display on/off timer control if no photoresistor in ESP or RPi fb0</li>
            <li>change: sat selection shown only if requested (no longer shown on boot)</li>
            <li>change: significant core graphics redesign</li>
            <li>change: RPi FB0 cursor disappears after 2 seconds of no mouse motion</li>
            <li>fixed: turning on geoip in setup disables lat/long fields</li>
            <li>fixed: desktop network info now uses /sbin/ip if no /sbin/ifconfig</li>
            <li>fixed: add slash to desktop small font 0 to match ESP</li>
            <li>fixed: possible loss of desktop EEPROM emulation file</li>
        </ul>

        Version 2.18: 2019-08-18
        <ul>
            <li>new: show sat pass duration next to max elevation; remove zenith marker</li>
            <li>new: touching top and bottom edges of hours changes by 2, minutes by 10</li>
            <li>fixed: desktop map is brighter and has much simpler oceans</li>
            <li>fixed: NCXDF call sign could encroach on RSS area</li>
            <li>fixed: sat name over oceans better avoids DE and DX markers</li>
        </ul>

        Version 2.17: 2019-08-16
        <ul>
            <li>new: separate maps optimized for TFT and desktop displays</li>
            <li>new: third lat/long grid option showing tropics</li>
            <li>new: show NCDXF call sign beneath each station</li>
            <li>fixed: more natural character spacing in setup </li>
            <li>fixed: stop sun and moon from flashing when at right edge</li>
        </ul>

        Version 2.16: 2019-08-10
        <ul>
            <li>new: support for 2400x1440 and 3200x1920 desktop sizes; no feature changes.</li>
        </ul>

        Version 2.15: 2019-08-07
        <ul>
            <li>new: display serial number in network splash screen</li>
            <li>fix erasing ? when NTP resumes</li>
        </ul>

        Version 2.14: 2019-08-05
        <ul>
            <li>Argh, missed another spot for GFX library</li>
        </ul>

        Version 2.13: 2019-08-05
        <ul>
            <li>missed one spot for GFX library</li>
        </ul>

        Version 2.12: 2019-08-05
        <ul>
            <li>tighten up geometry for latest GFX library</li>
            <li>fix stopwatch rollover after 99 hours</li>
        </ul>

        Version 2.11: 2019-08-04
        <ul>
            <li>Change to accommodate Adafruit_RA8875.h version 1.3.3</li>
        </ul>

        Version 2.10: 2019-08-03
        <ul>
            <li>new: stopwatch</li>
            <li>new: tap Rise/Set to toggle between duration vs local time</li>
            <li>new: optional map lat/long grid</li>
        </ul>

        Version 2.09: 2019-07-27
        <ul>
            <li>added new server command to allow displaying any satellite:
            <pre>   http://Your-HamClock-IP/set_sattle?name=abc&t1=line1&t2=line2 </pre>
            Like all the server commands, you can send this with most browsers or with curl or wget from
            the command line.
            <br>
            Unfortunately, Chrome tries to be helpful so
                <a target="_blank" href="https://bugs.chromium.org/p/chromium/issues/detail?id=361665">
                will not work</a> unless you replace each blank with %20.
            </li>
        </ul>

        Version 2.08: 2019-07-19
        <ul>
            <li>coordination release, no functional changes</li>
        </ul>

        Version 2.07: 2019-07-14
        <ul>
            <li>new: VOACAP predictions may be made for short or long path</li>
            <li>new: tap sat name on map to get pass details (in addition to sat location)</li>
            <li>new: color key added to sat selection pane title</li>
            <li>new: better RPi X11 desktop drawing performance</li>
        </ul>

        Version 2.06: 2019-07-11
        <ul>
            <li>fixed: bearing and map used lat/long 0/0 after boot until set</li>
            <li>new: tapping bearing to toggle between short and long path changes distance to match</li>
        </ul>

        Version 2.05: 2019-07-10
        <ul>
            <li>fixed: preserve DE grid square</li>
            <li>fixed: DX grid square would show through if click there while sat pass is shown</li>
            <li>fixed: fill screen off by 1 pixel in X11 version</li>
        </ul>

        Version 2.04: 2019-07-06
        <ul>
            <li>new: tap bearing to toggle between long and short path</li>
            <li>new: tap sat name to see pass details (in addition to current sat location)</li>
            <li>fixed: disable tty1 getty on fb0 version</li>
        </ul>

        Version 2.03: 2019-07-03
        <ul>
            <li>fixed: do not start collecting sensor data until NTP time has succeeded</li>
            <li>fixed: say "No Set", not "No Rise", when geostationary satellite is visible from DE</li>
            <li>fixed: left-right cursor wrap in RPi fb0 version</li>
            <li>reduce flicker when sun is near moon</li>
            <li>Updated remote command set, send /help for list</li>
        </ul>

        Version 2.02: 2019-06-20
        <ul>
            <li>Change Band Conditions title to hopefully clarify the meaning of the table</li>
        </ul>

        Version 2.01: 2019-06-10
        <ul>
            <li>New option to set DE Lat/Long automatically using IP geolocation service</li>
            <li>2x Mercator and 1.3x Azimuthal map drawing speed up</li>
            <li>Added some NOAA weather satellites to list</li>
        </ul>

        Version 2.00: 2019-05-27
        <ul>
            <li>Setting a new DX location shows VOACAP band predictions from DE</li>
        </ul>

        Version 1.94: 2019-05-13
        <ul>
            <li>fix bug in RPi version that interfered with WiFi configuration</li>
        </ul>

        Version 1.93: 2019-05-10
        <ul>
            <li>all new brightness controls</li>
        </ul>

        Version 1.92: 2019-05-09
        <ul>
            <li>only ask for WiFI credentials in Setup on ESP version, require user to setup their internet first on other versions</li>
        </ul>

        Version 1.91: 2019-04-24
        <ul>
            <li>fix bug where DE DST flag was not being restored from NVRAM</li>
            <li>fix bug causing moon to leave sparkles on edge of azimuthal map</li>
            <li>use manufacturing wifi credentials as initial default</li>
            <li>change brightness bulbs from yellow to white</li>
            <li>draw small symbol if photoresistor is detected</li>
            <li>draw satellite name grayed out in list if never rises at DE</li>
        </ul>

        Version 1.90: 2019-03-31
        <ul>
            <li>add light bulb icons as display brightness controls (ESP models only)</li>
            <li>fix rare issue when a satellite pass lasted less than 90 seconds </li>
        </ul>

        Version 1.89: 2019-03-15
        <ul>
            <li>do not draw DX marker if should be hidden by RSS</li>
            <li>allow lower case nsew in login screen</li>
            <li>remove blinking cursor in RPi fb0 version</li>
            <li>improve methods for discovering gateway and wlan0 ip in RPi version</li>
            <li>shorter network count-down</li>
            <li>add grid square touch to show possible alternate if not exactly at integral coordinates</li>
        </ul>

        Version 1.88: 2019-01-20
        <ul>
            <li>fix RPi fb0 cursor overflow along bottom edge</li>
            <li>don't redraw map if tap on UTC when already On</li>
            <li>don't briefly show DE info after refresh when analog clock is enabled</li>
            <li>fix down counter color in remote update pane</li>
        </ul>

        Version 1.87: 2018-12-25
        <ul>
            <li>Tweak analog clock hands</li>
            <li>fix bug if satellite pass curve is very short</li>
            <li>fill black border on RPi fb0 version to erase any system messages</li>
        </ul>

        Version 1.86: 2018-12-23
        <ul>
            <li>squeeze more Satellites in table</li>
        </ul>

        Version 1.85: 2018-12-17
        <ul>
            <li>fix character spacing issue in Setup screen</li>
            <li>fix issues building on Ubuntu-MATE</li>
        </ul>

        Version 1.84: 2018-12-11
        <ul>
            <li>only draw transmitting NCDXF beacons</li>
            <li>preselect No button to emphasize firmware update will not occur by default</li>
            <li>show satellite list name red if up now, green if up soon</li>
            <li>faster satellite list drawing</li>
        </ul>

        Version 1.83: 2018-12-10
        <ul>
            <li>Show time to next rise for each satellite in selection screen</li>
            <li>Start NTP rotation with time.google.com</li>
        </ul>

        Version 1.82: 2018-12-03
        <ul>
            <li>Swap colors for satellite track and footprint</li>
            <li>Label 0 (now) on plots with future predictions</li>
        </ul>

        Version 1.81: 2018-12-01
        <ul>
            <li>Increase tap hold time to 1 full second</li>
            <li>Draw satellite footprint in darker red to better distinguish from track</li>
            <li>Fix sometimes erasing screen lock padlock</li>
        </ul>

        Version 1.80: 2018-11-24
        <ul>
            <li>Add new analog DE clock option</li>
        </ul>

        Version 1.79: 2018-11-23
        <ul>
            <li>holding the screen lock padlock will restart</li>
            <li>use same stored colors in splash call sign</li>
        </ul>

        Version 1.78: 2018-11-21
        <ul>
            <li>fix sat pass graphic if maximum elevation less than 1 degree</li>
            <li>allow using keyboard in Setup pane if built for x11</li>
        </ul>

        Version 1.77: 2018-11-04
        <ul>
            <li>support for longer WiFi SSID and password</li>
        </ul>

        Version 1.76: 2018-10-08
        <ul>
            <li>add dew point sensor plot</li>
            <li>prompt Tap or Click</li>
        </ul>

        Version 1.75: 2018-10-05
        <ul>
            <li>Show Satellite name immediately when set a DX</li>
            <li>fix bug in desktop EEPROM emulation that eventually starved all io</li>
        </ul>

        Version 1.74: 2018-09-29
        <ul>
            <li>Satellite name cooperates with RSS</li>
        </ul>

        Version 1.73: 2018-09-28
        <ul>
            <li>label satellite name on map when not in DX region</li>
        </ul>

        Version 1.72: 2018-09-25
        <ul>
            <li>smoother sensor plot update after changing satellite</li>
            <li>report wifi RSSI on linux</li>
            <li>add <code>hamclock-fb0-small</code> Makefile target for RPi's with 7" screens</li>
            <li>more reliable reporting of MAC address </li>
        </ul>

        Version 1.71: 2018-09-23
        <ul>
            <li>don't ask rotation on desktops</li>
        </ul>

        Version 1.70: 2018-09-22
        <ul>
            <li>restore uptime after changing satellite</li>
        </ul>

        Version 1.69: 2018-09-19
        <ul>
            <li>higher resolution moon symbol on big desktop versions</li>
            <li>better looking J on big desktop versions</li>
            <li>fix occasional missing or partially drawn lines in desktop versions</li>
        </ul>


        Version 1.68: 2018-09-17
        <ul>
            <li>big desktop versions display commensurately higher resolution SDO images</li>
        </ul>

        Version 1.67: 2018-09-15
        <ul>
            <li>support self updating in desktop versions too</li>
            <li>tap Version to check whether an update is available (all versions)</li>
        </ul>

        Version 1.66: 2018-09-12
        <ul>
            <li>allow resizing desktop versions</li>
            <li>allow listing more satellites</li>
        </ul>

        Version 1.65: 2018-09-09
        <ul>
            <li>better moon rendering</li>
        </ul>

        Version 1.64: 2018-09-06
        <ul>
            <li>fix stray satellite path pixels at edge of Azimuthal view</li>
        </ul>

        Version 1.63: 2018-09-04
        <ul>
            <li>add support for linux, RPi and macOS desktop</li>
        </ul>

        Version 1.62: 2018-09-02
        <ul>
            <li>fix problem where a new sat selection was not always used</li>
        </ul>

        Version 1.61: 2018-09-01
        <ul>
            <li>add satellite and settime RESTful commands</li>
            <li>improve checking whether TLE is suitable epoch</li>
            <li>improve Bosch BME280 temperature and humidity accuracy</li>
        </ul>

        Version 1.60: 2018-08-25
        <ul>
            <li>label satellite path zenith and maximum elevation</li>
            <li>add memory and reboot RESTful commands</li>
        </ul>

        Version 1.59: 2018-08-22
        <ul>
            <li>remove grayline option, replace GRA button with AZM</li>
            <li>improve memory management for long paths</li>
            <li>add count down to firmware update screen</li>
            <li>fix sat tracks leaving pixels on map edge</li>
        </ul>

        Version 1.58: 2018-08-19
        <ul>
            <li>better twilight for RPi version too</li>
        </ul>

        Version 1.57: 2018-08-19
        <ul>
            <li>much better grayline twilight graphics</li>
            <li>erase dx marker and path when changing to Satellite info mode</li>
        </ul>

        Version 1.56: 2018-08-19
        <ul>
            <li>better screen management going into and back from sat selection page</li>
            <li>refresh sat info if user changes time a lot</li>
            <li>increase current satellite location tap area</li>
            <li>fix tapping area for dx lat/long</li>
        </ul>

        Version 1.55: 2018-08-16
        <ul>
            <li>add display of Earth satellites</li>
        </ul>

        Version 1.54: 2018-06-30
        <ul>
            <li>linux version now just uses existing network</li>
            <li>progress dots replaced with count down</li>
            <li>improved environment sensor initialization and expand plot to 25 hours</li>
            <li>better http handling</li>
            <li>reduce linux map raster jaggies</li>
        </ul>

        Version 1.53: 2018-06-19
        <ul>
            <li>fix xray level designation below A and above X</li>
        </ul>

        Version 1.52: 2018-06-03
        <ul>
            <li>display xray level designation</li>
            <li>accommodate more RPi screen resolutions</li>
            <li>fix rainbow on RPi</li>
        </ul>

        Version 1.51: 2018-06-01
        <ul>
            <li>new Earth map</li>
            <li>add support in RPi version for Bosch BME280 environment sensor</li>
        </ul>

        Version 1.50: 2018-05-29
        <ul>
            <li>first release supporting Raspberry Pi</li>
            <li>refresh RSS immediately when toggle map projection</li>
            <li>display complete IP address</li>
            <li>fix box around wx report that did not quite match the alternate plot</li>
        </ul>

        Version 1.49: 2018-05-13
        <ul>
            <li>show device MAC address before connecting</li>
        </ul>

        Version 1.48: 2018-05-12
        <ul>
            <li>RSS now occupies 2 rows</li>
        </ul>

        Version 1.47: 2018-05-05
        <ul>
            <li>all new RSS system that retrieves from my server
                <ul>
                    <li>displays round robin from ARRL, Southgate, eHam and DXNews</li>
                </ul>
            </li>
            <li>label weather units</li>
        </ul>

        Version 1.46: 2018-05-01
        <ul>
            <li>remove eHam RSS because they now redirect to https and there is no room in Huzzah
                to support https.</li>
        </ul>

        Version 1.45: 2018-04-29
        <ul>
            <li>add Setup option to enter initial DE lat and long</li>
            <li>center date better under wider call sign area</li>
            <li>time zone table now uses 1 degree resolution</li>
            <li>add photocell wiring to README</li>
        </ul>

        Version 1.44: 2018-04-27
        <ul>
            <li>add Setup option to rotate screen</li>
            <li>squeeze out a little more room for wider call signs</li>
            <li>offer a little more time to choose Recalibrate and Setup screens</li>
        </ul>

        Version 1.43: 2018-04-20
        <ul>
            <li>remove option to downgrade</li>
            <li>fix plot bug if sensor drops out for extended period then recovers</li>
        </ul>

        Version 1.42: 2018-04-10
        <ul>
            <li>More automated remote update knows when a new version is available</li>
            <li>Touch now supports auto-repeat in most fields</li>
            <li>Add degree symbol to weather temperature value</li>
            <li>Add more specific weather error messages</li>
        </ul>

        Version 1.41: 2018-03-25
        <ul>
            <li>Show weather data for 30 seconds after changing DE or DX</li>
        </ul>

        Version 1.40: 2018-03-18
        <ul>
            <li>a little more map detail</li>
            <li>more robust RSS parser</li>
            <li>faster WiFi retries when signal is lost</li>
            <li>fix RSS flashing when no WiFi signal</li>
            <li>increase clock from 80 to 160 MHz</li>
        </ul>

        Version 1.39: 2018-02-17
        <ul>
            <li>eliminate need for Shift key in setup keyboard -- show both cases at once</li>
            <li>Raise upper case J in smaller font</li>
        </ul>

        Version 1.38: 2018-02-10
        <ul>
            <li>add remote WiFi firmware updating</li>
            <li>smoother brightness control</li>
            <li>fix speckles across the bottom of RSS banner</li>
            <li>allow 0-length setup fields</li>
            <li>more efficient Grayline toggle</li>
            <li>new RESTful commands:
                <ul>
                    <li>http://&lt;HamClock_ip&gt;/newdegrid?AB12</li>
                    <li>http://&lt;HamClock_ip&gt;/newdxgrid?AB12</li>
                </ul>
            </li>
        </ul>

        Version 1.37: 2018-02-04
        <ul>
            <li>better J in regular font</li>
            <li>softer border lines</li>
            <li>use separate colors for short and long path</li>
            <li>add more instructions for touch screen calibration</li>
            <li>more grid square mods</li>
        </ul>

        Version 1.36: 2018-01-24
        <ul>
            <li>add Azimuthal projection option</li>
            <li>add WiFi connection progress dots</li>
            <li>add degree symbol after bearing angle</li>
        </ul>


        Version 1.35: 2018-01-19
        <ul>
            <li>accommodate changes in ESP library version 2.4.0 and still maintain compatibility with older versions</li>
        </ul>

        Version 1.34: 2018-01-10
        <ul>
            <li>allow Huzzah to reuse stored SSID for faster booting and faster recovery if WiFi comes back</li>
            <li>fix for rare compile problem related to Time.h by changing to TimeLib.h</li>
            <li>split right plot touch so top half cycles SDO images and bottom half cycles sensor plots (if installed)</li>
            <li>tweak xray download code</li>
        </ul>

        Version 1.33: 2017-12-30
        <ul>
            <li>further improve rendering call signs containing descending characters</li>
            <li>improve WiFi state reporting and resilience to NTP errors</li>
            <li>plot both long and short XRay wavelengths</li>
        </ul>

        Version 1.32: 2017-12-08
        <ul>
            <li>add padlock icon that locks screen</li>
            <li>tweak time zone for Bouvet Island</li>
        </ul>

        Version 1.31: 2017-11-26
        <ul>
            <li>alternate WiFi dBm with IP</li>
        </ul>

        Version 1.30: 2017-11-25
        <ul>
            <li>redirect all web accesses to CSI server</li>
            <li>increase wifi login timeout</li>
        </ul>

        Version 1.29: 2017-11-17
        <ul>
            <li>Tweak RESTful commands
                <ul>
                    <li> http://&lt;HamClock_ip&gt;/touch?x=X&amp;y=Y</li>
                    <li> http://&lt;HamClock_ip&gt;/capture.bmp</li>
                    <li> http://&lt;HamClock_ip&gt;/help</li>
                </ul>
            </li>
        </ul>
        Version 1.28: 2017-11-10
        <ul>
            <li>25 hour XRay plot</li>
            <li>More RESTful commands, returns new values in JSON format if applicable
                <ul>
                    <li> http://&lt;HamClock_ip&gt;/capture</li>
                    <li> http://&lt;HamClock_ip&gt;/sensors</li>
                    <li> http://&lt;HamClock_ip&gt;/grayline?on/off</li>
                    <li> http://&lt;HamClock_ip&gt;/newde?lat=X&amp;lng=Y</li>
                    <li> http://&lt;HamClock_ip&gt;/newdx?lat=X&amp;lng=Y</li>
                </ul>
            </li>
        </ul>

        Version 1.27: 2017-10-19
        <ul>
            <li>avoid pressure values overflowing plot size in metric mode</li>
        </ul>

        Version 1.26: 2017-10-05
        <ul>
            <li>reduce clock flicker -- contributed by W2ROW</li>
        </ul>

        Version 1.25: 2017-10-04
        <ul>
            <li>add Metric/Imperial setup option to choose sensor plot units</li>
        </ul>

        Version 1.24: 2017-10-02
        <ul>
            <li>make GRA button more consistent with RSS</li>
            <li>fix rounding error in maidenhead grid square calc</li>
            <li>reset sensor queue if fails to restart</li>
        </ul>

        Version 1.23: 2017-09-30
        <ul>
            <li>add grayline on/off button</li>
        </ul>

        Version 1.22: 2017-09-30
        <ul>
            <li>add grayline down to 12&deg; twilight </li> 
        </ul>

        Version 1.21: 2017-09-23
        <ul>
            <li>better setup keyboard</li>
        </ul>

        Version 1.20: 2017-09-21
        <ul>
            <li>improve rendering of call signs with descending characters J and Q</li>
        </ul>

        Version 1.19: 2017-09-20
        <ul>
            <li>fix SDO web site name</li>
        </ul>

        Version 1.18: 2017-09-19
        <ul>
            <li>fix display bug if solar flux prediction download fails</li>
        </ul>

        Version 1.17: 2017-09-17
        <ul>
            <li>improve drawing lunar phases</li>
            <li>reset the Bosch sensor if any value seems bogus</li>
        </ul>

        Version 1.16: 2017-08-20
        <ul>
            <li>posted to <a target='_blank' href='http://www.arrl.org/qst-in-depth'>QST in-depth</a>
        </ul>
    </div>    <!-- tab-download -->


    <div id='tab-faq' >

        <!-- accordions. all must be in one div, then each must be surrounded by h3/div -->

        Answers to Frequently Asked Questions:
        <p>

        <div id='accordion-faq' >

        <h3 class='accordion-faq-h3'>
             How do I build the ESP8266 software?
        </h3>
        <div>

        <p class='pfaq' >
        See the ESP8266 Notes tab.

        </div>




        <h3 class='accordion-faq-h3'>
             How do I build the Desktop software?
        </h3>
        <div>

        <p class='pfaq' >
        See the Desktop tab.

        </div>





        <h3 class='accordion-faq-h3'>
             How do I uninstall HamClock?
        </h3>
        <div>

        <p class='pfaq' >
        Assuming you only ever installed HamClock according to my instructions in the Desktop tab,
        you can remove all traces by typing the following two commands in a terminal or ssh session:
    <pre>
    sudo sh -c 'rm -fr ~/.hamclock ~/ESPHamClock* /usr/local/bin/hamclock*'
    rm -fr ~/.hamclock ~/ESPHamClock* ~/.config/autostart/hamclock.desktop ~/Desktop/hamclock.desktop
    </pre>

        </div>





        <h3 class='accordion-faq-h3'>
             I'm new to Raspberry Pi -- how do I get started?
        </h3>
        <div>

        <p class='pfaq' >

        <ol>
            <li>If you are absolutely completely new, start at 
                <a target="_blank" href="https://www.raspberrypi.org/">raspberrypi.org</a>.
            </li>

            <li>If you don't have a Pi yet, I would start with a model 4b with 1 GB RAM.
            The smaller Pi models such as Zero W will work (see FAQ 56), but the 4b is definitely more responsive.
            Many places sell Pis or you can see the official list of vendors 
            <a target="_blank" href="https://www.raspberrypi.com/products/raspberry-pi-4-model-b/">here</a>.
            Pis are a little hard to find now but a current list of vendors with stock is
            <a target="_blank" href="https://rpilocator.com/">here</a>.
            </li>

            <li>
            For a display you can use a small touch screen such as 
            <a target="_blank" href="https://www.amazon.com/Raspberry-Pi-Official-Touch-Screen/dp/B073S3LQ6Q/">
            the official Pi 7" LCD</a>.
            Or you can use any HDMI LCD display you might have or buy one such as 
            <a target="_blank" href="https://www.amazon.com/KOORUI-Business-Computer-Monitor-Display/dp/B09VD9P2Q3">this one</a>
            with which you will also need a keyboard, mouse and perhaps 
            a
            <a target="_blank" href="https://www.amazon.com/UGREEN-Adapter-Compatible-Raspberry-ZenBook/dp/B00B2HORKE/">micro HDMI adaptor</a>.
            </li>


            <li>If you don't already have one, buy a microSD card such as 
                <a target="_blank" href="https://www.amazon.com/dp/B07G3GMRYF/">this one</a>.
            </li>

            <li>Insert the microSD card into your desktop computer.
            If your computer does not have uSD port, you can try a USB adaptor such as
            <a target="_blank" href="https://www.amazon.com/Vanja-Adapter-Portable-Memory-Reader/dp/B00W02VHM6">this one</a>.
            </li>

            <li>Download and install the
                <a target="_blank" href="https://www.raspberrypi.org/software/">Raspberry Pi Imager</a>.
            </li>

            <li>Start the program and burn your microSD card with RPi operating system as follows:
                <ol>
                    <li>click <b>Choose OS</b>
                    <li>select the first choice on top
                    <li>click <b>Choose Storage</b>
                    <li>select the microSD you just inserted
                    <li>click <b>Write</b>
                    <li>wait for it to complete writing and verifying
                    <li>remove the microSD card when it says it is finished
                </ol>
            </li>
            <li>Insert the microSD card into your RPi
            </li>
            <li>Connect a keyboard, mouse, ethernet and display to your RPi
            </li>
            <li>Connect power to the RPi
            </li>
            <li>After a minute or so you will see the Desktop
            </li>
            <li>Work through the setup menus
            </li>
            <li>Start a browser by clicking the red raspberry in the upper left corner then Internet &#8658; Chromium
            </li>
            <li>Go to my project web page at
                <a target="_blank"
                    href="https://clearskyinstitute.com/ham/HamClock" >
                    https://clearskyinstitute.com/ham/HamClock
                </a>
            </li>
            <li>Start a terminal by clicking the red raspberry again then Accessories &#8658; Terminal
            </li>
            <li>Follow the instructions on my Desktop tab
            </li>
            <li>Read the User Guide to get the most from HamClock
            </li>
        </ol>


        </div>







        <h3 class='accordion-faq-h3'>
             What can I do if a self-update reports FAIL with a message about SSL certificate?
        </h3>
        <div>

        <p class='pfaq' >
        This error means your system is using a version of openssl (used by curl) that is older than 1.1.1.
        This occurs because a prominent high level SSL certificate expired on Sept 30 2021 and 
        openssl was updated to use the replacement certificate.
        You can find your version by opening a terminal command line and typing this command:
<pre>
        openssl version
</pre>
        <p class='pfaq' >
        To update openssl on an RPi you can try
<pre>
        sudo apt upgrade openssl
</pre>
        <p class='pfaq' >
        To update on macOS try these possibilities:

            <ul style="margin-left:40px" >
                <li>If you use macports update openssl as follows:
                <pre>
    sudo port upgrade openssl
                </pre>
                (be sure /opt/local/bin is before /usr/bin in your PATH)
                </li>
                <li>or try this direct method (suggested by AL7CR):
                    <ul>
                        <li>Rename /etc/ssl/cert.pem to something else such as /etc/ssl/cert.pem.org </li>
                        <li>Download the latest cacert.pem from
                            <a target="_blank" href="https://curl.se/docs/caextract.html">
                                    https://curl.se/docs/caextract.html </a>
                            </li>
                        <li>Rename it to cert.pem </li>
                        <li>Copy it to /etc/ssl/cert.pem </li>
                    </ul>
                </li>
            </ul>

        <p class='pfaq' >
        After the update, repeat the openssl command and you should see version 1.1.1 or larger.
        If so, repeat your HamClock version update and it should work.


        </div>  <!-- -k -->






        <h3 class='accordion-faq-h3'>
             HamClock is displaying a big black screen with a cryptic message, what do I do?
        </h3>
        <div>

        <p class='pfaq' >
        It depends on the message.

        <ul>
            <li>
                <code>permission error</code>
                <br>
                The most likely cause is you ran hamclock previously with or without sudo and
                now you are running it the opposite way.
                When installed per the Desktop tab directions you should never run hamclock 
                using sudo.
                It's possible to straighten it out but if you are unfamiliar with linux file
                system permissions it's probably easiest to just start all over.
                For that, see FAQ 3 about removing HamClock then
                go over to the Desktop tab and follow the instructions carefully.

            </li>

            <li>
                <code>Address already in use</code>
                <br>
                This means HamClock is unable to use a TCP networking port
                because another program is already using it.
                The message will include the particular port number at issue.
                You must either find this other program and stop it or tell HamClock to use a different
                port.
                It can also happen if you run more than one hamclock at the same time;
                see FAQ 43 for the proper way to do that.

                <p>
                To find the other program using the port, suppose the offending port is 8080.
                Then either of the following commands should provide clues to the other program:
                <pre>
                sudo lsof -i :8080
                sudo netstat -tulpn | grep :8080
                </pre>
            </li>

            <li>
                <code>sh: 0: illegal option -p</code>
                <br>
                This happened in Version 2.58 on RPi if you are running an os version earilier than Buster.
                It is now fixed so the easiest solution is to remove your
                current ESPHamClock (see FAQ 3)
                and install fresh using the instructions in the Desktop tab.
            </li>

            <li>
                <code>No memory for satellite</code>
                <br>
                This only happens on the ESP because of its very limited amount of RAM.
                Restart then turn off some
                data panes that can scroll lists such as Contests, POTA, SOTA and DX Cluster.
            </li>

            <li>
                <code>time is running backwards</code>
                <br>
                The cause is discussed below but for now just restart.
                But first, I would appreciate if you would
                <a target="_blank" href='mailto:ecdowney@clearskyinstitute.com?subject=HamClock time'>email me</a>
                the exact message containing the two time values.

                <p>
                Trapping this event is new starting in version 3.00 of HamClock.
                Before then, I had indirect evidence of this from my server logs because when it occurs,
                HamClock suddenly thinks all content is out of date and floods my server with
                retries.
                I had to do something to prevent this so I added the strict time check.

                <p>
                The root cause is because NTP uses UDP which does not guarantee packet delivery,
                order or absense of duplicates.
                Thus it's possible for a router somewhere to send an old packet resulting in stale NTP time
                values.
                Statistics I've collected here from google NTP show one backwards event about every 10^11
                packets.
                That works out to about one bad packet every 2000 days.
                But since there are well over 2000 HamClocks running the world over,
                one of them is likely to experience this each day.

                <p>
                After I gather more statistics I will try to make HamClock more tolerant to this.
                For now, thank you for your patience and cooperation.
            </li>

            <li>
                Something else?

                <p>
                Copy it down exactly and 
                <a target="_blank" href='mailto:ecdowney@clearskyinstitute.com?subject=HamClock'>email it to me</a>.
            </li>

        </ul>

        </div>





        <h3 class='accordion-faq-h3'>
             Can HamClock run on Windows?
        </h3>
        <div>

        <p class='pfaq' >
        No, you can't <i>run</i> it natively on Windows but you can <i>use</i> it
        if it is already running somewhere else on your network by
        using any desktop browser.
        See FAQ 14 about the hamclock web interface for details. 

        <p class='pfaq' >
        For another approach, see the User Contrib tab for a suggestion on how to use WSL.

        </div>  <!-- run on windows -->




        <h3 class='accordion-faq-h3'>
             Can HamClock run on iPhone or iPad or Android?
        </h3>
        <div>

        <p class='pfaq' >
        Not natively but it does seem to work under UserLand.
        See User Contrib 16 for more information.

        </div>  <!-- run on iphone -->


        <h3 class='accordion-faq-h3'>
             How does HamClock compare to Geochron 4k?
        </h3>
        <div>

        <p class='pfaq' >
        I do not have a
        <a target='_blank' href='https://www.geochron.com/4k'>Geochron 4K</a>
        but from its literature I can think of the following
        functions related to ham radio that HamClock offers but Geochron does not: 

        <ol style="padding-left:70px" >
            <li>customized VOACAP predictions for MUF, TOA and path reliability</li>
            <li>trend plots and predictions for solar flux, solar wind, sunspot, XRay, Kp index and DRAP</li>
            <li>short and long path antenna beam heading and distance to any DX location</li>
            <li>display future satellite rise/set times and next overhead pass (not just global track)</li>
            <li>hamlib and flrig rig and rotator control for chasing DX spots</li>
            <li>display DE time in digital, analog or calendar formats </li>
            <li>list upcoming weekend contests</li>
            <li>azimuthal world maps centered on any location</li>
            <li>local weather, time, grid square, prefix and sun rise/set times at any DX location</li>
            <li>live display of DX Cluster, WSJT-X and JTDX FT8 contacts</li>
            <li>live solar images from Solar Dynamics Observatory and STEREO-A</li>
            <li>live quantitative Lunar data and EME planning tool</li>
            <li>live NCDXF beacon location, time and frequency schedule</li>
            <li>live RSS feeds from popular ham web sites</li>
            <li>live listing of POTA and SOTA activators</li>
            <li>live D layer absorption map </li>
            <li>live auroral map </li>
            <li>several map projections including Azimuthal, Mercator and Robinson</li>
            <li>Display headings from either true north or magnetic north</li>
            <li>Optional time scales including sidereal, Julian date and UNIX </li>
            <li>stopwatch and station ID count-down timer with optional color LED and switch control </li>
            <li>adjust time forward or back to explore Moon, gray line, satellite orbits etc</li>
            <li>Elecraft KX3 transceiver frequency control from DX Cluster spot</li>
            <li>2 BME280 sensors for temperature, pressure and humidity real-time and 25 hour trend plots</li>
            <li>Personalized WSPR, PSKReporter and RBN spot maps </li>
            <li>photosensor to adjust display brightness with changes in room lighting</li>
            <li>"On The Air" indicator controlled by GPIO pin from radio </li>
            <li>RESTful API remote control functions from any browser or curl command line</li>
            <li>can display on and be controlled from any web browser</li>
            <li>can become just a simple old fashioned time-and-temperature clock</li>
        </ol>

        <p class='pfaq' >
        Conversely, Geochron can do things HamClock can not. These items are certainly interesting
        but to me they do not seem specifically useful to the typical amateur radio operator:

        <ol style="padding-left:70px" >
            <li>air and sea traffic</li>
            <li>pollution, population and pandemic maps</li>
        </ol>

        <p class='pfaq' >
        I have nothing against Geochron. If I have misrepresented Geochron in any way, please
        <a href='mailto:ecdowney@clearskyinstitute.com?subject=HamClock'>tell me how</a>
        and I will correct immediately.

        </div>





        <h3 class='accordion-faq-h3'>
             How does the DX Cluster feature work?
        </h3>
        <div>

        <p>
        <ol>
            <li>
                In Setup page 2, tap the <i>Cluster?</i> button then set the internet <code>host</code>
                name and <code>port</code> number for your desired node.
                A good list is <a target="_blank" href="https://www.ng3k.com/Misc/cluster.html">here</a>.
                HamClock supports DX Spider, AR and CC node types.
                Not all are active so if the connection fails, try another.
                If no port is listed, try the usual default of 7300 for Spider and 7373 for AR-Cluster.

                <p>Also on Setup page 2:
                <ol>
                    <li>
                        You may enter a login different from your call, such as WB0OEW-1.
                        It is important to use unique logins for each program you use at the same time
                        as HamClock which are connecting to the same node.
                        If left blank, HamClock will use your call sign.
                    </li>
                    <li>
                        You can set one or more prefixes in the Watch list, separated by blanks or commas.
                        When a spot arrives starting any of these it will be highlighted in the list.
                    </li>
                    <li>
                        You can set several arbitrary cluster commands.
                        Those commands that are set <b>On</b> will be sent one time when HamClock
                        logs into the node.
                        HamClock will store all the commands for you, whether they are <b>On</b> or <b>Off</b>.
                        Use the commands appropriate to the type of node you select.
                        An intro to Spider commands is
                        <a target="_blank" href="http://www.dxcluster.org/main/filtering_en.html">here</a>
                        and for AR-Cluster
                        <a target="_blank" href="https://www.w9az.com/cluster/ArcFilters.htm">here</a>.

                        <p>
                        It is important to understand that cluster commands are saved on the node and remain
                        in effect for the given login name even if you log out and log back in.
                        It is not enough to just not send them to get the opposite effect.
                        For example, suppose you want to reject all spots of US amateurs, you could
                        enter this (spider) command and set it <b>On</b>:
            <pre>
            rej/spot 0 call_dxcc 226
            </pre>
                        Because it is set <b>On</b> HamClock will send this command when it logs in. 
                        Now suppose you restart HamClock and just turn this command <b>Off</b>.
                        This tells HamClock to not send this command when it logs in.
                        That's fine, but since the cluster remembers your settings across logins,
                        the filter will still remain in effect!
                        To turn off this filter, you need another command to explicitly clear it, such as
            <pre>
            clear/spot 0
            </pre>
                        Thus, it's a good idea to create pairs of commands, one to engage and one to cancel
                        each filter type.
                    </li>
                </ol>
            <li>
                While in Setup, go to page 5 and choose the desired scrolling direction.
                You can also control whether spots are labeled on the map as complete call signs or
                just the prefix and whether and how the full path is drawn.
                Note that only the DX side is labeled since it rarely matters who exactly made the spot,
                just where.
            </li>
            <li>
                Once HamClock is up and running, select the DX Cluster data pane in either of the two right
                panes.
                The name of the host will be shown in yellow while a connection attempt is in progress,
                then it will turn green when the connection is established.
                If the connection fails, it will show an error in red.
            </li>
            <li>
                Once connected, just leave it run, new spots will be listed, scrolling when full.
                Tap on a spot to set HamClock's DX to that location.
                The tap can also set the frequency of your radio, see the User Guide for details.
            </li>
            <li>
                HamClock stores several more spots than those listed; use the Up and Down arrows to
                scroll backwards and forwards through time.
                HamClock always adds new spots to the end of the list, but if you have scrolled away
                HamClock will <b>not</b> automatically scroll back to the beginning to show them.
                To ensure you will see new spots immediately, just make sure the opposing arrow is not drawn.
            </li>
            <li>
                <span style='color:hotpink'> Beware: </span>
                HamClock stays logged into the cluster node with your call sign as long as the DX Cluster
                data pane is visible. So do not use this feature if you want to use the unassisted
                category in a contest -- some judges do check!
            </li>
            <li>
                HamClock can also use the DX Cluster pane to communicate with WSJT-X or JTDX.
                Instead of showing cluster spots, it shows each FT8 station you log.
                Details for doing this are in the User Guide.
            </li>
            <li>
                HamClock enforces a limit of 10 server disconnects per hour.
                This was implemented at the request of cluster sysops to
                prevent HamClock repeating connection attempts endlessly do to the following situations:
                <ol>
                    <li>
                        You have multiple software programs connecting to the same cluster using the same login.
                        <p>
                        Clusters reject multiple simultaneous logins from the same callsign.
                        So when HamClock connects with the same call in use elsewhere,
                        the node disconnects, HamClock retries and this repeats continuously.
                        The limit of 10 now prevents this.
                        The solution is to use a unique suffix for each program,
                        such as WB0OEW-1 and WB0OEW-2.
                    </li>
                    <li>
                        You have set some nonsense cluster login, such as all blanks or NOCALL.
                        <p>
                        The nodes also reject these, resulting in the same reconnect looping situation.
                        The solution is to enter a valid call sign, perhaps with a suffix as above.
                    </li>
                </ol>
            </li>
        </ol>

        </div>





        <h3 class='accordion-faq-h3'>
             Can I make different sizes other than those in the Makefile?
        </h3>
        <div>

        <p class='pfaq' >
        No, HamClock can only be built these sizes:

        <ul class='big-indent'>
            <li>
            800x480
            <li>
            1600x960
            <li>
            2400xx1440
            <li>
            3200x1920
        </ul>

        <p class='pfaq' >
        The base size of 800x480 was set when HamClock started life back in 2016 on a stand-alone
        ESP8266 microprocessor with an 800x480 LCD display.

        <p class='pfaq' >
        It is not a simple matter to change that original aspect ratio.
        Each size requires its own custom fonts, graphics symbols, maps and images
        in order to take proper advantage of the different resolutions.
        Otherwise, these would be very pixelated if they were just multiples of the base images.
        Plus, if the ratio changes, the layout would need to be rebalanced.
        This is why all sizes are multiples of 2 of the base size in order to maintain the
        same layout proportions.

        </div>   <!-- resized makes -->










        <h3 class='accordion-faq-h3'>
             What is <b>xrandr</b>, or How do I get rid of the full-screen black border?
        </h3>
        <div>

        <p class='pfaq' >
        <i>xrandr is dying an agonizing death, consider using a browser instead, see FAQ 14.
        </i>

        <p class='pfaq' >
        Even though full screen mode uses the entire screen, HamClock still only uses the pixels
        specified in the make command size, filling the remaining space with black.
        With the GUI configuration (<i>not fb0</i>) you can try a command line program called
        <a target="_blank" href="https://www.commandlinux.com/man-page/man1/xrandr.1.html">xrandr</a>
        to expand HamClock to fill the screen by changing the effective display resolution to match HamClock.

        <p class='pfaq' >
        Xrandr works by changing how the X server maps pixels to the display hardware.
        It's easy to try and undo if you decide you don't like it.

        <p class='pfaq' >
        For example, my display is 1920 x 1080.
        HamClock can be built for sizes 800x480, 1600x960, 2400xx1440 and 3200x1920.
        Thus, the largest I can build HamClock that will fit is 1600 x 960.
        If I run this size with the Full screen option in setup set to Yes,
        HamClock will still be that size but will fill the surrounding gaps with black.
        With xrandr one can expand HamClock to fill the screen and eliminate those gaps.

        <p class='pfaq' >
        To try it on a Pi,
        log in from some other computer with ssh (or putty) so we aren't trying to adjust the same
        screen we are using for commands.
        Run the following command while HamClock is running in its full screen mode:

        <pre>
        xrandr --output HDMI-1 --scale-from 1600x960 --display :0
        </pre>

        <p class='pfaq' >
        That's it, the effect should be immediate but ...

        <ul style="margin-left:40px" >

            <li>
                If xrandr gives an error about bad parameter match, try changing 
                <code>scale-from</code> a little.
            </li>

            <li>
                If at any time you want to go back to normal run xrandr again with your original screen size:
<pre>
xrandr --output HDMI-1 --scale-from 1920x1080 --display :0
</pre>

            </li>

            <li>
                The xrandr change does not survive logging out or rebooting.
                To make the change permanent, put the exact xrandr command you liked in the file
                <code>~/.xsessionrc</code> using your favorite text editor.
            </li>

        </ul>

        <p class='pfaq' >
        On RPi version <code>bookworm</code> things are different because the default window system
        has become Wayland.
        You can either use <code>raspi-config</code> to change back to X11 so the above will work,
        or you can use Wayland's alternative command called <code>wlr-randr</code> as follows:

        <ol style="margin-left:40px" >

            <li>ssh into the pi to which the display is connected.
            </li>

            <li>type in the command:
<pre>
export WAYLAND_DISPLAY=wayland-1
</pre>
            </li>

            <li>run <code>wlr-randr</code> with no arguments to get a list of supported sizes.
            </li>

            <li>look through the list and find the smallest size that is larger than your hamclock.
            Also note the name of the display, as reported on the first line.
            </li>

            <li>run the command again but this time adding more arguments for your chosen values.
                For example:
<pre>
wlr-randr --output HDMI-A-1 --mode 1680x1050
</pre>
            </li>

            <li>The effect will only last until you log out.
                To make the change permanent, edit the file <code>~/.config/wayfire.ini</code> and
                add two lines at the bottom; again for the same example:
<pre>
[output]
mode = 1680x1050
</pre>
            </li>
        </ol>


        <p class='pfaq' >
        xrandr works on macOS too with XQuartz but it only allows choosing from a fixed set of sizes. 
        So you can still reduce the border but you may not be able to eliminate it altogether.
        The general idea is to use the following procedure, again adjust sizes to fit your situation:

        <ol style="margin-left:40px" >
            <li>Run xrandr with no arguments for a list of available sizes; pick one at or slightly larger than your hamclock.</li>
            <li>Start HamClock and enter Setup.</li>
            <li>Go to Page 5, click Full Screen to Yes; now just leave it there for the moment and go to the next step.</li>
            <li>In another terminal run <code>xrandr --size 1600x1200</code>. You'll see the hamclock size jump.</li>
            <li>Now back in HamClock, click Done and HamClock should now occupy almost the entire screen.</li>
            <li>To get your screen back to normal, hold HamClock's padlock for 3 seconds, then choose exit.</li>
            <li>If you get really stuck in full-screen mode, type Option-Command-A to force XQuartz back to normal.</li>
        </ol>


        </div>   <!-- xrandr -->






        <h3 class='accordion-faq-h3'>
             Can you bring back the old VOACAP data pane? I liked it much better.
        </h3>
        <div>

        <p class='pfaq' >
        In a word, no. I have two reasons.

        <p class='pfaq' >
        One is the previous version provided precision far beyond what is real.
        The VOACAP model is based on monthly averages, so several tens of percentage point
        changes can easily occur due to solar flares, geomagnetic disturbances
        and other effects that happen very rapidly.
        So although the model does generate percentage values,
        they don't really have as much meaning as the precision implies.
        I think of the VOACAP model as similar to climate.
        As the saying goes "climate is what you expect, weather is what you get".

        <p class='pfaq' >
        The second reason is I think seeing the daily trends adds greatly to the value of the display.
        For example, at a glance you can tell whether conditions will improve or get worse in the next
        few hours, or quickly pick a time of day that offers the best chances to contact a given location.
        These trends and planning capabilities were not possible when only the present hour values were shown.

        <p class='pfaq' >
        Having said this, I will allow that it was nice to see just the current conditions at a glance.
        This is why I added a small marker below the new graph to show the current time.
        This way, you can just scan your eye up that column to see basically the same information
        as presented previously, with precision that represents reality just as well.
        Granted they are not numbers, but the color choices remain the same as before:
        red < 33%, yellow < 66% and green above 66%, with one change that I now make < 10% black.

        <p class='pfaq' >
        Give it more time and perhaps you will come to like the new graph as much as I do.


        </div>   <!-- voacap -->






        <h3 class='accordion-faq-h3'>
             Does HamClock have a web interface?
        </h3>
        <div>

        <p class='pfaq' >
        <i>If you are looking for the RESTful API command interface, see FAQ 42.</i>

        <p class='pfaq' >
        Yes.
        Use a browser to load the page <code>live.html</code> on port 8081 from the host running hamclock.
        For example, if HamClock reports its local IP as 192.168.7.101, then enter this
        URL to run it from your browser:
        <pre>
        http://192.168.7.101:8081/live.html
        </pre>

        <p class='pfaq' >
        Some notes:
        <ul class='big-indent' >
            <li> HamClock will be centered if smaller than the browser window, or shrunk to fit if the browser
                 window is smaller.
                 If the image looks chunky, build HamClock at a larger resolution.
            </li>
            <li> Keyboard and mouse input work if you first click on
                 the HamClock window to give it focus.
            </li>
            <li> Multiple simultaneous browser connections will share the same instance,
                 they all have control and all will stay in sync with each other.
            </li>
            <li> Setup page 5 <code>Full screen web?</code>
                 is supported but won't engage until the user makes at least one mouse tap.
                 This is not a bug in HamClock, this is because of a
                 <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/Security/User_activation">web standard</a>
                 requirement to prevent malicious software from taking over the
                 screen without explicit user action to do so.
            </li>
            <li> To reset a browser session for any reason, refresh the page.
                 This will undo the full screen option until you click HamClock again (see previous).
            </li>
            <li> Screen blanking and timed on/off are not supported -- use your browser host's facility.
            </li>
            <li> If using full screen, the options to shutdown, restart etc apply to the computer
                 running HamClock, not the computer displaying it in a browser.
            </li>
            <li> If bandwidth is a concern, the lowest bandwidth occurs when
                 HamClock is made 800x480 and the map Night option is off.
            </li>
            <li> If unintended or malicious input is a concern,
                 connect instead to port 8082 which provides a read-only interface
                 or add passwords with -p per FAQ 52.
            </li>
        </ul>


        <p class='pfaq' >
        Why would you use this?
        <ul class='big-indent' >
            <li>
                It's an easier alternative to VNC or remote X servers.
            </li>
            <li>
                It's an easier way to accomplish full screen compared to using xrandr.
            </li>
            <li>
                It allows displaying one HamClock on multiple monitors simultaneously for, say,
                a contest group.
                <p>
                To run multiple <i>independent</i> instances from the same
                URL see the User Contrib 12.
            </lk>
            <li>
                You can see and control HamClock with your phone (if you dare).
            </li>
            <li>
                It's the easiest way to run HamClock on a headless Pi.
                To try this, make one of the <code>hamclock-web-XXX</code> versions and run as follows:
                (type <code>make help</code> for a complete list)
<pre>
    cd ~/ESPHamClock
    make -j 4 hamclock-web-1600x960
    sudo make install
    hamclock &
</pre>
                You won't see anything on your screen now, but browse to the host running
                HamClock as described above and <i>voil&agrave;!</i> you will find a live HamClock.
                <p>
                To start this automatically on each boot, run <code>crontab -e</code> then
                add the following as the last line:
<pre>
@reboot /usr/local/bin/hamclock
</pre>
            </li>

        </ul>

        <p class='pfaq' >
        Can I change the connection port number?

        <ul class='big-indent' >
            <li>
                 Yes, by using the -w command line option.
                 For example, to change to port 7000, run hamclock as follows:

<pre>
    hamclock -w 7000
</pre>

            </li>
        </ul>

        <p class='pfaq' >
        Can I connect with https?

        <p class='big-indent' >
        Not directly, HamClock only supports http connections.
        But if you have administrative access to a web site running apache,
        you can set up a reverse https proxy as follows:

        <ul class='big-indent' >

            <li>
            You must use HamClock version 2.96 or newer.
            </li>

            <li>
            Find the apache configuration file containing the section for your VirtualHost *:443.
            On Ubuntu, it's somewhere in <code>/etc/apache2</code>.
            </li>

            <li>
            Within this section insert the following:
<pre>
    # allow specific https access to http hamclock
    ProxyPass  /hamclock-live/live.html   http://127.0.0.1:8081/live.html
    ProxyPass  /hamclock-live/favicon.ico http://127.0.0.1:8081/favicon.ico
    ProxyPass  /hamclock-live/live-ws     ws://127.0.0.1:8081/live-ws
</pre>
            Use port 8082 for read-only access.
            </li>

            <li>
            Make sure a few modules are loaded:
<pre>
    a2enmod proxy proxy_wstunnel proxy_http
</pre>
            </li>

            <li>
            Restart apache, typically with <code>apachectl graceful</code>.
            </li>

            <li>
            Build and run hamclock on the same machine running apache.
            </li>

            <li>
            Now use any browser and surf to your new HamClock web site with the following URL:
<pre>
    https://&lt;your_web_site>/hamclock-live/live.html
</pre>
            </li>
        </ul>



        <p class='pfaq' >
        Cheers, and thanks for using HamClock.





        </div>   <!-- web interface -->






        <h3 class='accordion-faq-h3'>
             Why do I get an error when displaying a satellite or it disappears after a while?
        </h3>
        <div>

        <p class='pfaq' >
        Probably because your time is off.
        If the button below and to the right of your call sign says
        <span style="background-color:red; color:white">OFF</span>
        then tap it so it says
        <span style="background-color:white; color:black">UTC</span>
        and try again.

        <p class='pfaq' >
        The error occurs because sat elements are only good for a few days so if the clock's time has
        been adjusted outside the valid range you'll get an error message.
        Time can be adjusted away from UTC if you click any of the time fields.
        That can be handy to intentionally move time forward or backwards to explore gray line,
        VOACAP predictions etc. See page 7 of the User Guide for more details.

        </div>  <!-- sat err -->






        <h3 class='accordion-faq-h3'>
             Why do I have two HamClocks with identical settings showing slightly different VOACAP maps?
        </h3>
        <div>

        <p class='pfaq' >
        Because they are showing maps for two adjacent hours.

        <p class='pfaq' >
        Ideally all Clocks would update at the top of the hour.
        But with several thousand Clocks running the world over that would overwhelm the backend server.
        In order to spread out server hits, Clocks intentionally randomize their VOACAP
        updates throughout each hour.
        This means the map shown by any given Clock might be up to one hour late.

        <p class='pfaq' >
        So in your case, one clock is showing a map for the current hour,
        and the other is still showing from the previous hour.
        When the Clock that happens to be updating later updates, it will then show the same map until
        the cycle repeats next hour.

        </div>  <!-- different VOACAP maps -->





        <h3 class='accordion-faq-h3'>
             Why is my grid square wrong?
        </h3>
        <div>

        <p class='pfaq' >
        It's probably not wrong but I can think of two possibilities why you might think so:

        <p class='pfaq' >
        <ol>
            <li>
            You are near a grid boundary and the HamClock display is misleading because of rounding.
            <p>
            For example, suppose you set your location to 35.1N 110.1W which is in grid DM45.
            HamClock will display this in the main DE pane as 35N 110W grid DM45.
            But taken at face value 35N 110W is in grid DM55 so the grid appears to be wrong because 
            the location is rounded for display.
            When in doubt, open the lat/long dialog to review the values as they are stored internally.
            <p>
            Note that displaying more precision would not eliminate this issue entirely,
            it can only reduce the region where this occurs.
            </li>

            <li>
            There are two different algorithms for exactly where a grid square is located.
            <p>
            Some programs use the center of a grid for their position, others use the SW corner.
            HamClock uses the corner because that is the historical technique described in
                <a target="_blank" href='QSTGridSquares.pdf'>this paper</a> published in January 1989 QST.
            My personal favorite web site that uses this technique is
                <a target="_blank" href='https://www.karhukoti.com/maidenhead-grid-square-locator'>here</a>.
            But other popular web sites use the center, such as
                <a target="_blank" href='https://www.qrz.com/gridmapper'>this one</a> on QRZ.com.
            So it depends which you consider correct.
        </ol>

        <p class='pfaq' >
        If you still feel HamClock is in error, please 
        <a target="_blank" href='mailto:ecdowney@clearskyinstitute.com?subject=HamClock'>send me the exact details</a>.

        </div>   <!-- grid square -->





        <h3 class='accordion-faq-h3'>
             What is the HamClock diagnostic output?
        </h3>
        <div>

        <p class='pfaq' >
        It is additional detailed status and diagnostic information HamClock writes to the file
        <code>$HOME/.hamclock/diagnostic-log.txt</code>.
        It is not intended for general consumption but can be helpful for troubleshooting.

        <p class='pfaq' >
        The previous 3 logs are also stored in a rolling set with the following names:
        <pre>
        <code>diagnostic-log-0.txt</code>
        <code>diagnostic-log-1.txt</code>
        <code>diagnostic-log-2.txt</code>
        </pre>

        <p class='pfaq' >
        Sometimes it can be helpful to watch the file in real time which you can do with the following
        command; type Control-C to quit.
        <pre>
        tail -f $HOME/.hamclock/diagnostic-log.txt
        </pre>

        <p class='pfaq' >
        When asking for assistance, you may be asked to upload these files to my server for analysis.
        To do so, tap the padlock icon then select <code>Post diagnostics</code>.

        <p class='pfaq' >
        The amount of information added to the diagnostic file can be changed while HamClock is running
        using the RESTful command <code>set_debug</code>.
        All the current levels are included in the reply to <code>get_sys.txt</code>.
        Larger level values will log more diagnostic information.

        <p class='pfaq' >
        For example, the following command will set the debug level for the ADIF subsystem to 1:
        <pre>
        curl '&lt;hamclock-ip&gt;:8080/set_debug?name=ADIF&level=1'
        </pre>

        </div>






        <h3 class='accordion-faq-h3'>
             What is sudo and set-uid and why should I use them with HamClock, or not?
        </h3>
        <div>

        <p class='pfaq' >
        <b>Sudo</b> stands for "super-user do".
        In UNIX, the <i>super user</i> refers to extra privileges bestowed upon the <i>root</i> user.
        Rather than actually logging out and logging back in as user root to gain these privileges,
        this command arranges for you to have these greater privileges just long enough
        to run the command that follows on the same line.
        After that command completes, you are again restricted back to the normal privileges of your current
        user login.

        <p class='pfaq' >
        But using sudo comes at a price.
        <ol>
            <li>
                Depending on <code>/etc/sudoers</code> it may require entering a password each time.
            </li>
            <li>
                It temporarily changes the HOME directory to <code>/root</code>.
                HamClock creates and uses a working directory named <code>.hamclock</code> (note the leading dot)
                in the HOME directory. HOME for the normal pi user is <code>/home/pi</code>.
                Thus, if you run HamClock without sudo it uses <code>/home/pi/.hamclock</code>
                but if you run it with sudo it uses <code>/root/.hamclock</code> and files therein are not
                accessible to the normal pi user.
                This duality can cause much confusion.
            </li>
            <li>
                sudo temporarly imposes a new set of minimal, more secure, environment variables.
                For example HOME becomes <code>/root</code>,
                PATH becomes just <code>/bin:/usr/bin</code> and DISPLAY is removed
                entirely. These are all at odds with HamClock.
            </li>
        </ol>

        <p class='pfaq' >
        A <i>much</i> better way is to use <b>set-uid</b>.
        This refers to an automatic mechanism engaged by setting the mode of a program file in
        such a way that when the process runs, it has the same permissions as the <i>owner</i> of the file.
        Normally, the process has the permissions of the <i>user</i> running the file.
        Thus by making the program file owned by root,
        it has super-user privileges no matter what user runs it.
        Using this mechanism for HamClock allows it to have super-user privileges without using sudo.
        Unlike sudo, using set-uid does not change anything else, so HamClock will still use your
        <code>/home/pi/.hamclock</code> directory for its support
        files as expected.

        <p class='pfaq' >
        The reason to escalate privileges with either of these methods in the first place is that
        HamClock requires super-user privileges to perform certain external IO and protected file
        system operations.
        It is possible in some configrations for someone with sufficient UNIX administrative
        knowledge to make adjustments so HamClock can run without super-user privileges, but this
        is beyond what most users want to deal with.
        So in the interest of providing the simplest and most enjoyable experience possible for
        the majority of users, the install instructions use set-uid root.

        <p class='pfaq' >
        For those still interested in eliminating the need for root privileges, the following
        commands may help for RPi. They perform the following functions:
        <ol class='big-indent' >
            <li>add user pi to various groups to allow necessary IO access </li>
            <li>remove the set-uid bit from the executable file</li>
            <li>change the group ownership of /usr/local/bin to user pi</li>
            <li>allow any user in group pi (specifically user pi) to modify /usr/local/bin</li>
        </ol>

<pre>
    sudo usermod --append --groups video,input,gpio,i2c pi
    sudo chmod u-s /usr/local/bin/hamclock
    sudo chgrp pi /usr/local/bin
    sudo chmod g+w /usr/local/bin
</pre>

        <p class='pfaq' >
        The last two steps are required so automatic updates may write a new version of the
        executable file in /usr/local/bin.

        <p class='pfaq' >
        After executing these commands, subsequent instances of hamclock will no longer run as root
        but should be able to perform most functions.
        But note if you perform <code>sudo make install</code> again in the future
        this will set the set-uid bit again so remember to perform command 2 again.

        </div>


        <h3 class='accordion-faq-h3'>
             Is it possible to change the RSS feeds?
        </h3>
        <div>

        <p class='pfaq' >
        No. RSS feed formats are surprisingly inconsistent so I perform all the heavy lifting on my
        server and only send the plain titles back to HamClock. Plus, most now use https which uses too 
        much memory for the little ESP processor.


        <p class='pfaq' >
        That said, if you have a feed in mind that is of general interest to the global ham
        community,
        <a target="_blank" href='mailto:ecdowney@clearskyinstitute.com?subject=HamClock'>send me your suggestion</a>
        and I will consider adding it to the server processing.

        <p class='pfaq' >
        You might also consider setting your own titles locally using the set_rss web command (see FAQ 14)
        or run the contributed script hcrss.pl (see the User Contrib tab).

        </div>  <!-- RSS -->





        <h3 class='accordion-faq-h3'>
             Is it possible to speed up the data pane rotation?
        </h3>
        <div>

        <p class='pfaq' >
        Yes.
        See Setup page 5 for several speed choices.

        </div>  <!-- pane speed -->




        <h3 class='accordion-faq-h3'>
             Occasionally I see "WX too fast" or similar -- What does that mean?
        </h3>
        <div>

        <p class='pfaq' >
        It means either my connection to Open Weather Map is overloaded or your
        clock is making queries too rapidly.

        <p class='pfaq' >
        In order to stay within the usage limits of my OWM subscription,
        my backend server will deny all HamClock weather queries if they arrive faster
        than 200 per minute.

        <p class='pfaq' >
        My server also limits the request rate from any one public IP.
        Note if you have more than one HamClock at your shack, they all count as one for this limit because
        they each report the same public IP address.

        </div>  <!-- WX too fast -->




        <h3 class='accordion-faq-h3'>
             Why is the data pane choice menu not working as I expect?
        </h3>
        <div>

        <p class='pfaq' >
        If you are asking why you can not turn off a specific choice:
        <ul class='big-indent' >
            <li>
            Each data pane must have at least one choice enabled at all times.
            To enforce this policy, you are not allowed to turn off the only remaining choice.
            The correct procedure is to first select another choice,
            then turn off the one you no longer want.
            </li>
        </ul>

        <p class='pfaq' >
        If you are asking why a specific choice is not listed:
        <ul class='big-indent' >
            <li>
            A given choice may only be assigned to one data pane at a time.
            To enforce this policy, the menus automatically remove choices
            that are already assigned to other panes. 
            The correct procedure to move a choice to a different pane is to first turn it off
            in its current pane, then select it in the desired pane.
            </li>

            <li>
            Note also that the DX Cluster data pane is not allowed to be in the left position
            across the top.
            </li>

        </ul>


        </div>  <!-- pane menu broken -->





        <h3 class='accordion-faq-h3'>
             Is it possible to change the set of satellites?
        </h3>
        <div>

        <p class='pfaq' >
        No. The list is maintained on my server which performs all the heavy lifting of discovery and
        updating, sending only the TLEs back to HamClock.

        <p class='pfaq' >
        That said, if you have a satellite in mind that is of general interest
        to the global ham community feel free to send me a suggestion at
        <a target="_blank" href='mailto:ecdowney@clearskyinstitute.com?subject=HamClock'>ecdowney@clearskyinstitute.com</a>.

        </div>


        <h3 class='accordion-faq-h3'>
             How are the background maps managed?
        </h3>
        <div>

        <p class='pfaq' >
        As of Version 2.52, the background map images are downloaded and stored as local files as needed.
        In previous versions they were embedded within the executable image and were thus immutable
        and limited by size of non-volatile memory.

        <p class='pfaq' >
        This meant the ESP HamClocks could only ever support one map style, and even that was only at half
        the available screen resolution. ESP HamClocks now use the extended FLASH file system to store the
        map images at full resolution. The improved resolution is especially apparent in the night
        portion of the Terrain style map.
        Unfortunately, more pixels and slower FLASH access means the display
        update rate on the ESP is about 30% slower now
        but the added flexibility and visual results seem worth it.

        <p class='pfaq' >
        The UNIX versions of HamClock store their map files in <code>~/.hamclock</code>
        so the number of files is limied only by available disk space.

        <p class='pfaq' >
        If you run HamClock without a network connection, you will be limited to map styles already
        downloaded.

        <p class='pfaq' >
        The maps are stored in .bmp format, version 4, using 16 bit RG565 pixels.
        There are separate files for day and night for each map style.
        HamClock uses these to render the day and night regions and blends them in a 12&deg; band to 
        simulate civil twilight.

        </div>



        <h3 class='accordion-faq-h3'>
             How does the self-update facility work?
        </h3>
        <div>

        <p class='pfaq' >
        When asked to update itself, HamClock checks the support server if there is a newer version available.
        If so, for the ESP systems this is a binary file that is downloaded directly into FLASH and
        that's all there is to it.

        <p class='pfaq' >
        But for the Desktop UNIX systems, this is a zip file containing the source code that requires
        many more steps:
            <ol style='margin-left:40px' >
                <li> the zip is downloaded into a unique directory within /tmp </li>
                <li> it is exploded with unzip which creates the source tree </li>
                <li> <code>make</code> is run within the source tree, using the same target that was used
                     to build the currently running program </li>
                <li> the resulting program file effectly overwrites the currently running program file. </li>
            </ol>
        
        <p class='pfaq' >
        These steps present two challenges: how to
        find the full path of the program file to a running program and
        how to update its program file while it is still running.

        <p class='pfaq' >
        To find the program file full path, HamClock first checks the argv[0] path given when it was
        executed, digging through symlinks if necessary to find the real program file.
        If this is already a full path, indicated by beginning with a slash (/), we are done.
        If not, then a test is made whether a file with that name exists with respect to the current working
        directory of HamClock. If so, we are done. If it still is not found, then the argv[0] name is
        checked for in each of the directories named in the PATH environment variable. If still not found,
        the update fails.

        <p class='pfaq' >
        To update the program file, we have to deal with the fact that it is not possible on UNIX to
        modify the program file of a running program (even as root).
        So instead, HamClock does it indirectly by first removing the program file then copying in
        the new one created by <code>make</code> so it has the same name.
        To remove the current program file, HamClock requires write permission on
        its containing directory because removing a file actually just edits it out of its
        containing directory. If HamClock does not have this permission, the update fails.
        Copying in the new file then edits the same name back into the same
        directory, so it looks like it was overwritten when actually it was deleted and added again.
        Meanwhile, HamClock can continue to run because a deleted file still actually exists in memory
        until the last process with it open either closes it or exits, even if it is not named by any
        directory.


        </div>






        <h3 class='accordion-faq-h3'>
             How do I connect the Bosch BME280 environment sensor to RPi?
        </h3>
        <div>


        <p class='pfaq' >
        You have two choices.
        One is to wire it to the 40 pin header as described below. 
        The other is to use a USB-I2C bridge as described in FAQ 45.

        <h3 style="color:white" >
            On the Raspberry Pi running linux, proceed as follows:
        </h3>

            <ol>
                <li> connect the sensor to the RPi using the 40 pin connector as follows:
                    <p>
                    <table border='1'>
                        <tr> <th> BME label </th> <th> RPi Header pin </th> </tr>
                        <tr> <td> Vin </td> <td> 1 </td> </tr>
                        <tr> <td> SDI </td> <td> 3 </td> </tr>
                        <tr> <td> SCK </td> <td> 5 </td> </tr>
                        <tr> <td> GND </td> <td> 9 </td> </tr>
                    </table>
                    <p>
                    <br>
                    <img loading='lazy' src="BME280-connection.png">
                    <br>
                </li>
                <li> install i2c-tools:
<pre>
    sudo apt-get install i2c-tools
</pre>
                </li>
                <li> run <code>sudo raspi-config</code> and set the following options:
<pre>
    Interface Options &#8658; I2C: enabled
</pre>
                </li>
                <li> Check the Bosch is connected correctly with these tests:
<pre>
    sudo i2cdetect -y 1
</pre>
            you should see 77 in lower right corner of matrix; then
<pre>
    sudo i2cdump -y 1 0x77 b
</pre>
            you should see a matrix of different numbers, <b>not</b> just all XX
                </li>
                <li>
                    Start HamClock. Enter Setup, go to Page 4, tap GPIO so it says Active.
                    Also select whether you want metric or imperial units.
                    For now leave the delta values set to zero. Click Done.
                </li>
                <li>
                    After HamClock is up and running again, tap any data pane and select one of the
                    ENV plots.
                </li>
                <li>
                    If you have some means of measuring temperature and pressure independent of the
                    BME280, note the errors, restart HamClock and enter the corrections in page 2 of
                    Setup.
                </li>
                <li>
                    Finally, you may add a second BME280 as shown in the following schematic.
                    Note that each has a different I2C bus address depending on whether SDO is grounded.

                    <p>
                    <br>
                    <img loading='lazy' src="BME280-2-connection.png">
                    <br>
                </li>
            </ol>

        <p class='pfaq' >

        <h3 style="color:white" >
            On a Raspberry Pi running FreeBSD 14.0-RELEASE, proceed as follows:
        </h3>

            <ol>
                <li>
                    Connect the hardware the same as above
                </li>

                <li>
                    Edit <code>/boot/msdos/config.txt</code> to add the following line to the 
                    <code>[all]</code> section then reboot:
<pre>
gpio=2,3=a0
</pre>
                </li>

                <li>
                    Test by running <code>sudo i2c -s</code> which should immediately report the device
                    address(es).
                </li>

            </ol>

        <h3 style="color:white" >
            How long can the cable be?
        </h3>

        <p class='pfaq' >

        I have used a direct connection of ten feet without any problem.
        I have also successfully used 100 feet of Cat 5 using a pair of these
        <a target="_blank" href="https://www.sparkfun.com/products/16988">extenders from Sparkfun</a>.

        </div>    <!-- BME on Pi -->




        <h3 class='accordion-faq-h3'>
             What if my BME280 always reads 100% humidity?
        </h3>
        <div>

        <p class='pfaq' >
        This may mean your device has become saturated. 
        According to the
        <a target="_blank"
            href="https://www.bosch-sensortec.com/media/boschsensortec/downloads/datasheets/bst-bme280-ds002.pdf">data sheet</a>
        page 46, you can try reconditioning the device by baking it at
        120 C for 2 hours, then letting it slowly cool to 25 C over 24 hours.
        If this doesn't help then your device may be broken.

        </div>  <!-- 100% humidity -->





        <h3 class='accordion-faq-h3'>
             How do I exit HamClock?
        </h3>
        <div>

        <p class='pfaq' >
        Click and hold the padlock for 3 seconds, then select Exit.

        </div>




        <h3 class='accordion-faq-h3'>
             What happened to fb0?
        </h3>
        <div>

        <p class='pfaq' >
        Nothing, it's still supported for legacy users, but now that the GUI version can display 
        full screen it is no longer recommended for new installations.

        <p class='pfaq' >
        For those new to HamClock who may not know about fb0, it was an early attempt to provide a
        full screen experience by turning off the GUI and accessing the RPi video frame buffer directly.
        This was accessed through the special
        file <code>/dev/fb0</code>, and hence the name.
        This allowed HamClock to fullfill its charter purpose on RPi of being a stand-alone
        appliance for ham radio information. Although successful, it required a lot of special
        programming and could be a challenge for users to install. It is now replaced by using
        <a target="_blank" href="https://specifications.freedesktop.org/wm-spec/1.3/ar01s05.html">
            FreeDesktop.org atoms</a>
        to accomplish the same full screen functionality with the normal X11 GUI.

        <p class='pfaq' >

        If you have fb0 installed, please remove it before installing any new versions.
        This requires the following steps:

            <ol>
                <li>log into your RPi with ssh </li>

                <li>stop automatically starting hamclock, for example if you
                used crontab, 
                type <code>crontab -e</code> and remove the line that runs hamclock
                </li>

                <li>
                Make sure the GL driver is enabled by running <code>sudo raspi-config</code> and
                doing
                <p style="margin-left:20px; font-family: Courier, sans-serif">
    Advanced Options &#8658; GL driver &#8658; OpenGL with fake KMS &#8658; Ok
                <br>
                <i>don't reboot yet</i>
                </li>

                <li>Restore using the GUI by doing
                <p style="margin-left:20px; font-family: Courier, sans-serif">
                System Options &#8658; Boot &#8658; Desktop Autologin &#8658; Ok &#8658; Finish &#8658; Reboot? Yes
                </li>
            </ol>

        </div> <!-- fb0 -->


        <h3 class='accordion-faq-h3'>
             Must I use /usr/local/bin for the executable?
        </h3>
        <div>

        <p class='pfaq' >
        No. To build hamclock and put it in, say, /usr/bin, use the following steps:
        <pre>
        cd ESPHamClock
        make -j 4 hamclock-1600x960
        sudo mv hamclock-1600x960 /usr/bin/hamclock
        sudo chown root /usr/bin/hamclock
        sudo chmod u+s /usr/bin/hamclock
        </pre>

        </div> <!-- /usr/local/bin -->





        <h3 class='accordion-faq-h3'>
             Why does my screen go blank after a short while or not blank at all?
        </h3>
        <div>

        <p class='pfaq' >
        Screen blanking control is a complex dance between the host and HamClock,
        and the music keeps changing.

        <p class='pfaq' >
        Let's check the host first.

        <ol>
            <li> On systems running RPi Debian Bullseye start a terminal

                <ol >

                    <li> run <code>sudo raspi-config</code> then 
                        <ol>
                            <li> Go to Display Options &#8658; Screen Blanking &#8658; Enable </li>
                            <li> Go to Advanced Options &#8658; Wayland &#8658; Disable </li>
                            <li> select Finish (don't reboot yet)</li>
                        </ol>
                    </li>

                    <li> HamClock and xscreensaver do not mix.
                    To make sure you don't have it installed, run these commands:

                        <ol>
                            <li> <code>sudo apt remove xscreensaver</code> </li>
                            <li> <code>sudo apt autoremove</code> </li>
                        </ol>
                    </li>

                    <li>
                        Edit <code>/etc/X11/xorg.conf.d/10-blanking.conf</code> and make sure the line for
                        DPMS shows <code>Enable</code>. 
                    </li>

                    <li> reboot
                    </li>

                    <li> Log in, open a terminal and type <code>xset dpms force off</code>.
                         If the screen goes blank then HamClock should be able to blank the screen as well.
                         Click your mouse or type any key to get the display back on.
                    </li>
                </ol>
            </li>

            <li>
                On systems running Bookworm, or any system running Wayland, the means to control screen
                blanking is not yet stable which means the Idle timer and On/Off controls may not work at all.
                At the very least, on RPi make sure to use the HDMI plug nearest the power port.
                Give it a try without changing anything first; you might be lucky.

                <p>
                You may find HamClock can turn the monitor off but it comes right back on again.
                If this happens edit <code>/boot/firmware/cmdline.txt</code>
                and add <code>vc4.force_hotplug=1</code> to the end of the existing line
                (don't create a new line), then reboot.

                <p>
                If still no luck, your best bet is to turn off Wayland as follows:

                <ol>
                    <li> run <code>sudo raspi-config</code> then
                        <ol>
                            <li> Go to Display Options &#8658; Screen Blanking &#8658; Disable </li>
                            <li> Go to Advanced Options &#8658; Wayland &#8658; Disable </li>
                            <li> select Finish (don't reboot yet)</li>
                        </ol>
                    </li>

                    <li>
                        Edit <code>/etc/X11/xorg.conf.d/10-blanking.conf</code> and make sure the line for
                        DPMS shows <code>Enable</code>. 
                    </li>

                    <li> Click the Raspberry in the upper left corner to log out and log back in
                    </li>

                    <li> Open a terminal and type <code>xset dpms force off</code>.
                         If the screen goes blank then HamClock should be able to blank the screen as well.
                         Click your mouse or type any key to get the display back on.
                    </li>
                </ol>
            </li>

            <li>
                It could also be the monitor itself.
                Activate the monitor's own control menus and look for an option related to automatically
                setting the input. 
                Turning this off and setting HDMI directly can sometimes help.
            </li>
        </ol>

        <p class='pfaq' >
        As for HamClock itself, it will only blank the screen if:

            <ul style="margin-left:40px" >
                <li>Full Screen mode is Yes in Setup page 5</li>
                <li>it was not built to be web-only</li>
                <li>it is displaying on the same system on which it is running</li>
            </ul>

        <p class='pfaq' >
        If these criteria are not met then HamClock will not try to blank the screen,
        thus any blanking that does occur must be caused by the host system, not HamClock.

        <p class='pfaq' >
        Follows are the HamClock settings that control when it will blank the screen:

            <ul style="margin-left:40px" >
                <li>
                Check the Idle time in the upper right corner.
                You may have to click the title region to change options to find the value.
                Click just above or below the Idle number to increase or decrease by 5 minutes.
                Set to 0 to display idle blanking.
                </li>

                <li>
                Check the Off and On (or Dim) times in the same menu.
                Change them the same way; set the times equal to disable blanking.
                These can also be set on a daily basis in Setup page 7.
                </li>

            </ul>

        </div> <!-- blank screen -->



        <h3 class='accordion-faq-h3'>
             Why is the CPU usage so high on the Pi and other UNIX platforms?
        </h3>
        <div>

        <p class='pfaq' >
        This is a consequence of HamClock being originally written for the ESP8266 embedded processor.
        I wrote a porting layer that allows me to use the same application code on the Pi.
        This saves me a lot of effort but since the ESP8266 code is fundamentally an infinite loop,
        the result is the UNIX program runs all the time also.

        <p class='pfaq' >
        It's not usually a big deal in practice but if it bothers you,
        use the hamclock -t command line argument to set the desired CPU percentage.
        For example, to limit cpu usage to about 50%, run hamclock as follows:
        <pre>
        hamclock -t 50
        </pre>

        <p class='pfaq' >
        Note that lower limits will result in more sluggish performance.

        </div> <!-- high CPU -->



        <h3 class='accordion-faq-h3'>
             What are rigctld and rotctld?

        </h3>
        <div>

        <p class='pfaq' >
        <a target="_blank" href="http://hamlib.sourceforge.net/html/rotctld.1.html">Rigctld</a>
        is
        <a target="_blank" href="https://hamlib.github.io">hamlib's</a>
        <i><u>rig</u> <u>c</u>on<u>t</u>ro<u>l</u> <u>d</u>aemon</i>,
        and
        <a target="_blank" href="http://hamlib.sourceforge.net/html/rotctld.1.html">rotctld</a>
        is the
        <i><u>rot</u>ator <u>c</u>on<u>t</u>ro<u>l</u> <u>d</u>aemon</i>.
        They provide a device independent network protocol to control several brands of radios
        and single and dual axis antenna rotators without having to know their individual commands.
        On RPi you can install them with <code>sudo apt install hamlib</code>.

        <p class='pfaq' >
        <canvas style="margin-left=50px" id='hamlib_canvas' width='800' height='150' > </canvas>

        <p class='pfaq' >
        HamClock can create a network connection to these programs for automatic control of
        any radio or rotator&ast; supported by hamlib.
        To get a list of all supported equipment run the programs with <code>-l</code>,
        such as <code>rigctld -l</code>.
        <i>You must get these hamlib programs working with your equipment before you can use
        them with HamClock.</i>

        <p class='pfaq' >
        For practice, you can run either program in simulation mode by specifying model one, such as
        <code>rotctld -m 1</code>.
        Then enter the program's host and port number in HamClock's Setup, page 3.
        The rotator simulator is particularly fun.
        Start the simulator, then select the Rotator pane and get acquainted with the
        controls before connecting to your real rotator.
        There is no pane dedicated to rig control, it is only used to automatically set the radio frequency
        of a DX Cluster spot.

        <p class='pfaq' >
        Do not confuse rigctld (or rotctld) with another hamlib program named
        <a target="_blank" href="http://hamlib.sourceforge.net/html/rigctl.1.html">rigctl</a>
        (or <a target="_blank" href="http://hamlib.sourceforge.net/html/rotctl.1.html">rotctl</a>).
        This program, without the trailing d, provides direct radio (or rotator)
        control using the command line, not a network connection.
        Both the command line and the network program use the same control libraries under the hood,
        so if one works the other will also.
        It can be a good idea to use rigctl (or rotctl) for initial testing, then once that works,
        change to rigctld (or rotctld) using the same <code>-m</code> model selector to allow
        network control from HamClock.

        <p class='pfaq' >
        &ast; Note as a special case, although the 
        <a target="_blank" href="https://www.yaesu.com/indexVS.cfm?cmd=DisplayProducts&ProdCatID=104&encProdID=79A89CEC477AA3B819EE02831F3FD5B8">Yaesu G5500</a>
        rotator is not supported by hamlib because it has no serial or networked computer interface,
        there is a project that provides a drop-in replacement for rotctld for the G5500
        <a target="_blank" href="https://clearskyinstitute.com/ham/G5500"> here </a>.

        </div> <!-- rotctld -->

        <h3 class='accordion-faq-h3'>
             What is flrig?

        </h3>
        <div>

        <p class='pfaq' >
        <a target="_blank" href="http://www.w1hkj.com/files/flrig/flrig-help.pdf">flrig</a>
        is w1hkj's program to provide network control of many ham radio transceivers. 
        It historically provided rig control to 
        <a target="_blank" href="http://www.w1hkj.com/FldigiHelp/index.html">fldigi</a>
        but works very well on its own.
        Unlike the
        <a target="_blank" href="https://hamlib.github.io">hamlib</a>
        tools, flrig includes its own GUI so many consider it easier to use.

        <p class='pfaq' >
        You can download packages for several platforms 
        <a target="_blank" href="https://sourceforge.net/projects/fldigi/files/flrig/"> here</a>
        or on RPi you can install it with the command <code>sudo apt install flrig</code>. 
        Once installed, just type <code>flrig</code> and go to Config &#8594; Setup &#8594; Transceiver to 
        prepare for your radio.



        </div> <!-- flrig -->



        <h3 class='accordion-faq-h3'>
             Can HamClock run without a network connection?

        </h3>
        <div>

        <p class='pfaq' >
        It will run but you won't see much.

        <p class='pfaq' >
        HamClock connects to clearskyinstitute.com for all the data plots, real-time images and
        maps and to various NTP servers for time.
        That just leaves the moon, NCDXF beacons, and BME environment data that is sourced locally.

        <p class='pfaq' >
        You could get time without a net connection by using a GPS antenna and running gpsd.

        <p class='pfaq' >
        On the other hand if you have a <i>slow</i> network connection, see FAQ 46.

        </div> <!-- no net -->




        <h3 class='accordion-faq-h3'>
             Why does HamClock report K index and not A?

        </h3>
        <div>

        <p class='pfaq' >
        Because K is more timely.
        The K index is reported every three hours while the A index is only updated once per day.
        Another important advantage is the 2 day forecast provided by NOAA for K index,
        which is not provided for A index.
        Together these features provide increased resolution and a better
        indication of expected trends than the A index.

        <p class='pfaq' >
        You can find the exact relationship between A and K in the
        <a target="_blank" href="https://en.wikipedia.org/wiki/K-index">WikiPedia article</a>.

        </div> <!-- K index -->

        <h3 class='accordion-faq-h3'>
             Why does HamClock report a different space weather value compared to XYZ?

        </h3>
        <div>

        <p class='pfaq' >
        It could be a different source or different timing.

        <p class='pfaq' >
        There are multiple primary resources for some statistics so it depends on which you are comparing 
        with.

        For example, the sun spot numbers are determined and reported independently by
        <a target="_blank" href="https://services.swpc.noaa.gov/text/daily-solar-indices.txt">NOAA</a>
        in the US and
        <a target="_blank" href="https://www.sidc.be/silso/eisninfo">SILSO</a> in Belgium.

        <p class='pfaq' >
        It can also be due to timing.
        The various primary data sources publish at different times during the day
        and they are not always exactly on time.
        The secondary data consumers also have their own schedule of picking up the values
        which can also vary.

        For example, even WWV sources are not always in sync.
        Typically their Sun Spot Number
        <a target="_blank" href="https://services.swpc.noaa.gov/json/solar-cycle/swpc_observed_ssn.json">json</a> feed is several hours ahead of their
        <a target="_blank" href="https://services.swpc.noaa.gov/text/daily-solar-indices.txt">text</a> feed.
        Another example are their Kp numbers from
        <a target="_blank" href="https://services.swpc.noaa.gov/text/wwv.txt">here</a>
        and
        <a target="_blank" href="https://services.swpc.noaa.gov/text/daily-geomagnetic-indices.txt">here</a>
        are often out of sync by half an hour or more.

        </div> <!-- different values -->




        <h3 class='accordion-faq-h3'>
             What are JD, MJD, LST, Solar and UNIX times?

        </h3>
        <div>

        <p class='pfaq' >
        These are time scales useful in various applications other than ham radio.
        They are included with HamClock because of its general role as a time keeping device.

        <ul>
            <li><b>JD</b> is Julian Date.
            It is a steady continuous time scale for marking astronomical phenomenon spanning millennia.
            The value starts at noon Jan 1 4713 BC and increments by one each day thereafter.
            The Wikipedia entry is <a target="_blank" href="https://en.wikipedia.org/wiki/Julian_day">here</a>.
            </li>

            <li><b>MJD</b> is Modified Julian Date.
            It is the same as JD but rebased to midnight Nov 17, 1858, by subtracting 2400000.5.
            This produces a more manageable number and starts each day at the more familiar midnight.
            </li>

            <li><b>LST</b> is Local Sidereal Time.
            This is the value of Right Ascension currently passing through the local meridian.
            It is used by astronomers to quickly determine what portion of the celestial sphere
            is currently visible from a given location.
            One day on this scale is about 23:56 so it slowly advances during the year compared to
            civil time.
            The Wikipedia entry is
            <a target="_blank" href="https://en.wikipedia.org/wiki/Sidereal_time">here</a>.
            </li>

            <li><b>AST</b> is Apparent Solar Time.
            It is the local time referenced from the actual location of the sun,
            not the mean location used by civil time systems.
            The difference between these two is known as the Equation of Time.
            The Wikipedia entry is <a target="_blank" href="https://en.wikipedia.org/wiki/Solar_time">here</a>.
            </li>

            <li><b>Unix time</b> is the number of seconds since Jan 1 1970 UTC, not including leap seconds.
            It was created as a simple means of determining absolute time on early UNIX operating systems.
            It remains in commom use today because of its simplicity and convenience.
            The Wikipedia entry is <a target="_blank" href="https://en.wikipedia.org/wiki/Unix_time">here</a>.
            </li>

            <li><b>Day of Year</b> is often used for research data,
            time stations, and in military planning tools.
            For example see its usage at
            <a target='_blank' href='https://nsidc.org/support/faq/day-year-doy-calendar'>NSIDC</a>,
            <a target='_blank' href='https://nrc.canada.ca/en/certifications-evaluations-standards/canadas-official-time/chu-broadcast-codes'>CHU</a>
            and the Wikipedia entry 
            <a target='_blank' href='https://en.wikipedia.org/wiki/Calendar_date#Day_and_year_only'>here</a>.
            </li>

        </ul>

        </div> <!-- time units -->



        <h3 class='accordion-faq-h3'>
             Why isn't the Idle timeout and/or the On/Off timers working?
        </h3>
        <div>

        <p class='pfaq' >
        HamClock only supports the Idle timeout and On/Off timers in the following situations:

        <ul class='big-indent' >
            <li> HamClock is running on the ESP8266.
            </li>
            <li> The display is connected to a Pi using the DSI ribbon connector or the first HDMI connector.
            </li>
            <li> The Setup setting for Full screen is Yes.
            </li>
            <li> HamClock on Pi must be using xorg, screen blanking enabled and no screen saver.
                 To check, run <code>sudo raspi-config</code> then
                 <ul>
                     <li>Advanced Options &#8658; Wayland &#8658; disabled.</li>
                     <li>Display &#8658; Screen blanking &#8658; enabled.</li>
                 </ul>
                 Then also run <code>sudo apt remove xscreensaver</code> and reboot.
            </li>
        </ul>


        </div> <!-- on/off -->




        <h3 class='accordion-faq-h3'>
             Can HamClock run on the Raspberry Pi Pico?
        </h3>
        <div>

        <p class='pfaq' >
        Maybe, but I haven't been excited enough to try for several reasons:

        <p class='pfaq' >
        <ul class='big-indent' >
            <li>
                There is no HDMI video 
                so the only display option would be the same SPI LCD used on the ESP8266 version.
                This glacial interface is the main reason it takes 30-60 seconds to render a single map view.
            </li>

            <li>
                The Pico clock speed is only 133 MHz, even slower than the ESP8266 160.
            </li>

            <li>
                The small amount of FLASH would not support OTA updates.
            </li>
        </ul>

        <p class='pfaq' >
        But if I were to try, I'd start with 
        <a target="_blank" href="https://github.com/earlephilhower/arduino-pico">this port</a>
        of the Arduino ecosystem. 
        Note this path would mimic the ESP8266 HamClock, not the RPi version.
        I'm not aware of any path to achieve the latter.

        </div> <!-- pico -->




        <h3 class='accordion-faq-h3'>
             Can HamClock be controlled via a RESTful API interface?
        </h3>
        <div>

        <p class='pfaq' >
        Yes.
         HamClock provides a
        <a target="_blank" href="https://www.tibco.com/reference-center/what-is-a-restful-api">RESTful</a>
        API scripting interface, with which it can be controlled and queried over a network.
        These commands can be sent with command line tools such as curl or wget or with a browser.
        The list of commands below is followed by several examples.

        <p class='pfaq' >
        By default, the RESTful API interface uses port 8080 but this can be changed with the -e command line
        argument. For example, to change to port 9000, run hamclock as follows:
        <pre>
        hamclock -e 9000
        </pre>

        <p class='pfaq' >

        <table border='1' style='margin-left:50px' >
        <tr>
            <th>Syntax</th>
            <th>Summary </th>
        </tr>
        <tr>
            <td class='mono'>get_capture.bmp</td>
            <td>Save screen as bmp file</td>
        </tr>
        <tr>
            <td class='mono'>get_config.txt</td>
            <td>Report current HamClock configuration settings</td>
        </tr>
        <tr>
            <td class='mono'>get_contests.txt</td>
            <td>Report current contests if that data pane has been shown</td>
        </tr>
        <tr>
            <td class='mono'>get_de.txt</td>
            <td>Report DE info</td>
        </tr>
        <tr>
            <td class='mono'>get_dx.txt</td>
            <td>Report DX info</td>
        </tr>
        <tr>
            <td class='mono'>get_dxspots.txt</td>
            <td>Report current list of DX cluster spots</td>
        </tr>
        <tr>
            <td class='mono'>get_livespots.txt</td>
            <td>Report current Live Spots list, if active (not ESP)</td>
        </tr>
        <tr>
            <td class='mono'>get_livestats.txt</td>
            <td>Report current Live Spots stats, if active</td>
        </tr>
        <tr>
            <td class='mono'>get_ontheair.txt</td>
            <td>Report current POTA/SOTA activators, if active</td>
        </tr>
        <tr>
            <td class='mono'>get_satellite.txt</td>
            <td>Report current satellite position and passes, if defined</td>
        </tr>
        <tr>
            <td class='mono'>get_satellites.txt</td>
            <td>Show a list of all available satellites.</td>
        </tr>
        <tr>
            <td class='mono'>get_sensors.txt</td>
            <td>Generate list of BME280 sensor values, if attached</td>
        </tr>
        <tr>
            <td class='mono'>get_spacewx.txt</td>
            <td>Get last-known data pane data and age </td>
        </tr>
        <tr>
            <td class='mono'>get_sys.txt</td>
            <td>Report some basic HamClock system information</td>
        </tr>
        <tr>
            <td class='mono'>get_time.txt</td>
            <td>Report HamClock's idea of UTC</td>
        </tr>
        <tr>
            <td class='mono'>get_voacap.txt</td>
            <td>Report current band conditions percent reliability matrix, if active</td>
        </tr>
        <tr>
            <td class='mono'>set_adif?pane=[0123] (POST)</td>
            <td>Load an ADIF file using html POST in the given data pane; see example</td>
        </tr>
        <tr>
            <td class='mono'>set_alarm?state=off|armed&time=HR:MN&utc=yes|no</td>
            <td>Set daily alarm off or arm at the given DE time</td>
        </tr>
        <tr>
            <td class='mono'>set_auxtime?format=[one_from_menu]</td>
            <td>Set the auxiliary time format (beneath UTC)</td>
        </tr>
        <tr>
            <td class='mono'>set_bmp?pane=[123][&none]</td>
            <td>Load a BMP file using html POST in the given data pane; see example</td>
        </tr>
        <tr>
            <td class='mono'>set_cluster?host=xxx&port=yyy</td>
            <td>Set a different DX cluster node</td>
        </tr>
        <tr>
            <td class='mono'>set_debug?name=xxx&level=n</td>
            <td>Set the given debug subsystem level to n</td>
        </tr>
        <tr>
            <td class='mono'>set_defmt?fmt=[one_from_menu]&atin=RSAtAt|RSInAgo</td>
            <td>Set DE pane time format to one of its menu choices, and rise/set if All info</td>
        </tr>
        <tr>
            <td class='mono'>set_displayOnOff?on|off</td>
            <td>Turn display on or off</td>
        </tr>
        <tr>
            <td class='mono'>set_displayTimes?on=HR:MN&off=HR:MN&day=[Sun..Sat]&idle=mins</td>
            <td>
            Set display on and off DE times for the specified day, or today if not specified.
            <br>
            DOW is Sun..Sat. Optionally set display idle time (not saved on per-day basis).
            </td>
        </tr>
        <tr>
            <td class='mono'>
                set_livespots?spot=of|by&what=call|grid&show=maxdist|count
                <br>
                &nbsp;&nbsp; &data=psk|wspr|rbn&age=mins&bands=all|160,......
            </td>
            <td>Change Live Spots configuration
            </td>
        <tr>
        <tr>
            <td class='mono'>set_mapcenter?lng=X
            </td>
            <td>Set a new center for the Mercator or Robinson map; not persistent across restarts.
            </td>
        <tr>
            <td class='mono'>set_mapcolor?setup=name&color=R,G,B
            </td>
            <td>Set one of the Setup map colors. Color may be 0..255 RGB or common color
            <br>
            names (leave blank for list).
            </td>
        </tr>
        <tr>
            <td class='mono'>set_mapview?Style=S&Grid=G&Projection=P&RSS=on|off&Night=on|off
            </td>
            <td>Change 1 or more map settings. S, G and P must match View menu text exactly.
            </td>
        </tr>
        <tr>
            <td class='mono'>set_newde?grid=AB12&lat=X&lng=Y&call=AA0XYZ</td>
            <td>Define a new DE call and location using grid or lat+long</td>
        </tr>
        <tr>
            <td class='mono'>set_newdx?grid=AB12&lat=X&lng=Y</td>
            <td>Define a new DX location using grid or lat+long</td>
        </tr>
        <tr>
            <td class='mono'>set_once_alarm?state=off|armed&time=YYYY-MM-DDTHR:MN&tz=DE|UTC</td>
            <td>Set the one-time alarm off or arm at the given DE or UTC time</td>
        </tr>
        <tr>
            <td class='mono'>
                set_pane?Pane[123]=<i>X,Y,Z... any set from:</i>
                <p class='mono' style='margin-left:10px' >
                   VOACAP DE_Wx DX_Cluster DX_Wx Solar_Flux Planetary_K Moon
               <br>
                   NOAA_SpcWx Sunspot_N X-Ray SDO Solar_Wind DRAP Contests
               <br>
                   Live_Spots Bz_Bt POTA SOTA ADIF Aurora
            </td>
            <td>Set the specified data pane 1-3 content, if allowed. </td>
        </tr>
        <tr>
            <td class='mono'>
                set_pane?Pane0=<i>X,Y,Z... any set from:</i>
                <p class='mono' style='margin-left:10px' >
                    DX_Cluster ADIF Contests POTA SOTA off
            </td>
            <td>Set the specified plot data pane 0 content, if allowed. </td>
        </tr>
        <tr>
            <td class='mono'>set_panzoom?pan_x=X&pan_y=Y&pan_dx=dX&pan_dy=dY&zoom=Z</td>
            <td>Set map zoom and/or absolute or delta pan. Pan X [-330,330] Y [-165,165].
        </tr>
        <tr>
            <td class='mono'>set_rotator?state=[un]stop|[un]auto&az=X&el=X</td>
            <td>Control rotator, if data pane is visible and connection is established.</td>
        </tr>
        <tr>
            <td class='mono'>set_rss?reset|add=X|network|interval=secs|on|off|file (POST)</td>
            <td>Control RSS including local titles; see examples below.</td>
        </tr>
        <tr>
            <td class='mono'>set_satname?abc|none</td>
            <td>Select satellite from built-in list, or none</td>
        </tr>
        <tr>
            <td class='mono'>set_sattle?name=abc&t1=line1&t2=line2</td>
            <td>Define a satellite using TLE values</td>
        </tr>
        <tr>
            <td class='mono'>set_screenlock?lock=on|off</td>
            <td>Control screen lock</td>
        </tr>
        <tr>
            <td class='mono'>set_senscorr?sensor=76|77&dTemp=X&dPres=Y</td>
            <td>Set the given BME280 temperature and/or pressure correction in current units</td>
        </tr>
        <tr>
            <td class='mono'>set_stopwatch?reset|run|stop|lap|countdown=mins</td>
            <td>Stopwatch commands</td>
        </tr>
        <tr>
            <td class='mono'>set_time?change=delta_seconds</td>
            <td>Change time by the given number of +- seconds. </td>
        </tr>
        <tr>
            <td class='mono'>set_time?ISO=YYYY-MM-DDTHH:MM:SS</td>
            <td>Set UTC to the given time</td>
        </tr>
        <tr>
            <td class='mono'>set_time?Now</td>
            <td>Set UTC to current time from NTP or gpsd</td>
        </tr>
        <tr>
            <td class='mono'>set_time?unix=secs_since_1970</td>
            <td>Set UTC to the given UNIX time</td>
        </tr>
        <tr>
            <td class='mono'>set_title?call|title|onair=[text]&fg=R,G,B&bg=R,G,B|rainbow</td>
            <td>call=& sets call sign colors (text is ignored); onair=text& sets ON AIR text
            <br>
            and/or colors; title=text& sets alternate text and/or colors or off if empty.
            <br>
            Optional colors may be 1-255 RGB triple or common names (leave blank for list).
            </td>
        </tr>
        <tr>
            <td class='mono'>set_touch?x=X&y=Y</td>
            <td>Virtually touch screen coordinate X, Y; scaled to 800 x 480: must lie outside map</td>
        </tr>
        <tr>
            <td class='mono'>
                set_voacap?band=X&power=W&tz=DE|UTC&mode=X&map=REL|TOA|OFF&TOA=X
            </td>
            <td>Set VOACAP model parameters. X values same as VOACAP DE-DX data pane.
            </td>
        </tr>
        <tr>
            <td class='mono'>exit</td>
            <td>tells HamClock to exit (not ESP)</td>
        </tr>
        <tr>
            <td class='mono'>live.html</td>
            <td>page with which HamClock can be controlled from a browser (not ESP)</td>
        </tr>
        <tr>
            <td class='mono'>restart</td>
            <td>Restart HamClock</td>
        </tr>
        <tr>
            <td class='mono'>updateVersion</td>
            <td>Check for new version and update if found</td>
        </tr>
        <tr>
            <td class='mono'><i>any command not recognized</i></td>
            <td>Show this help</td>
        </tr>
        </table>

        <p>

        <p class='pfaq' >
        Examples; change the IP to match your hamclock host address.

        <p class='pfaq' >
        Get the current clock UTC time:
        <pre>
        curl 'http://192.168.7.101:8080/get_time.txt'
        </pre>

        <p class='pfaq' >
        Set display to turn on Wednesday at 8 AM and off at 10 PM, DE time, with 10 minutes idle time:
        <pre>
        curl 'http://192.168.7.101:8080/set_displayTimes?on=8:00&off=22:00&day=Wed&idle=10'
        </pre>

        <p class='pfaq' >
        Set a new DE location from latitude and longitude:
        <pre>
        curl 'http://192.168.7.101:8080/set_newde?lat=40.7&lng=-74'
        </pre>

        <p class='pfaq' >
        Save the current display to a file named hcscreen.bmp:
        <pre>
        curl 'http://192.168.7.101:8080/get_capture.bmp' > hcscreen.bmp
        </pre>

        <p class='pfaq' >
        Specify an earth satellite with its TLE:
        <br><em>Note 1:</em> This TLE will be out of date by the time you read this, it is shown just as an example of proper syntax.
        <br><em>Note 2:</em> This elaborate curl syntax is required whenever the payload includes spaces.
        See User Contrib #13 for a small script that helps with this curl syntax.
        <pre>
        curl --get 'http://192.168.7.101:8080/set_sattle' --data-urlencode 'name=ISS&t1=1 25544U 98067A   21320.06051688  .00001570  00000+0  37172-4 0  9998&t2=2 25544  51.6441 311.7573 0004586 201.9414 260.8823 15.48581357312130'
        </pre>

        <p class='pfaq' >
        Set satellite to ISS and report current ephemeris with respect to DE:
        <pre>
        curl 'http://192.168.7.101:8080/set_satname?ISS'
        </pre>

        <p class='pfaq' >
        Set Live Spots to report spots made by DE call using wspr on 40, 30 and 20m
        <pre>
        curl 'http://192.168.7.101:8080/set_livespots?spot=by&what=call&data=wspr&bands=40,30,20
        </pre>

        <p class='pfaq' >
        Set Pane 3 to rotate through NOAA Space weather, X-Ray flux and DRAP trend:
        <pre>
        curl 'http://192.168.7.101:8080/set_pane?Pane3=Space_Wx,X-Ray,DRAP'
        </pre>

        <p class='pfaq' >
        Toggle the screen lock padlock:
        <pre>
        curl 'http://192.168.7.101:8080/set_touch?x=224&y=132'
        </pre>

        <p class='pfaq' >
        Change call sign to say "Welcome Visitors" white on red
        (requires expanded curl because of embedded blank):
        <pre>
        curl --get 'http://192.168.7.101:8080/set_title' --data-urlencode 'title=Welcome Visitors&fg=255,255,255&bg=red'
        </pre>

        <p class='pfaq' >
        ... then restore normal call sign:
        <pre>
        curl 'http://192.168.7.101:8080/set_title?call='
        </pre>

        <p class='pfaq' >
        Change map to Azimuthal projection with Countries style and RSS on, leaving Grid unchanged:
        <pre>
        curl 'http://192.168.7.101:8080/set_mapview?RSS=on&Projection=Azimuthal&Style=Countries'
        </pre>

        <p class='pfaq' >
        Turn off RSS network feed and clear the local title list:
        <pre>
        curl 'http://192.168.7.101:8080/set_rss?reset'
        </pre>

        <p class='pfaq' >
        Turn off RSS network feed and add one RSS title to local list:
        <pre>
        curl --get 'http://192.168.7.101:8080/set_rss' --data-urlencode 'add=This is a new RSS title'
        </pre>

        <p class='pfaq' >
        Turn off RSS network feed and load a file containing up to 15 lines into the RSS title list:
        <pre>
        curl --data-binary '@mytitles.txt' 'http://192.168.7.101:8080/set_rss?file'
        </pre>

        <p class='pfaq' >
        Restore normal network RSS operation:
        <pre>
        curl 'http://192.168.7.101:8080/set_rss?network'
        </pre>


        <p class='pfaq' >
        Load the ADIF file named myfile.adi and select ADIF in data pane 2 (center pane).
        <pre>
        curl --data-binary '@myfile.adi' 'http://192.168.7.101:8080/set_adif?pane=3'
        </pre>

        <p class='pfaq' >
        Load the BMP file named myimage.bmp in data pane 3 (right pane).
        <pre>
        curl --data-binary '@myimage.bmp' 'http://192.168.7.101:8080/set_bmp?pane=3'
        </pre>

        <ul style='margin-left: 50px' >
            <li>
                To create suitable bmp files from png consider using the netpbm tools as follows:
<pre>
    sudo apt install netpbm
    pngtopam myimage.png | pamscale -width=160 | ppmtobmp -bpp 24 -windows > myimage.bmp
</pre>
            </li>
            <li>
                The magic value 160 is for HamClock built as 800x480; use 320, 480 or 640 if
                built as 1600x960, 2400x1440 or 3200x1920, respectively.
            </li>
            <li>
                HamClock does not store the image.
                After the image is loaded, HamClock will continue updating the target pane as before
                which will eventually overwrite the loaded image.
                To maintain the image indefinitely, reload it faster than the updates.
            </li>
        </ul>

        <p class='pfaq' >
        Resume pane 3 normal usage
        <pre>
        curl 'http://192.168.7.101:8080/set_bmp?pane=3&none'
        </pre>


        <p class='pfaq' >
        Set map grid color to yellow:
        <pre>
        curl 'http://192.168.7.101:8080/set_mapcolor?setup=Map_grid&color=yellow'
        </pre>

        </div> <!-- RESTful -->





        <h3 class='accordion-faq-h3'>
             Can I run more than one instance of HamClock at the same time?
        </h3>
        <div>

        <p class='pfaq' >
        Yes but you must arrange that they each use different ports and working directories
        so they do not interfere with each other.

        You do this using these command line switches when you start each hamclock:
        <ul class='big-indent'>
            <li>
                <code>-e</code> sets a different REST API port
            </li>
            <li>
                <code>-w</code> sets a diffrrent web port
            </li>
            <li>
                <code>-d</code> sets a different working directory
            </li>
        </ul>

        <p class='pfaq' >
        For example, to run hamclock using port 9080 for the RESTful API, 9081 for the web interface and
        /tmp/hamclock2 for the working directory, start hamlock as follows:

        <pre>
        hamclock -e 9080 -w 9081 -d /tmp/hamclock2
        </pre>

        <p class='pfaq' >
        If you don't need one or both of the networking options,
        specify port -1 to turn either one off completely.

        <p class='pfaq' >
        Type <code>hamclock -help</code> for a full list of switches and their
        respective default values.

        </div> <!-- multiple hamclocks -->



        <h3 class='accordion-faq-h3'>
             Can you make an option that shows the map full size?
        </h3>
        <div>

        <p class='pfaq' >
        In theory, yes, but given the current internal software architecture this would be very difficult.

        <p class='pfaq' >
        A key difficulty is that HamClock has no menu bar.
        This means there would be no way to control features that currently use the surrounding panes which,
        when you think about it, is almost everything.
        And adding a menu bar would require changing the internal structure of the program so completely
        it might as well become a separate program.

        <p class='pfaq' >
        Another challenge would be the need for yet another set of map resolutions.
        This means all the various map styles (MUF, Auroras, Weather, etc etc) would all need to be
        generated at the new resolutions for each of the four basic build sizes.
        Generating the maps on demand is already the single highest load on my backend server, so adding
        more sizes would further increase this load.

        <p class='pfaq' >
        So again, yes it's possible because HamClock is afterall "just" software,
        but for now it's well beyond my available resources.

        </div> <!-- full screen map-->





        <h3 class='accordion-faq-h3'>
             Can I use a USB-I2C bridge to access I2C peripherals via USB on my linux system?
        </h3>
        <div>

        <p class='pfaq' >
        Yes.
        HamClock supports two choices:
        the generic CH341T available from several places online
        and both the full and mini bridges from
        <a target="_blank" href="https://i2cdriver.com">i2cdriver.com</a>.

        <ol>

            <li>

                The i2cdriver bridge is by far the easier of the two to use.

                <ol>
                    <li>
                    Plug the bridge into a USB socket and connect the BME280 or other I2C
                    devices supported by HamClock to the bridge. 
                    </li>

                    <li>
                    In a terminal, type <code>ls /dev/cu.usbserial*</code>.
                    Look for a new entry that appears only when the bridge is installed.
                    </li>

                    <li>
                    Start HamClock and go to Setup page 4.
                    Enter the full path in the I2C field.
                    </li>

                    <li>
                    Click Done and let HamClock finish booting.
                    </li>
                </ol>

            </li>

            <li>

                The CH341T is more work.

                <ol>
                    <li>
                    Download the linux driver from
                    <a target="_blank" href="https://github.com/gschorcht/i2c-ch341-usb">https://github.com/gschorcht/i2c-ch341-usb</a>.
                    You need this because even though standard linux already includes a CH341 driver,
                    it only supports the tty capability of the chip, not the I2C.
                    </li>
                    
                    <li> 
                    Edit <code>i2c-ch341-usb.c</code> line 660 from
    <pre>   
        ch341_dev->irq_descs[i] = irq_to_desc(ch341_dev->irq_base + i);
    </pre>      
                    to
    <pre>   
        ch341_dev->irq_descs[i] = irq_data_to_desc(irq_get_irq_data(ch341_dev->irq_base + i));
    </pre>  
                    </li>
                
                    <li>
                    Now follow the build and install instructions on the github site.
                    </li>

                    <li>
                    Run <code>lsmod</code> and check that <code>i2c_ch341_usb</code> module is installed.
                    </li>

                    <li>
                    Attach your BME280 to the CH341 and plug it into a USB port.
                    I find that using a USB 3 port is much more reliable than a USB 2 port.
                    </li>

                    <li>
                    Run <code>ls /dev</code> and confirm there is a node of the form <code>i2c-N</code>,
                    where N is some number.
                    </li>

                    <li>
                    Run <code>sudo i2cdetect -y N</code> and confirm it shows the I2C address of your BME280,
                    either 77 or 76.
                    </li>

                    <li>
                    Start HamClock and go to Setup page 4.
                    Turn on the I2C field and enter the full path you found above.

                    <li>
                    Click Done and let HamClock finish booting.
                    </li>
                </ol>

            </li>

        </ol>

        <p class='pfaq' >
        The devices function the same as if connected via the native I2C bus,
        although substantially slower.

        <p class='pfaq' >
        Note the native RPi I2C header pins and these USB bridges can not work at the same time.

        </div> <!-- USB-I2C -->




        <h3 class='accordion-faq-h3'>
             Why does the time stall occasionally?
        </h3>
        <div>

        <p class='pfaq' >
        It is because HamClock is only a single thread of execution so it can only do one thing at a time.
        Thus, if the network connection
        is slow everything hangs during file downloads and it can't update the time digits.
        HamClock tries to reduce this effect by reading in fairly small chunks and
        updating the time after each chunk completes, but it can still look jerky.

        <p class='pfaq' >
        Note the stalling does not affect the accuracy of the internal time keeping because that
        uses a hardware interrupt, so time proceeds apace regardless of the display.

        </div> <!-- stalling -->





        <h3 class='accordion-faq-h3'>
             How accurate is HamClock weather data?
        </h3>
        <div>

        <p class='pfaq' >
        The accuracy of the reports depends on several factors.

        <ul>
            <li>
                The data plan I have with 
                <a target="_blank" href="https://openweathermap.org">Open Weather Map</a>
                provides updates at least every two hours and uses a grid
                spacing of about ten miles.
                They do offer plans that provide much shorter delays and smaller grids but I am not willing
                to pay for them just for HamClock.
            </li>

            <li>
                Some of their data comes from models, not actual measurements.
                This allows them to appear to offer seamless global coverage even in areas that
                clearly could not have any measuring capabilities, but at the risk of modeling errors.
            </li>

            <li>
                HamClock queries for weather using the latitude and longitude given for DE.
                So the more accurate you specify your location, the better will be the results.
            </li>
        </ul>

        </div> <!-- weather -->




       <h3 class='accordion-faq-h3'>
             Can I copy a configuration to another computer?
        </h3>
        <div>

        <p class='pfaq' >
        Yes, but first a little background.

        <p class='pfaq' >
        Each instance of HamClock needs its own working directory for supporting files.
        By default this is <code>$HOME/.hamclock</code> (note the leading dot).
        One file therein is called <code>eeprom</code> which contains all the configuration settings.
        This file is used a lot at runtime so dont change it while hamclock is running.

        <p class='pfaq' >
        So, to copy a hamclock configuration from computer A to B:
        <ul class='big-indent'>
            <li>create or use an existing directory $HOME/.hamclock on B</li>
            <li>copy the file eeprom from A to B in said directory</li>
        </ul>

        <p class='pfaq' >
        You dont have to copy any of the other files in the directory,
        they take care of themselves automatically.
        And, again, dont perform this copy while a hamclock is running on either system.

        <p class='pfaq' >
        If you would like to keep multiple configurations on the same computer,
        use the command line option <code>-d</code> to specify some other working directory.
        Hamclock will create the specified directory if it doesnt already exist.
        So for example, to use a separate working directory for someone with a call W9ABC,
        they could run hamclock like this:

        <pre>
        hamclock -d $HOME/.hamclock-w9abc
        </pre>

        <p class='pfaq' >
        You can even run several hamclocks at the same time on the same machine, see FAQ 43 and
        User Contrib item 12.

        </div> <!-- multi config -->





        <h3 class='accordion-faq-h3'>
             Can I control HamClock with just a keyboard (no mouse)?
        </h3>
        <div>

        <p class='pfaq' >
        Almost on the native GUI interface, definitely not on ESP8266 or the web browser interface.

        <p class='pfaq' >
        The reason for "almost" is that the HamClock window must have what's called the "focus"
        in order for it to receive any keyboard events,
        and usually the only way to do that is to click the mouse once inside the HamClock window!
        The only way around this catch I know of is that most window managers have options such
        as "focus follows mouse" or "focus on new windows" which may help if you can find them.

        <p class='pfaq' >
        But once HamClock has the focus then <i>yes indeed</i>,
        it can be completely controlled from the keyboard as follows:

        <ul class='big-indent' >
            <li> <code>hjkl</code> or <code>arrow keys</code> move the red arrow cursor
                 left-down-up-right (same as the vi editor)
            </li>
            <li> accompanying these with <code>shift</code> and/or <code>control</code> will
                 multiply the step size by 2 and/or 4, respectively
            </li>
            <li> <code>space</code> or <code>Enter</code> will do the same as a mouse click
                 at the current cursor location
            </li>
            <li> accompanying these with <code>shift</code> and/or <code>control</code> will
                 function as a long hold
            </li>
            <li> If you enter a menu then:
                <ul>
                    <li> <code>hjkl</code> or <code>arrow keys</code> will navigate the items as a matrix
                    </li>
                    <li> <code>space</code> will toggle selections
                    </li>
                    <li> <code>Enter</code> will function as "Ok"
                    </li>
                    <li> <code>ESC</code> will function as "Cancel".
                    </li>
                </ul>
            </li>
        </ul>

        <p class='pfaq' >
        <i>Historical note:</i>
        Even though keyboard cursor control has been available by default for a long time,
        <i>starting with version 3.01 it will require that you start hamclock with the <code>&#x2011y</code>
        command line option.</i>
        I decided to disable it by default because too many people are laying things on their keyboard
        causing it to repeat endlessly, which sends zillions of commands to my server for hours on end
        without their realizing it.
        Note that &#x2011y only applies to cursor control;
        the Setup pages and menus continue to work the same as always with or without &#x2011y.

        </div> <!-- keyboard -->





        <h3 class='accordion-faq-h3'>
             How can I connect the photocell to an RPi hamclock?
        </h3>
        <div>

        <p class='pfaq' >
        You can not connect an actual photocell directly to an RPi because it has no ADC input.

        <p class='pfaq' >
        But you can connect an LTR-329 light sensor via I2C.
        I use 
        <a target="_blank" href="https://www.adafruit.com/product/5591">this breakout from Adafruit</a>.
        HamClock supports connecting it directly to the I2C pins 3 and 5 on the RPi 40 pin header,
        or using the USB-I2C bridge from
        <a target="_blank" href="https://i2cdriver.com">i2cdriver.com</a>.
        The bridge has the advantage that it will work on any UNIX system with a USB port,
        such as linux or macOS desktops.
        It even works on the RPi too, if you find USB to be more convenient than using the 40 pin header.

        <p class='pfaq' >
        Once connected, the I2C light sensor supports the same HamClock functions as the photocell.
        See page 8 of the User Guide.

        <p class='pfaq' >
        Note you can use the BME280 environment sensor in this manner also, see FAQ 45.

        <p class='pfaq' >
        Unfortunately, I have not managed to get the native RPi I2C pins and the i2cdriver to work
        at the same time.
        So you must use one or the other for both BME280 and the LTR-392 light sensor.

        </div> <!-- pi photocell -->





        <h3 class='accordion-faq-h3'>
             Why am I getting slow responses or lots of connection errors?
        </h3>
        <div>

        <p class='pfaq' >
        HamClock needs a good internet connection so check that first.
        For example check that <code>ping clearskyinstitute.com</code>
        reports no dropped packets and round-trip times of about 50 ms or better.
        On WiFi, check that your RSSI is at least -60 or above
        (HamClock reports the RSSI just below your call sign).
        Even with a good signal, you might have local RF interference being created by other devices
        or appliances.
        If in doubt, consider moving your HamClock closer to your WiFi router with a clear line-of-site.

        <p class='pfaq' >
        If the network looks good, it might be my server has blocked your public IP address.
        As HamClock becomes more popular, it seems to be inevitable it will also
        attract a few who want to ruin it for the many and that is indeed the case.

        <p class='pfaq' >
        To combat this, I have implemented a monitor on my server that temporarily
        blocks any IP that makes rapid repeated connections.
        I can tune the parameters but as of Jan 2024 the rate threshold is faster than 
        one contact every four seconds sustained for a period of five minutes.
        Once blocked the IP will remain blocked, regardless of its contact rate,
        for three hours.

        <p class='pfaq' >
        There is no legitimate HamClock usage that will cause a block but a few times
        I have found someone has a stuck keyboard or mouse button
        which causes HamClock to repeatedly make queries over and over.

        <p class='pfaq' >
        If you feel you have been unfairly caught in my trap,
        feel free to make your case in an email to me at
        <a target="_blank"
            href='mailto:ecdowney@clearskyinstitute.com?subject=HamClock'>
            ecdowney@clearskyinstitute.com</a>.

        </div> <!-- blocked ip -->





        <h3 class='accordion-faq-h3'>
             Can I assign a password to certain sensitive commands?
        </h3>
        <div>

        <p class='pfaq' >
        Yes, but first an important warning:

        <p class='pfaq' >
        <b>I MAKE NO CLAIMS AS TO THE EFFECTIVENESS OF THIS FEATURE AND I ACCEPT NO RESPONSIBILITY
        IF IT IS BREACHED AND YOUR SYSTEMS ARE COMPROMISED. USE AT YOUR OWN RISK</b>.

        <p class='pfaq' >
        To assign a password to certain potentially sensitive operations within HamClock 
        run it with the <code>-p</code> option,
        followed by the name of a text file containing pairs of categories and passwords.
        The file must be formatted according to the following rules:
        <ul class='big-indent' >
            <li>Empty lines and those beginning with # are ignored.</li>
            <li>All other lines must begin with a category
                followed by one or more spaces or tabs,
                then all remaining characters define its password,
                including any embedded spaces.
            </li>
            <li>Categories may appear in any order.</li>
            <li>Categories not in the file, or if misspelled, behave as if no password is required.</li>
            <li>Categories and passwords are both case sensitive </li>
            <li>The categories available as of HamClock V3.05 are:
            <br>
            <code>
                changeUTC exit newde newdx reboot restart setup shutdown unlock upgrade</li>
            </code>
        </ul>

        <p class='pfaq' >
        For example, if a text file named
        <code>hamclock_passwords.txt</code> contains the following:
        <pre>
        # my hamclock passwords
        shutdown ^&%@JJH78
        unlock my unlock password
        </pre>

        <p class='pfaq' >
        then enable the two passwords by running hamclock as:
        <pre>
        hamclock -p hamclock_passwords.txt
        </pre>

        <p class='pfaq' >
        Implementation notes:
        <ul class='big-indent' >
            <li>
                As each password is read from the file,
                it is immediately hashed using a 32 bit CRC then the memory
                containing the password is reset to a fixed value.
                The hamclock process stores only this CRC value, not the plain text.
            </li>
            <li>
                Passwords entered in the GUI are hashed with the same algorithm and considered a match
                if the CRC values agree.
                The plain text passwords themselves are never compared.
            </li>
            <li>
                Of course the passwords still exist long term in the file specified with <code>-p</code>.
                <br>
                IT IS THE RESPONSIBILITY OF THE SYSTEM ADMINISTRATOR TO SET
                ACCESS RIGHTS FOR THIS FILE
                AND TAKE OTHER STEPS AS NECESSARY TO PROTECT IT
                ACCORDING TO THE DESIRED SECURITY GOALS.
            </li>
            <li>
                These passwords do <i>not</i> apply to RESTful commands nor to 
                commands engaged automatically via Demo mode.
            </li>
            <li>
                The list of categories can not be changed by the user. 
                <a
                    target="_blank"
                    href='mailto:ecdowney@clearskyinstitute.com?subject=HamClock'>
                    Send me a note
                </a>
                if you would like to suggest additional categories.
            </li>
        </ul>

        
        </div> <!-- passwords -->




        <h3 class='accordion-faq-h3'>
             When I select a VOACAP DE-DX map why does it not stay visible?
        </h3>
        <div>

        <p class='pfaq' >
        Because it has been added to, and is rotating with, other map styles that are already selected.

        <p class='pfaq' >
        As stated in the release notes, version 4.04 allows multiple background maps to be selected
        at the same time which then cycle, much the same as the data panes.
        So when you click VOACAP DE-DX for a REL or TOA map, it gets <i>added to</i> the current style list.
        Since they cycle, this causes the new map to appear to come and go.

        <p class='pfaq' >
        The solution is just to turn off the map styles you don't want.

        <p class='pfaq' >
        Now you might ask why HamClock doesn't just turn off all the other styles.
        The reason is that doing so creates the opposite problem of styles that had been manually selected
        mysteriously turning off, which is considered to be worse.

        
        </div> <!-- VOACAP DE-DX -->





        <h3 class='accordion-faq-h3'>
             Why are the VOACAP maps showing poor propagation everywhere?
        </h3>
        <div>

        <p class='pfaq' >
        Either the band you are showing really is pretty much shut down for some reason
        or because you have set HamClock to compute the long path.

        <p class='pfaq' >
        You can toggle between long and short path by clicking LP/SP in the lower right
        corner of the DX panel or in the VOACAP DE-DX data pane.

        </div> <!-- VOACAP blank -->




        <h3 class='accordion-faq-h3'>
             Why am I not seeing web pages open?
        </h3>
        <div>

        <p class='pfaq' >
        It depends on your configuration; take a look through these ideas:
        <ul class='big-indent' >

            <li>When running HamClock on a local display,
                it may be necessary to first start a browser by hand;
                HamClock is not always able to start one by itself.
            </li>

            <li>When running HamClock on a local display,
                HamClock runs <code>xdg-open</code> on most systems (all but macOS),
                so this helper program must be installed.
                See the Desktop tab for package name suggestions.
            </li>

            <li>
                When running HamClock remotely via ssh,
                it may attempt to display the page on the system on which HamClock is running, 
                or it may attempt to start a new browser pointed back to the display from which ssh originated.
                It's not easy to predict which.
            </li>

            <li>When running HamClock in a browser, popups must be enabled.
                The details for doing this vary but the setting is usually in a section
                labelled Privacy or Security.
            </li>

            <li>In order to get biography pages for DX Cluster and On The Air spots you must
                first choose a source in Setup page 5.
            </li>

        </ul>

        </div> <!-- no open -->



        <h3 class='accordion-faq-h3'>
             Can I use the little Raspberry Pi Zero for HamClock?
        </h3>
        <div>

        <p class='pfaq' >
        Yes, HamClock will run on any of the Pi Zero models, although somewhat more slowly of course.

        <p class='pfaq' >
        The challenge is not <i>running</i> HamClock, it's <i>building</i> it, especially if using a
        64 bit system, because the compiler uses so much memory. 
        One way to address this is to add a swap file.
        Do that by running the following commands first, then proceed with the installation:

        <pre>
        sudo fallocate -l 2G /var/swapfile
        sudo chmod 600 /var/swapfile
        sudo mkswap --label myswap /var/swapfile
        sudo swapon /var/swapfile
        </pre>

        </div> <!-- Pi Zero -->




        <h3 class='accordion-faq-h3'>
             How much data does HamClock use?
        </h3>
        <div>

        <p class='pfaq' >
        Maps require the most data.
        When HamClock is built for 800x480 each map is 436 KB (kilobytes).
        The maps scale by build <u>area</u> so maps for 1600x960 are <u>4x</u> this size and so on.

        <p class='pfaq' >
        Countries and Terrain are downloaded once, that's it;
        DRAP is downloaded every 5 minutes; MUF_RT every 15; Aurora and Weather every 30;
        all VOACAP maps every 45.

        <p class='pfaq' >
        Selecting multiple map styles for rotation does not effect these numbers because the maps are
        cached locally until they need updating.

        <p class='pfaq' >
        Note that some maps will require an immediate update if they depend on DX or DE and these are changed.
        The MUF-VCAP map is updated immediately whenever DE is changed.
        The VOACAP DE-DX TOA maps are updated immediately when first selected for each band and then
        again whenver DE is changed;
        the REL map is also updated for each band and whenever either DE or DX are changed.

        <p class='pfaq' >
        The data panes require less.
        The SDO images are 87 KB each when built for 800x480; again these scale by area for larger builds.
        The SDO image is refreshed every 30 minutes.
        On a very busy contest weekend the DX Cluster pane my download 100 KB/hr, otherwise much less.
        The other panes may require something like 10 KB/hr.

        <p class='pfaq' >
        So, for example, if you build 1600x960, select DRAP and Aurora maps, then you will download
        (436x4) x (60/5) x (60/30) = 41,800 KB every hour plus whatever is needed for selected panes.
        These maps are not dependent on DE or DX so changing these will not require map updating.
        Or if you just select the Countries map alone, it is never updated so just a small
        amount of data is used to update the panes.

        </div> <!-- data usage -->




        <h3 class='accordion-faq-h3'>
             What is the history of HamClock?
        </h3>
        <div>

        <p class='pfaq' >
        The HamClock program began back in 2015 on the ESP8266 microprocessor in C++ with an 800x480 LCD touch
        screen. I used the Adafruit drawing libraries for all graphics. Since the ESP has only 80k RAM,
        all image processing was relegated to a backend server and image pixels were painted immediately as
        they arrived; there was no room for any kind of local backing store. Being a monolithic environment,
        the program was just an infinite loop of checking for touch screen events and drawing. All coordinates
        were native to the LCD.

        <p class='pfaq' >
        Later as a first attempt to move HamClock to the Raspberry Pi, I wrote a drop-in replacement for
        the Adafruit library that maintained the same API methods but instead of writing pixels to the LCD
        the pixels were written to the raw frame buffer accessed as /dev/fb0. Raw keyboard events were
        collected from /dev/tty1 and raw mouse events from /dev/input. All drawing methods had to be
        reimplemented from scratch, for example using the famous Bresenham algorithm for drawing lines.
        Even the cursor has to be home-made, which is why HamClock to this day uses its own red arrow cursor.
        A new collection of fonts were also created and hidden within the Adafruit methods. This all worked
        out very well and is still the most efficient of all HamClock implementations for the RPi.

        <p class='pfaq' >
        Later still I wrote another drop-in replacement for the Adafruit library that implemented display
        with X11 Windows and reading its mouse and keyboard events. Again, no X11 drawing 
        functions were used, HamClock just continued to render the "LCD" as always but the porting
        layer was actually updating a memory array that was sent to the X client as a full screen bitmap
        once every 50 ms. For efficiency, only pixels that changed were sent over the wire. This worked
        surprisingly well with still no changes needed at all to the main program.

        <p class='pfaq' >
        Later still I decided to try for higher screen resolutions. Drawing coordinates were still 800x480
        but I built higher res images for the earth maps, VOACAP models, data panes etc. Since all images
        are created on my backend server, I could not afford to generate arbitrary sizes on the fly so
        I decided to support only three more sizes of 2x 3x and 4x the sizes needs for 800x480. These
        higher res images were still positioned to 800x480 precision but drawn to high resolution.

        <p class='pfaq' >
        This worked well for the images but at larger screen sizes the 800x480 graphics drawing and fonts
        started to look pretty jagged. So for the first time I broke the Adafruit API by adding "raw"
        drawing methods such as drawLineRaw that worked in native coordinates. This fixed the drawing jaggies
        but the fonts were still just getting integer expanded. So following the same idea as the image
        sizes, I designed four new fonts, one for each of the four integer sizes.
        The font names are exactly the same regardless of size in order to hide from the main program
        that it is actually loading different font resolutions depending on the make build size.
        The fonts ended up looking pretty nice, although they are still always positioned to 800x480 accuracy.

        <p class='pfaq' >
        Later still I added a web server that reads the same backing array already maintained for X11
        but instead sends it to the web server as one large pixmap image, again only sending changed
        pixels. Browser events are sent back to hamclock, still using 800x480 coordinates. The client
        html is just a small page of javascript.


        </div> <!-- history -->



        <h3 class='accordion-faq-h3'>
             Does HamClock save all DX Cluster spots to a file?
        </h3>
        <div>

        <p class='pfaq' >
        Not to a separate file, but they are saved in the HamClock diagnostics file exactly
        as received from the cluster server except they are prefixed with a time stamp and module ID.
        For example, the follow command will show all spots from the currently running hamclock program:

        <pre>
        grep 'DXC: < DX de' ~/.hamclock/diagnostic-log.txt | cut -c 20-
        </pre>

        </div> <!-- dx spots -->




        <h3 class='accordion-faq-h3'>
             My question is not here, where can I get help?
        </h3>
        <div>

        <p class='pfaq' >
        Send me a note at
        <a target="_blank" href='mailto:ecdowney@clearskyinstitute.com?subject=HamClock'>ecdowney@clearskyinstitute.com</a> but beware:

        <ol class='big-indent' >
            <li> Be polite or your email will simply be discarded.
            </li>
            <li> If you installed or purchased HamClock using someone else's instructions,
                 contact them, not me.
            </li>
        </ol>

        <p class='pfaq' >
        If you are submitting a bug report, always include:

        <ol class='big-indent' >
            <li>HamClock version </li>
            <li>platform: ES8266 or UNIX/linux platform, distro and version </li>
            <li>a clear and concise statement of what you expected to see ... </li>
            <li> ... what you actually see ... </li>
            <li> ... and instructions for how to reproduce the unexpected result.
        </ol>

        <p class='pfaq' >
        If using any UNIX system, also include the following as you feel might be helpful:
        <ul class='big-indent' >
            <li>which <code>make</code> target you built </li>
            <li>display screen size and video type such as DSI or HDMI </li>
            <li>whether you are using VNC or a web connection</li>
            <li>whether you are using GUI in Full-screen mode</li>
            <li>pertinent Setup settings </li>
        </ul>

        <p class='pfaq' >
        Thank you. Your coorperation will help us both find a resolution to your issue more quickly.

        </div>    <!-- help -->

        </div>    <!-- accordion-faq -->

    </div>    <!-- tab-faq -->


    <div id='tab-contrib'>

        <p>

        All contributed scripts referred to below are available in this
        <a target="_blank" href='hamclock-contrib.zip'>zip file</a>


        <!-- accordions. all must be in one div, then each must be surrounded by h3/div -->

        <div id='accordion-contrib' >


        <h3 class='accordion-contrib-h3' >
             Tips for Executing and Displaying HamClock on Windows 10
        </h3>
        <div>

        <p class='pfaq' >
        Contributed by Joeri van Dooren, ON3URE

        <ol>
            <li> In windows download <a target="_blank" href="https://sourceforge.net/projects/vcxsrv">
                https://sourceforge.net/projects/vcxsrv</a> </li>
            <li> Install; choose single windows </li>
            <li>
                 <a target="_blank" href="https://www.digitalocean.com/community/tutorials/how-to-install-the-windows-subsystem-for-linux-2-on-microsoft-windows-10">In Windows install WSL2 with ubuntu.</a>
            </li>
            <li> Start wsl.exe </li>
            <li> sudo apt update </li>
            <li> sudo apt -y install g++ libx11-dev wget </li>
            <li> wget https://www.clearskyinstitute.com/ham/HamClock/ESPHamClock.zip </li>
            <li> unzip ESPHamClock.zip </li>
            <li> cd ESPHamClock </li>
            <li> make hamclock-800x480 </li>
            <li> sudo make install </li>
            <li> export DISPLAY=:0 </li>
            <li> /usr/local/bin/hamclock </li>
        </ol>

        </div>  <!-- Win10 -->




        <h3 class='accordion-contrib-h3' >
             More tips for Executing and Displaying HamClock on Windows 10 and 11
        </h3>
        <div>

        <ul>
            <li>
                Contributed by Thanasis, M7SYR
                <br>
                <a target="_blank" href="hamclock-contrib/HamClock Windows10.txt">HamClock Windows10.txt</a>
            </li>

            <li>
                Contributed by Manos, SV1DAY
                <br>
                Display corrupted, solution suggested
                <a target="_blank" href="https://github.com/microsoft/wslg/issues/1148">here</a>.
                <p>
                Summary:
<pre>
In a nutshell, I created a new, text file at %USERPFILE% directory (in my case it is C:\Users\sv1da)
with filename .wslgconfig and I put inside this file the setting described in this article, that is
the following:

    [system-distro-env]
    ;disable GPU in system-distro
    LIBGL_ALWAYS_SOFTWARE=1

I restarted the Ubuntu and then SUCCESS! No graphic corruption anymore!

My O/S is Windows 11 Pro 23H2
Ubuntu is 22.04.3 LTS
WSL (Windows Subsystem for Linux) is 2.0.9.0
</pre>
            </li>
        </ul>

        </div>  <!-- Win10-11 -->





        <h3 class='accordion-contrib-h3' >
             Automating qrz page from spots
        </h3>
        <div>

        <p class='pfaq' >
        Contributed by Hans Klausmann, DL5RAZ

        <p class='pfaq' >
        see dl5raz.py.


        </div> <!-- dl5raz --> 





        <h3 class='accordion-contrib-h3' >
             Script to simplify sending web commands from command line
        </h3>
        <div>

        <p class='pfaq' >
        Script by Barry, N0NZ

        <p class='pfaq' >
        Documentation <a target="_blank" href="hamclock-contrib/hcmd.py.docx">here</a>.

        </div>  <!-- N0NZ -->






        <h3 class='accordion-contrib-h3' >
             Script to read and write the eeprom config file
        </h3>
        <div>

        <p class='pfaq' >
        Contributed by Elwood Downey, wb0oew@arrl.net

        <p class='pfaq' >
        Someone asked if they could edit the <code>eeprom</code> config file.
        Normally no, but since I enjoy writing perl,
        I couldn't resist writing <code>hceeprom.pl</code> to do exactly that.
        You can download it within the contrib collection
        <a target="_blank" href='hamclock-contrib.zip'>here</a>.

        <p class='pfaq' >
        Save the script anywhere in your PATH and make it executable as usual.
        The script needs to know the directory containing the source files
        and the path to the eeprom file.
        By default these are assumed to be the current directory and
        <code>~/.hamclock/eeprom</code>, respectively,
        but these can be changed with the <code>-s</code> and <code>-e</code> options.
        Run the script with no args or <code>--help</code> for a complete usage summary.

        <p class='pfaq' >
        Note well: you are hacking a file not intended for human consumption, so you can easily
        mess things up.
        There's no validation checking whatsoever, so you could go right ahead and 
        set preposperous values such as a longitude of 10000 or
        inconsistent values such as a lat/long that doesn't match the grid square sending HamClock
        into unexplored territory.
        Save a copy of eeprom before starting, or remove it then run HamClock so it will
        build a new one containing all defaults.
        Never edit the file while HamClock is running because HamClock often updates it, but only reads it
        once when starting up.
        You have been warned.

        <p class='pfaq' >
        What ever, let's try it! Here are some examples:

        <p class='pfaq' >
        Read the call sign:
        <pre>
        hceeprom.pl NV_CALLSIGN
        NV_CALLSIGN = WB0OEW
        </pre>

        <p class='pfaq' >
        Set a new call sign:
        <pre>
        hceeprom.pl NV_CALLSIGN AB1XYZ
        NV_CALLSIGN = AB1XYZ
        </pre>

        <p class='pfaq' >
        Set the DX cluster host:
        <pre>
        hceeprom.pl NV_DXHOST usdx.w1nr.net
        NV_DXHOST = usdx.w1nr.net
        </pre>

        <p class='pfaq' >
        Set DX spots to show as full call sign
        <pre>
        hceeprom.pl NV_MAPSPOTS 2
        NV_MAPSPOTS = 2
        </pre>

        <p class='pfaq' >
        Set the BME280 at I2C address 77 temperature correction:
        <pre>
        hceeprom.pl NV_TEMPCORR2 -0.23
        NV_TEMPCORR2 = -0.23
        </pre>

        </div>  <!-- hceeprom.pl --> 







        <h3 class='accordion-contrib-h3' >
             Script to query for any space weather datum
        </h3>
        <div>

        <p class='pfaq' >
        Contributed by Elwood Downey, wb0oew@arrl.net

        <p class='pfaq' >
        This script <code>hcgetsw.sh</code> queries HamClock for the most recent value of any space weather
        data it provides.
        Run the script with -help for a complete list.

        </div>  <!-- hcgetsw script -->








        <h3 class='accordion-contrib-h3' >
             Script to send any RSS feed to HamClock
        </h3>
        <div>

        <p class='pfaq' >
        Contributed by Elwood Downey, wb0oew@arrl.net

        <p class='pfaq' >
        HamClock does not allow setting individual RSS feeds, see FAQ 20 for the reason why.
        But this script uses the web-based RSS title loading facility <code>set_rss</code> to read any
        RSS feed and load its titles into HamClock.

        <p class='pfaq' >
        To use the script, just give it the host name (or IP) of your HamClock followed by the full URL
        of the RSS to load.
        For example:

        <pre>
        hcrss.pl 192.168.7.117 https://www.arrl.org/news/rss
        </pre>

        </div>  <!-- hcrss script -->





        <h3 class='accordion-contrib-h3' >
             Instructions for macOS dual screen
        </h3>
        <div>

        <p class='pfaq' >
        Contributed by AL7CR.

        <p class='pfaq' >
        These settings allow a full screen Hamclock with no menu or borders on one display
        and a fully useable Mac desktop on the other.
        Tested on XQuartx 2.7.11 under High Sierra 10.13.6.
        The steps are:

        <ol>
            <li>
            Set "Displays have separate spaces"  otherwise running HamClock will cause the second screen
            to be black whether or not it is set to full screen mode.
            </li>

            <li>
            Set "Assign to Display" to the desired display.  This is done by right clicking the
            XQuartz icon in the dock and selecting the desired display.
            This option only appears if you have multiple displays.
            </li>

            <li>
            Autohide Dock and Menubar as for a single screen.
            Note that this setting is system wide and not per screen as you might expect.
            </li>

            <li>
            And the key point, in XQuartz preferences disable full screen mode.
            If this is not done Hamclock will disappear when it's window loses the system focus.
            Command-Option-A will make it reappear however you will not be able to work in
            one screen with Hamclock in the other unless XQuartz full screen is disabled.
            </li>

        </ol>
 
        </div>  <!-- macOS dual screen script -->






        <h3 class='accordion-contrib-h3' >
             Arch User Repository
        </h3>
        <div>

        <p class='pfaq' >
        Contributed by KJ7RRV.

        <p class='pfaq' >
        HamClock is available in the
        <a target="_blank" href="https://aur.archlinux.org">Arch User Repository</a>
        <a target="_blank" href="https://aur.archlinux.org/packages?O=0&K=hamclock">here</a>.
        The package names are:

        <ul>
            <li>
            hamclock (800x480)
            </li>

            <li>
            hamclock-big (1600x960)
            </li>

            <li>
            hamclock-bigger (2400x1440)
            </li>

            <li>
            hamclock-huge (3200x1920)
            </li>
        </ul>

        </div>  <!-- arch -->





        <h3 class='accordion-contrib-h3' >
             Running HamClock on ProxMox
        </h3>
        <div>

        <p class='pfaq' >
        Contributed by NI2O.

        <p class='pfaq' >
        <a target="_blank" href="hamclock-contrib/HamClock%20on%20ProxMox.pdf">This pdf</a>
        shows how to configure HamClock to operate in an LXC container on a ProxMox server.

        </div>  <!-- proxmox -->





        <h3 class='accordion-contrib-h3' >
            Compile HamClock statically so it will run on <i>e.g.</i> TrueNAS.
        </h3>
        <div>

        <p class='pfaq' >
        Contributed by M1JKL.

        <p class='pfaq' >
        <a target="_blank" href="https://www.truenas.com/">TrueNAS</a>
        allows you to run Docker containers and VMs of all sorts; in my
        case, all I wanted to do was to run Hamclock as a service and hence it
        seemed a massive overkill to go down the VM/Docker route - hundreds of
        MB of installed space used up for a simple executable.

        <p class='pfaq' >
        So this is what I did:

        <ol>
            <li>

                edit the Makefile to say CXX = g++ -static

            </li>
            <li>

                run make with the hamclock configuration of your choice e.g.
<pre>
make -j 4 hamclock-web-1600x960
</pre>

            </li>
            <li>

                copy the resulting hamclock executable to your truenas
                directory of choice, maybe in your home and make it executable

            </li>
            <li>

                go to ~/ and check it runs
<pre>
$ ./hamclock
</pre>

            </li>
            <li>

                Truenas natively contains tmux which is a terminal multiplexer,
                so running something like
<pre>
$ tmux ./hamclock
</pre>
                allows you to close the truenas login session whilst detaching from the
                still-running hamclock.

            </li>
        </ol>

        <p class='pfaq' >
        I did this a few weeks ago so the description above is from memory.
        Anyone with a bit of linux knowledge (I have almost none!) will work out
        a more elegant approach to establish it as a true service by using
        things like init.d or /etc/rc.local.


        </div>  <!-- static truenas -->





        <h3 class='accordion-contrib-h3' >
            Web proxy to control multiple independent web hamclocks from the same URL
        </h3>
        <div>

        <p class='pfaq' >
        Contributed by WB0OEW.

        <p class='pfaq' >
        Suppose you wanted to provide one URL for club members to access HamClock
        from anywhere they could access a browser. 
        You could start one HamClock and publish its live web connection directly
        but as soon as more than one person connected they would interfere and things
        will get confusing and frustrating pretty quickly.

        <p class='pfaq' >
        This little program solves that by functioning as a multiplexing proxy.
        It listens to the same port 8081 as a real HamClock, but runs a separate
        instance of hamclock for each IP reported by connecting browsers.

        <p class='pfaq' >
        To give it a try, extract the program from the
        contrib collection mentioned at the top of this tab.
        The entire program is self-contained in a single file named <code>hcwebproxy.cpp</code>.
        Also, since the hamclocks that the proxy will run are only useful on the web,
        it is recommended to build a web-only hamclock just for use by the hcwebproxy.
        If this is how you normally build hamclock anyway then you can continue to use that one.

        <p class='pfaq' >
        Putting it all together, assuming you want to use a different hamclock just for
        hcwebproxy, the procedure might go something like this:
        <pre>
        cd ~
        curl -O 'https://clearskyinstitute.com/ham/HamClock/hamclock-contrib.zip'
        unzip hamclock-contrib.zip
        cd hamclock-contrib
        make hcwebproxy
        sudo make install
        cd ~/ESPHamClock
        make hamclock-web-1600x960
        sudo mv hamclock-web-1600x960 /usr/local/bin
        sudo chown root /usr/local/bin/hamclock-web-1600x960
        sudo chmod u+s /usr/local/bin/hamclock-web-1600x960
        hcwebproxy -d ./hcwebproxy-hamclocks -h hamclock-web-1600x960 -i 240 -m 3 -v -- -t 50 > x.hcwp &
        </pre>

        <p class='pfaq' >
        <i>The main reason for escalating to root privilege is to allow remote updates.
        See FAQ 19 for more information.</i>

        <p class='pfaq' >
        Now surf to the usual URL such as <code>http://<i>your-host</i>:8081/live.html</code>
        and you should get a new HamClock.

        <p class='pfaq' >
        Try these additional tests to understand different use cases:
        <ul style="margin-left:40px" >
            <li>
                Open another tab on the same browser to the same URL and you will share
                the same HamClock because the browser is reporting the same IP.
                Any changes in one tab will be immediately reflected in the other.
                You can have as many connections as desired open at the same time.
            </li>
            <li>
                Now close all connection tabs then open a new connection to the same URL.
                You will be reconnected to the same instance already running because
                the browser reports the same IP.
            </li>
            <li>
                Open the URL from a different computer and you will get a
                completely new HamClock with default settings, different from
                the instance from the first computer.
                Opening additional connections will connect to the same instance.
                Also see the note below regarding NAT routers.
            </li>
        </ul>

        <p class='pfaq' >
        Futher notes:
        <ul style="margin-left:40px" >
            <li>
                This requires running HamClock version 2.91 or newer.
            </li>
            <li>
                Remember that all computers behind a NAT router connecting to a public IP
                will report as coming from the same public IP of the NAT.
                Thus, they will all share the same hamclock instance.
            </li>
            <li>
                Many simultaneous running hamclocks can be a large system load,
                so consider using the <code>-m</code> option to limit the maximum number accordingly.
                The default is 10 processes.
                Attempts to connect when this maximum has been reached will result in 
                a brief informative message.
                Also see -i, next.
            </li>
            <li>
                If the -m limit is reached when a new connection is attempted, hamclock processes
                that have been idle longer than <code>-i</code> hours are eligible for reassignment to handle
                the new connection. The default is 24 hours.
            </li>
            <li>
                Another way to mitigate high system load is to throttle back the maximum CPU usage
                for each HamClock.
                This is controlled by HamClock's own <code>-t</code> option which you can set
                using hcwebproxy's <code>--</code> option.
                Note well that this will reduce the responsiveness of each hamclock so use wisely.
                For example, to limit each hamclock to no more than 20% CPU:
    <pre>
    hcwebproxy -h hamclock-web-1600x960 -- -t 20 &
    </pre>
            </li>
            <li>
                Since more than one HamClock may well be running on the same host, note well that the
                features that use external hardware should only be activated on at most one at a time.
                This refers to everything on the last page of User Guide.
                HamClock itself tries to enforce single access but beware of this limitation.
            </li>
            <li>
                I actually find this so useful that I now always use this to access HamClock running
                on my RPi even if I just run one hamclock.
                Reason being that the hamclock processes are sleeping when I am not
                connected and the Pi runs much cooler most of the time.
                Plus it's super handy to check propagation conditions and my WSPR reports using
                my iPhone when away from the shack.
            </li>
            <li>
                If something goes terribly wrong, hcwebproxy will try to kill all the hamclock
                processes it knows about before it exits.
                To investigate why, run hcwebproxy again with <code>-v</code> for debug info
                and try to reproduce the problem. Send me the log if it seems like a bug.
            </li>
            <li>
                Even if hcwebproxy dies and all hamclocks get killed, their settings will be restored
                after a restart because all hamclock working directories are stored in separate 
                directories named by the connection IP. The directory in which these are created
                can be set with the <code>-d</code> option, the default is
                <code>$HOME/hcwebproxy-hamclocks</code>.
            </li>
            <li>
                Since all hamclock instances share the same program file, when any one of them performs a
                remote update, all subsequent hamclocks will use the newer version as well.
                Thus, after one hcwebproxy client does an update, merely <i>restarting</i> the others
                will update them also without requiring an actual <i>update</i>.
            </li>
            <li>
                Normally hcwebproxy disables the RESTful API ports on the hamclocks it starts because
                it is awkward to find the one you want. 
                Nevertheless, if this is important for your use case, you can use the
                <code>-a</code> option to assign each hamclock its own RESTful API port. 
                The port numbers are assigned sequentially starting with the value given with -a.
                No attempt is made to avoid ports already in use by other applications so choose wisely.
                The problem remains how to know which hamclock is using which port; this is
                left as an exercise for the reader.
            </li>
            <li>
                You can see what hcwebproxy is doing with a shell command such as:
    <pre>
    ps ax | egrep 'hamclock|hcwebproxy' | grep -v egrep
    </pre>
                The processes with status T are sTopped.
            </li>
        </ul>

        </div>  <!-- multi hamclock proxy -->



        <h3 class='accordion-contrib-h3' >
            Script to simplify running curl
        </h3>
        <div>

        <p class='pfaq' >
        Contributed by WB0OEW.

        <p class='pfaq' >
        Copy/paste the following into a file named <code>hccurl</code> and use
        it to send commands to hamclock that require embedded spaces.
<pre>
#!/bin/bash
# run curl with spaces

if [ $# -lt 3 ] || [ $# -gt 4 ] ; then
    echo Purpose: curl wrapper for sending hamclock commands with or without embedded spaces
    echo Usage: hccurl host port command '[value]'
    echo Example set: hccurl 192.168.7.101 8080 set_title "'"'msg=Welcome Visitors&fg=255,255,255&bg=red'"'"
    echo Example get: hccurl 192.168.7.101 8080 get_config.txt
else
    HOST="$1"
    PORT="$2"
    CMD="$3"
    if [ $# -eq 3 ] ; then
        curl --get "http://$HOST:$PORT/$CMD"
    else
        VALU="$4"
        curl --get "http://$HOST:$PORT/$CMD" --data-urlencode "$VALU"
    fi
fi

</pre>

        </div>  <!-- multi hamclock proxy -->




        <h3 class='accordion-contrib-h3' >
            Install HamClock using Docker
        </h3>
        <div>

        <ul>

            <li>

                Contributed by Julius, DO7JZ.

                <p>
                I've got no Pi but servers and Linux machines.
                So I thought, I'd create an easy way to run HamClock using Docker, exposing it as a website.
                The code and instructions can be found at
                    <a target="_blank" href="https://github.com/zeidlos/hamclock-docker">
                        https://github.com/zeidlos/hamclock-docker</a>.

                <p>
                I have not tested it on Windows, but potentially it'll run in WSL2.
                Works fine on my MacBook as well as my Linux-Server.
                I'm pretty sure it's an easy way to install/run on Raspberry Pi,
                or NAS Systems that support Docker/Docker-Compose as well.

                <p>
                73

            </li>

            <li>
                Contributed by Chris, NZ6F

                <p>
                A complete docker implementation with supporting information is at
                    <a target="_blank" href="https://github.com/ChrisRomp/hamclock-docker">
                        https://github.com/ChrisRomp/hamclock-docker</a>.

            </li>
        </ul>


        </div>  <!-- Docker -->




        <h3 class='accordion-contrib-h3' >
            Connect HamClock with N3FJP logger
        </h3>
        <div>

        <p class='pfaq' >
        Contributed by Chris, NZ6F

        <p class='pfaq' >
        <a target="_blank" href="https://github.com/ChrisRomp/n3fjp2hamclock">N3FJP2HamClock</a>
        is a Windows application to synchronize HamClock with the call sign entry
        field in N3FJP logger applications.
        This application connects to the N3FJP API server, and when you tab out of the call sign field,
        it will update your HamClock(s) with the DX of the entered call.

        </div>  <!-- N3FJP2HamClock -->


        <h3 class='accordion-contrib-h3' >
            How to install and run HamClock on Android
        </h3>
        <div>

        <p class='pfaq' >
        Contributed by Todd, N9MWB

        <p class='pfaq' >
        Install UserLAnd on your android device from the play store.

        <p class='pfaq' >
        Start UserLAnd and create a new Debian App.  Select:
<pre>
        Desktop environment: Minimal
        Connection Type: Graphical
        Orientation: either
</pre>

        <p class='pfaq' >
        You can also choose Ubuntu or probably another app, but the instruction will be slightly different.
        These instructions have worked fine for me with Debian.

        <p class='pfaq' >
        I recommend using a vnc viewer such as RealVNC from my laptop/desktop once you have your UserLAnd
        session started.
        On the device, when the UserLAnd session comes up, click outside the terminal window and select
        the keyboard icon.
        Click on the terminal window and run vncpasswd and set the vnc password to something you'll remember.
        Then from a regular computer where you have a vnc viewer installed (I used RealVNC's viewer),
        vnc into the UserLAnd session.
        You might have to install net-tools and get your UserLAnd session's IP address,
        although it should be the same as the devices IP address.
        Then connect to ip-address:5951.
        At this point, you should be ready to install hamclock into your UserLAnd session.

        <p class='pfaq' >
        For Debian

<pre>
        sudo apt update -y
        sudo apt upgrade -y
        sudo apt-get -y install curl make g++ libx11-dev libgpiod-dev zip
        cd
        rm -fr ESPHamClock
        curl -O http://www.clearskyinstitute.com/ham/HamClock/ESPHamClock.zip
        unzip ESPHamClock.zip
        cd ESPHamClock
        make -j 4 hamclock-800x480     (or 1600x960 or 2400x1440 or 3200x1920 depending upon the screen resolution of your device.
        sudo make install
        hamclock
</pre>

        <p class='pfaq' >
        You can now either use hamclock via vnc or connect with a browser to ip-address:8081/live.html

        </div>  <!-- Android -->






        <h3 class='accordion-contrib-h3' >
            Show weather station data as an RSS feed
        </h3>
        <div>

        <p class='pfaq' >
        Contributed by Mark, G7LTT/NI2O 

        <p class='pfaq' >
        <a target="_blank" href='hamclock-contrib/AddWeeWxRSSfeedtoHamclock.pdf'>Add WeeWX RSS feed to Hamclock.pdf</a>


        </div>  <!-- Weather RSS -->





        </div>  <!-- accordion-contrib -->


    </div>      <!-- tab-contrib -->



    <div id='tab-esp'>

        <!-- accordions. all must be in one div, then each must be surrounded by h3/div -->

        <p class='pfaq' >
        The ESP8266 HamClock has reached end of life.
        The last release was version 3.10.
        Thanks to everyone for participating.

        <p class='pfaq' >
        Version 3.10 source code and User Guide are still available 
            <a target='_blank' href='ESPHamClock-V3.10.zip'>here</a>
            and
            <a target='_blank' href='HamClockKey-3.10.pdf'>here</a>.

        <p class='pfaq' >
        Consider using the UNIX/Linux model for all new builds.

        <div id='accordion-esp' >

        <h3>
             Building the ESP8266 software
        </h3>
        <div>

        <ol>
            <li>Install the Arduino IDE from 
                <a target="_blank" href='https://www.arduino.cc/en/main/software'>here</a>.
                I am currently using version 1.8.16.
            </li>

            <li>Open <b>Preferences</b>.
            In the field labeled <b>Additional Boards Manager URLs</b> copy/paste
            the following line then click <b>Ok</b>:
<pre>
    http://arduino.esp8266.com/stable/package_esp8266com_index.json
</pre>
            <li>Open <b>Tools &#8594; Boards &#8594; Boards Manager </b> </li>

            <li>Search for "esp8266"</li>

            <li>Select version 2.7.4 then click <b>Install</b> -- <i>do NOT use any of the 3.0 series</i>.

            <li>Open <b>Tools &#8594; Manage Libraries</b>, set <b>Type</b> and <b>Topic</b> to <b>All</b>,
            then search for and install the following libraries and versions. 
            Other versions may work but these are the versions I am using now.
                <ul>
                    <li> Adafruit GFX (all), version 1.10.2 </li>
                    <li> Adafruit Unified Sensor, version 1.1.4 </li>
                    <li> Adafruit BME280, version 2.1.1 </li>
                    <li> Adafruit RA8875 (only), version 1.4.0 </li>
                    <li> Adafruit LTR329 and LTR303, version 2.0.0 </li>
                    <li> Adafruit MCP23017, version 2.3.0 </li>
                    <li> Adafruit BusIO, version 1.14.5 </li>
                    <li> Time, version 1.6.0 </li>
                </ul>

                <p>
            </li>

            <li> <b>Quit</b> and reopen the Arduino IDE </li>

            <li>
                Connect your computer to the Huzzah with a USB port
            </li>

            <li>
                Open <b>Tools &#8594; Board &#8594; ESP8266 Boards</b>
                and select <b>Adafruit Feather Huzzah ESP8266</b>
            </li>

            <li>
                Download stable HamClock release
                <a target='_blank' href='ESPHamClock-V3.10.zip'>here</a>.
                Unzip it anywhere you wish, but probably best to use the default sketch folder.
            </li>

            <li>
                Use <b>File &#8594; Open</b> and find the ESPHamClock.ino file you just unzipped.
                This will create a new project.
            </li>

            <li>
                In the IDE <b>Tools</b> menu make the following selections (click for larger view):
                <p>
                <a target='_blank' href='IDE-Settings.png'><img loading='lazy' width='200' alt='ide' src='IDE-Settings.png'></a>
                <p>
                Set the port to match the USB connection of your Huzzah.
            </li>

            <li>
                Run <b>Sketch &#8594; Verify/Compile</b> then <b>Sketch &#8594; Upload</b>
            </li>

            <li>
                Your HamClock should start running. Read the <b>User Guide</b> and have fun.
            </li>
        </ol>

        </div>    <!-- building software -->




        <h3>
             Parts and wiring
        </h3>
        <div>

        <pre>

        EP = https://www.adafruit.com/products/2821     ESP HUZZAH feather
        RA = https://www.adafruit.com/products/1590     RA8875 Display controller
        BM = https://www.adafruit.com/products/2652     BME280 Temperature, Humidity Pressure sensor
        PC = https://www.adafruit.com/product/161       CdS Photocell

        other hardware:

        https://www.adafruit.com/products/2354          7" Color TFT with touch screen
        https://www.adafruit.com/products/2098          FPC cable extension


        Wiring summary:

        EP_SCK    RA_SCK
        EP_MO     RA_MOSI
        EP_MI     RA_MISO
        EP_2      RA_CS
        EP_15     KX3 RX
        EP_16     RA_RST
        EP_USB    RA_VIN

        Optional sensor pack:

        EP_SCL    BM_SCK
        EP_SDA    BM_SDI
        EP_3V     BM_VIN

        Optional photocell:

        EP_ADC    PC_1, 330k
        EP_GND    PC_2
        EP_3V     330k

        Connect all GNDs together

        </pre>

        </div>    <!-- parts and wiring -->




        <h3>
             Using the Adafruit Huzzah breakout
        </h3>
        <div>

        <pre>
        To use Adafruit ESP Huzzah breakout: https://www.adafruit.com/products/2471

        Breakout      9" TFT                7" TFT

        16            11 = Reset            RA_RST
        2 = Blu LED   5  = CS               RA_CS
        12 = MI       6  = SDO              RA_MISO
        13 = MO       7  = SDI              RA_MOSI
        14 = SCK      8  = SCLK             RA_SCK
        15            14 = Backlight        N/C
        Vbat          3, 4, 37, 38          RA_VIN       5 V supply
        GND           1, 2, 13, 31, 39, 40  RA_GND       supply ground

        Sensor:

        5             BM_SCK
        4             BM_SDI
        3V            BM_VIN

        Photocell:

        A0            PC_1, 330k
        GND           PC_2
        Vbat          330k


        Note: To program the Huzzah breakout:
          1. Attach the 6 pin programming cable
          2. Enable programming mode: Hold GPIO0, click Reset, release GPIO0 then red LED should be on dim
          3. Proceed with programming (blue LED flickers while loading)
          4. After programming is complete, click Reset
          5. Unplug the programming cable if not needed for Serial

        </pre>

        </div>    <!-- huzzah breakout -->




        <h3>
             Using the 9" display
        </h3>
        <div>

        <p class='pfaq' >
        To use a
        <a target='_blank' href='http://www.buydisplay.com/default/9-inch-lcd-module-tft-display-w-touch-panel-i2c-serial-spi-arduino'>9" ER-TFTM090-2 from buydisplay.com</a>:

        <p class='pfaq' >
        Select these options during purchase:
            <ul>
                <li>Pin header 4 wire SPI</li>
                <li>VDD 5 V</li>
                <li>Touch panel 9" resistive</li>
                <li>Micro SD - none</li>
                <li>Font chip - none</li>
            </ul>

        <p class='pfaq' >
        This is the wiring list:

        <pre>
	    EP = ESP Huzzah
	    BM = BME280 sensor
	    PC = photo cell
	    DP = display

	    EP_SCL    BM_SCK
	    EP_SDA    BM_SDI
	    EP_3V     BM_VIN
	    EP_GND    BM_GND

	    EP_ADC    PC_1, 330k
	    EP_GND    PC_2
	    EP_3V     330k

	    EP_SCK    DP_8
	    EP_MO     DP_7
	    EP_MI     DP_6
	    EP_2      DP_5
	    EP_16     DP_11
	    EP_USB    DP_3, 4, 37, 38
	    EP_GND    DP_1, 2, 13, 31, 39, 40
        </pre>

        <p class='pfaq' >
        Pros:
            <ul>
                <li>Larger, brighter, richer colors
                </li>
                <li>Simpler wiring because <i>you do not need the RA8875 or flat cable</i>
                </li>
            </ul>

        <p class='pfaq' >
        Cons:
            <ul>
                <li>Requires a very good USB supply, at least 2 A.
                    <a target='_blank' href='https://www.adafruit.com/product/1466'>This one</a>
                    from Adafruit is known to work well.
                </li>
            </ul>

        </div>    <!-- 9" -->


        <h3>
             Stand ideas
        </h3>
        <div>


        <p class='pfaq' >
        The display stand from Adafruit can be made to work with a little ingenuity but is not perfect for the LCD.
        Send suggestions for better ideas and I will post here.
        <ul>
            <li>
                One alternative I found is
                <a target="_blank" href='https://www.youtube.com/watch?v=gE6BLNcSIvg'> this video </a>
                that suggests normal picture framing components could be used.
            </li>
            <li>
                The stand from Adafruit is actually made by
                <a target="_blank" href='https://shop.pimoroni.com'> Pimoroni </a> so I asked them
                for better suggestions. They said they know of no stand suitable for the Adafruit
                LCD but thought
                <a target="_blank" href='https://www.banggood.com/Transparent-7-Inch-LCD-Display-Screen-Housing-Bracket-For-Raspberry-Pi-7-Inch-Screen-p-1029921.html'> this one </a>
                might be pressed into service with less effort.
            </li>
            <li>
                G3XOU used this
                <a target="_blank" href='https://www.modmypi.com/raspberry-pi/screens-and-displays/screen-cases/raspberry-pi-7-touchscreen-case--plus-stand'> RPi screen support </a>
                with some assembly details
                <a target="_blank" href='http://www.modmypi.com/blog/assembly-instructions/raspberry-pi-7-touch-sreen-display-case-assembly-instructions'> here </a>.
            </li>
            <li>
                KF5LW suggests adopting this
                <a target="_blank" href='https://www.thingiverse.com/thing:1824303'> RPi screen support</a>.
                He said he 3D-printed a piece to the RPi dimensions then it worked well.
            </li>
            <li>
                W3TMC sent a 
                <a target="_blank" href='stands/W3TMC%20HamClock.JPG'>photo</a>
                of the nice looking oak stand he built.
            </li>
            <li>N2YTF did a nice job with some simple wood and a breadboard. He sent photos
                <a target="_blank" href='stands/image1.JPG'>here</a>
                and
                <a target="_blank" href='stands/image2.JPG'>here</a>.
            </li>
            <li>
                N6ROB attached the components and display to the stand with hot glue after sanding and
                wiping down with alcohol. The <a target="_blank" href='stands/n6robHamclock.jpg'>result</a>
                looks clean and efficient.
            </li>
            <li>
                N7EEK has taken a minimalist approach that works well using a $9 stand from 
                <a target='_blank' href='https://www.amazon.com/AmazonBasics-IPM-TAB1-AMZ-Adjustable-Tablet-Stand/dp/B006ZT4VA0'>Amazon</a>.
                See his photos <a target='_blank' href='stands/N7EEK/index.html'>here</a>.
            </li>
            <li>
                ON4AEY made a nice clock and sent me
                <a target='_blank' href='http://www.qsl.net/on4aey/on4aey/HamClock.html'> this link </a>
                to share.
            </li>
            <li>
                N7LVS made this 
                <a target='_blank' href='https://www.youtube.com/watch?v=LoSVq61tPK0'>YouTube video</a>
                showing his construction technique.
            </li>
            <li>
                HB9AJG shared his very nice arrangement from the
                <a target='_blank' href='stands/HB9AJG/HAMClockHB9AJGfront.JPG'>front</a>,
                <a target='_blank' href='stands/HB9AJG/HAMClockHB9AJGback.jpg'>back</a> and
                <a target='_blank' href='stands/HB9AJG/HAMClockHB9AJGshack.jpg'>in his shack</a>.
            </li>
            <li>
                HB9CEY shared his tilt stand
                <a target='_blank' href='stands/HB9CEY/SXT22265.jpeg'>front</a>,
                <a target='_blank' href='stands/HB9CEY/SXT22263.jpeg'>rear</a>,
                <a target='_blank' href='stands/HB9CEY/SXT22266.jpeg'>inside</a> and
                <a target='_blank' href='stands/HB9CEY/SXT22262.jpeg'>on display</a>.
            </li>
            <li>
                WA1TOV put his in a clear frame he found
                <a target="_blank" href="https://www.tapplastics.com/product/plastics/picture_frames/euro_sign_holders/425">here</a>. He comments:
                <i>
                The back of the display is glued to the face of the frame. You might be able to see round glue dots in the rear view photos. I used E6000 glue. To do this I had to cut a 1.5" slot in the frame to feed the ribbon through. This was done with a Dremel and cut off wheel, just working very carefully and then cleaning it up with a jeweler's file.
                </i>
                Photos:
                <a target="_blank" href="stands/WA1TOV_front.jpg">front</a>,
                <a target="_blank" href="stands/WA1TOV_side.jpg">side</a>
                and
                <a target="_blank" href="stands/WA1TOV_rear.jpg">rear</a>.
            </li>
        </ul>


        <p class='pfaq' >
        If you find your display idea works better when the cable exits from the top, there is an
        option in the Setup screen that allows you to flip the display upside down.

        <p class='pfaq' >
        Here is how I built my first two prototypes:
        <table>
            <tr>
                <td>
                    <table class='pic-table' >
                        <tr> <td>
                            <a target='_blank' href='myphotos/IMG_0293.JPG'> <img loading='lazy' alt='' style="width:350px;" src='myphotos/IMG_0293.JPG?x=1'> </a>
                        </td></tr>
                        <tr> <td>
                            <p>
                            Shack photo showing 7" version.
                        </td></tr>
                    </table>
                </td>
                <td>
                    <table class='pic-table' >
                        <tr> <td>
                            <a target='_blank' href='myphotos/IMG_0332.JPG'> <img loading='lazy' alt='' style="width:350px;" src='myphotos/IMG_0332.JPG?x=1'> </a>
                        </td></tr>
                        <tr> <td>
                            <p>
                            Rear of 7" version
                        </td></tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td>
                    <table class='pic-table' >
                        <tr> <td>
                            <a target='_blank' href='myphotos/IMG_0297.JPG'> <img loading='lazy' alt='' style="width:350px;" src='myphotos/IMG_0297.JPG?x=1'> </a>
                        </td></tr>
                        <tr> <td>
                            <p>
                            Both the 7" and 9" versions.
                        </td></tr>
                    </table>
                </td>
                <td>
                    <table class='pic-table' >
                        <tr> <td>
                            <a target='_blank' href='myphotos/IMG_0373.JPG'> <img loading='lazy' alt='' style="width:350px;" src='myphotos/IMG_0373.JPG?x=1'> </a>
                        </td></tr>
                        <tr> <td>
                            <p>
                            Rear of 9" version
                        </td></tr>
                    </table>
                </td>
            </tr>
        </table>

        </div>    <!-- stands -->

        </div>  <!-- accordion-esp' -->

    </div>    <!-- tab-esp -->

    <div id='tab-credits' >

        <p>
        HamClock would not be possible without the following resources:
        <p>

        <ul>
            <li>
                <a target='_blank' href='https://www.swpc.noaa.gov'>Space Weather Prediction Center</a>
                for several data sets:

                <ul>

                    <li><a target="_blank" href="https://services.swpc.noaa.gov/json/solar-cycle/swpc_observed_ssn.json"> Sunspot number</a>
                    </li>

                    <li><a target="_blank" href="https://services.swpc.noaa.gov/text/daily-solar-indices.txt">Solar flux monthly</a>
                        and
                        <a target="_blank" href="https://services.swpc.noaa.gov/text/wwv.txt"> current</a>
                    </li>


                    <li><a target="_blank" href="https://services.swpc.noaa.gov/json/ovation_aurora_latest.json"> Aurora</a>
                    </li>

                    <li><a target="_blank" href="https://services.swpc.noaa.gov/products/noaa-scales.json"> Scales</a>
                    </li>

                    <li><a target="_blank" href="https://services.swpc.noaa.gov/text/drap_global_frequencies.txt"> DRAP</a>
                    </li>

                    <li><a target="_blank" href="https://services.swpc.noaa.gov/json/goes/primary/xrays-3-day.json"> X-Ray</a>
                    </li>

                    <li><a target="_blank" href="https://services.swpc.noaa.gov/products/solar-wind/plasma-3-day.json"> Solar wind</a>
                    </li>

                    <li><a target="_blank" href="https://services.swpc.noaa.gov/text/daily-geomagnetic-indices.txt"> K index</a>
                    and
                    <a target="_blank" href="https://services.swpc.noaa.gov/text/3-day-solar-geomag-predictions.txt"> K and SFI forecast </a>
                    </li>

                    <li><a target="_blank" href="https://services.swpc.noaa.gov/text/ace-magnetometer.txt"> Bz and Bt</a>
                    </li>

                </ul>

            </li>


            <li>
                Jari Perkimki, Gregory Hand and Jim Watson for generous
                <a target="_blank" href="https://www.voacap.com/">VOACAP</a>
                support.
            </li>

            <li>
                DX cluster
                <a target='_blank' href="https://www.ng3k.com/misc/cluster.html">operators</a>
                and spotters the world over.
            </li>

            <li>
                <a target='_blank' href="https://www.sota.org.uk">SOTA</a>,
                <a target='_blank' href="https://pota.app">POTA</a> and
                <a target='_blank' href="https://wwff.co">WWFF</a>
                users and their respective data base maintainers.
            </li>

            <li>
                Bruce Horn, WA7BNM, for the
                <a target='_blank' href="https://www.contestcalendar.com/weeklycont.php">
                8 day context calendar</a>.
            </li>

            <li>
                <a target="_blank" href="https://www.celestrak.com">Celestrak</a>
                for timely satellite elements.
            </li>

            <li>
                NASA for
                    <a target="_blank" href="https://sdo.gsfc.nasa.gov">SDO</a>
                and
                    <a target="_blank" href="https://stereo.gsfc.nasa.gov/">STEREO</a> 
                images.
            </li>

            <li>
                <a target="_blank" href="https://nrc.canada.ca/en">National Research Council Canada </a>
                for 70 years of continuous
                <a target="_blank" href="https://www.spaceweather.gc.ca/forecast-prevision/solar-solaire/solarflux/sx-en.php">10.7 cm solar flux</a>
                data and
                Dr. Ken Tapping for his gracious support to the amateur radio community.
            </li>

            <li>
                <a target="_blank" href="https://openweathermap.org">Open Weather Map</a>
                for near-real-time world-wide weather data.
            </li>

            <li> Philip Gladstone, N1DQ, for assistance and live data from his web site
                <a target="_blank" href="http://pskreporter.info/"> PSKReport.info </a>.
            </li>

            <li> Pete Smith, N4ZR, and Felipe Ceglia, PY1NB, for their innovation and tireless
                work behind the scenes at the
                <a target="_blank" href="https://reversebeacon.net"> Reverse Beacon Network.
            </li>

            <li> Arne for assistance and live data from his site
                <a target="_blank" href="https://wspr.live"> wspr.live </a>.
            </li>

            <li> NOAO for their work on the 
                <a target="_blank" href="https://www.ncei.noaa.gov/products/world-magnetic-model"> World Magnetic Model</a>.
            </li>

            <li> Davidson Francis for his
                <a target="_blank" href="https://github.com/Theldus/wsServer"> Websocket server</a>.
            </li>

            <li>
                Andrew D. Rodland, KC2G, for providing ready access to the data behind his
                <a target='_blank' href="https://prop.kc2g.com">ionosonde map</a>
                which in turn are provided by
                <a target="_blank" href="https://prop.kc2g.com/acknowledgments">these organizations</a>.
            </li>

            <li>
                Sean Barrett for compact and easy-to-use image format writer
                <a target="_blank" href="https://github.com/nothings/stb/blob/master/stb_image_write.h">
                here</a>.
            </li>

            <li>
                Jim Reisert, AD1C, for maintaining the 
                <a target="_blank" href="https://www.country-files.com/">cty country file</a>.
            </li>

            <li>
                ITU and CQ zones based on data from
                <a target="_blank" href="https://zone-check.eu">zone-check.eu</a>.
            </li>

            <li>
                Mario, DL4MFM, for his support and assistance with data from 
                <a target="_blank" href="https://wwff.co">WWFF</a>.
            </li>

        </ul>

        <p>
        And special <b>Shoutouts</b> to
        <a target='_blank' href='https://www.adafruit.com/about'>Adafruit</a>
        and
        <a target='_blank' href='https://www.raspberrypi.org/about'>Raspberry Pi Foundation</a>
        for great products and support.

    </div>    <!-- tab-credits -->


    <div id='tab-key' >

        This is a guide to the touch controls and map symbols of HamClock.
        A <a target="_blank" href='HamClockKey.pdf'> printable PDF version </a> is also available.

        <p>

        <br>
        <img src='HamClockKey0.png?0' loading='lazy' >
        <br>
        <img src='HamClockKey1.png?1' loading='lazy' >
        <br>
        <img src='HamClockKey2.png?2' loading='lazy' >
        <br>
        <img src='HamClockKey3.png?3' loading='lazy' >
        <br>
        <img src='HamClockKey4.png?4' loading='lazy' >
        <br>
        <img src='HamClockKey5.png?5' loading='lazy' >
        <br>
        <img src='HamClockKey6.png?6' loading='lazy' >
        <br>
        <img src='HamClockKey7.png?7' loading='lazy' >
        <br>
        <img src='HamClockKey8.png?8' loading='lazy' >
        <br>
        <img src='HamClockKey9.png?9' loading='lazy' >
        <br>
        <img src='HamClockKey10.png?10' loading='lazy' >
        <br>
        <img src='HamClockKey11.png?11' loading='lazy' >
        <br>
        <img src='HamClockKey12.png?12' loading='lazy' >
        <br>
        <img src='HamClockKey13.png?13' loading='lazy' >
        <br>
        <img src='HamClockKey14.png?14' loading='lazy' >
        <br>
        <img src='HamClockKey15.png?15' loading='lazy' >
        <br>
        <img src='HamClockKey16.png?16' loading='lazy' >
        <br>
        <img src='HamClockKey17.png?17' loading='lazy' >


    </div>     <!-- tab-key' -->


    <div id='tab-desktop' >


        <p>
        HamClock may be built for Raspberry Pi, macOS,
        Ubuntu, FreeBSD, Windows WSL or most any other UNIX-like system supporting the 
        <a target="_blank" href="https://en.wikipedia.org/wiki/X_Window_System">X11 Windows system</a>.
        </p>

        <h3>
             To install HamClock on a Raspberry Pi follow these steps:
        </h3>
        <ol>
            <li>
            These instructions assume your RPi is up and running bullseye or bookworm.
            If not, first see the FAQ 4, then come back here.
            </li>

            <li>
            Open a terminal on the target system GUI desktop by clicking on the
            red Raspberry &#8594; Accessories &#8594; Terminal.
            This will give you a command line prompt for the next step.
            </li>

            <li>
            Download and run the installer script by entering the following commands
            (use copy/paste to avoid typos):
<pre>
cd
curl -O https://www.clearskyinstitute.com/ham/HamClock/install-hc-rpi
chmod u+x install-hc-rpi
./install-hc-rpi
</pre>
            </li>

            <li>
            Answer each question by typing <code>y</code> or <code>n</code> followed by <code>Enter</code>.
            </li>

            <li>
            If you chose not to install a desktop icon, you can run HamClock from the
            terminal at any time by typing this command:
<pre>
hamclock &
</pre>
            </li>

            <li>
            If no errors then that's it!
            Be sure to read the User Guide to get the most from HamClock.
            If something did go wrong, try working through the manual steps in the next section.
            </li>
        </ol>

<pre>

</pre>


        <h3>
             To install HamClock on other UNIX-like systems follow these steps:
             <br>
             <i style='font-size:10pt' >(works for RPi too if you prefer the scenic route)</i>
        </h3>
        
        <ol>
            <li>Open a terminal directly on the target system GUI desktop to get a command line prompt.

            <li>Run these commands (use copy/paste to avoid typos):
<pre>
cd
rm -fr ESPHamClock
curl -O https://www.clearskyinstitute.com/ham/HamClock/ESPHamClock.zip
unzip ESPHamClock.zip
cd ESPHamClock
make -j 4 hamclock-800x480
sudo make install
</pre>
            </li>

            <ul>

                <li>
                If you get errors:

                    <ul>
                        <li>on Raspberry Pi or other Debian try loading these packages:
    <pre>
    sudo apt-get update
    sudo apt-get -y install curl make g++ libx11-dev libgpiod-dev xdg-utils
    </pre>

                        <li>on Ubuntu try loading these packages:
    <pre>
    sudo apt install curl make g++ xorg-dev xdg-utils
    </pre>
                        </li>

                        <li>on macOS try installing
                            <a target='_blank' href='https://www.xquartz.org/releases/index.html'>XQuartz</a>
                            and
                            <a target='_blank' href='https://developer.apple.com/xcode'>Xcode</a>.
                            <p>
                            Then open <code>More developer tools</code> and install the command line tools.
                            On macOS Sequoia, you may need to run the following command line in Terminal:
                            <code>xcode-select --install</code>.
                        </li>

                        <li>on FreeBSD try loading these packages:
    <pre>
    sudo pkg install gcc xorg gmake curl
    </pre>
                        then use gmake instead of make.
                        </li>
                        <li>on RedHat or Fedora try loading these packages:
    <pre>
    sudo yum install gcc-c++ libX11-devel xdg-utils
    </pre>
     
                    </ul>
                </li>

            </ul>
            
            <li>
            Now run HamClock by typing:
<pre>
hamclock &
</pre>
            </li>

            <li>
            Be sure to read the User Guide to get the most from HamClock!
            </li>

            <li>
            To exit hamclock, click the padlock icon then choose <code>Exit hamclock</code>.
            </li>

            <li>
            The example <code>make</code> command above will build HamClock with 800x480 pixels.
            You can also make these sizes:
            <ul>
                <li><code>hamclock-1600x960</code></li>
                <li><code>hamclock-2400xx1440</code></li>
                <li> <code>hamclock-3200x1920</code></li>
            </ul>
            If you do, redo <i>both</i> make commands again, for example:
<pre>
cd ~/ESPHamClock
make -j 4 hamclock-1600x960
sudo make install
</pre>
            </li>

            <li>
            If you would like to operate HamClock from any browser on your LAN, see FAQ 14.
            </li>

            <li>
            If you would like HamClock to fill the screen, set that option on Page 5 of Setup.
            With this option HamClock will still be the same screen size you built, but 
            it will fill any surrounding gap with black so there is nothing else showing.
            If you really want HamClock to use all available screen space, see
            the FAQ 12 about xrandr.

            </li>

            <li>
            If your system is 
            <a target="_blank" href="https://www.freedesktop.org/wiki/Specifications">XDG</a> compliant
            and you would like a Desktop icon with which to start HamClock, try these commands:
<pre>
cd ~/ESPHamClock
mkdir -p ~/.hamclock
cp hamclock.png ~/.hamclock
cp -p hamclock.desktop ~/Desktop
</pre>
            </li>

            <li>
            <p>
            Similarly, if you would like HamClock to start automatically when you boot your system,
            try these commands:
<pre>
cd ~/ESPHamClock
mkdir -p ~/.config/autostart
cp hamclock.desktop ~/.config/autostart
</pre>

            <li>
            On macOS, you can turn the bare executable into a clickable App on your Desktop as follows:
    <pre>
cd ~/ESPHamClock
HCDIR=~/Desktop/HamClock.app
mkdir -p $HCDIR
echo '#!/bin/bash' > $HCDIR/HamClock
echo '/usr/local/bin/hamclock &' >> $HCDIR/HamClock
chmod u+x $HCDIR/HamClock
    </pre>
            <p>
            To give it a proper icon:
                <ol>
                    <li>open <code>hamclock.png</code> with Preview</li>
                    <li>click on the image</li>
                    <li>type &#8984;-A to select the image</li>
                    <li>type &#8984;-C to copy the image to the clipboard</li>
                    <li>right-click the new HamClock.app Desktop item and select <code>Get Info</code></li>
                    <li>click the existing default icon in the upper left corner</li>
                    <li>type &#8984;-V to paste a new icon</li>
                    <li>close Get Info</li>
                    <li>close Preview</li>
                </ol>

            <p>
            To put it in the Dock:
                <ol>
                    <li>edit the script and temporarily remove the trailing & (dock icons bounce until the parent process exits)</li>
                    <li>double-click to launch HamClock.app</li>
                    <li>while it's bouncing in the dock, right-click and select Options &#8594; Keep in Dock</li>
                    <li>exit HamClock </li>
                    <li>remember to put back the & </li>
                </ol>
            <p>
            For a little more decorum, create a bona fide app using
            <a target="_blank" href="https://github.com/sveinbjornt/Platypus">Platypus</a>.
            I tried it briefly on Big Sur and found it easy to use and worked well.
            Use the same 2-line script as above but without the & so Platypus can properly
            inform the OS when you exit HamClock.

            </li>
            

        </ol>


    </div>        <!-- tab-desktop' -->

</div>          <!-- end of tabs -->

<center>
<code>This site does not use cookies.</code>
</center>

</body>
</html>
